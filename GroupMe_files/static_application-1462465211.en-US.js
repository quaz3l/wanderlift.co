function gen(e){for(var t="",n=0;e>n;n++)t+=(0|65536*(1+Math.random())).toString(16).substring(1);return t}function Uuid(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");var t=Uuid.EMPTY;e&&e instanceof Uuid?t=Uuid.toString():e&&"[object String]"===Object.prototype.toString.call(e)&&Uuid.isUuid(e)&&(t=e),this.equals=function(e){return Uuid.isUuid(e)&&t==e},this.isEmpty=function(){return t===Uuid.EMPTY},this.toString=function(){return t},this.toJSON=function(){return t},Object.defineProperty(this,"value",{get:function(){return t},enumerable:!0})}function _handleMultipleEvents(e,t,n,r){vjs.arr.forEach(n,function(n){e(t,n,r)})}function _logType(e,t){var n,r,a;n=Array.prototype.slice.call(t),r=function(){},a=window.console||{log:r,warn:r,error:r},e?n.unshift(e.toUpperCase()+":"):e="log",vjs.log.history.push(n),n.unshift("VIDEOJS:"),a[e].apply?a[e].apply(a,n):a[e](n.join(" "))}window.ASCII_EMOJI_NAMES={en_space:"2002",em_space:"2003",four_per_em_space:"2005",double_exclamation_mark:"203c",exclamation_question_mark:"2049",tm:"2122",information_source:"2139",left_right_arrow:"2194",up_down_arrow:"2195",north_west_arrow:"2196",north_east_arrow:"2197",south_east_arrow:"2198",south_west_arrow:"2199",leftwards_arrow_with_hook:"21a9",rightwards_arrow_with_hook:"21aa",watch:"231a",hourglass:"231b",black_right_pointing_double_triangle:"23e9",black_left_pointing_double_triangle:"23ea",black_up_pointing_double_triangle:"23eb",black_down_pointing_double_triangle:"23ec",alarm_clock:"23f0",hourglass_with_flowing_sand:"23f3",circled_latin_capital_letter_m:"24c2",black_small_square:"25aa",white_small_square:"25ab",black_right_pointing_triangle:"25b6",black_left_pointing_triangle:"25c0",white_medium_square:"25fb",black_medium_square:"25fc",white_medium_small_square:"25fd",black_medium_small_square:"25fe",black_sun_with_rays:"2600",cloud:"2601",black_telephone:"260e",ballot_box_with_check:"2611",umbrella_with_rain_drops:"2614",hot_beverage:"2615",white_up_pointing_index:"261d",white_smiling_face:"263a",aries:"2648",taurus:"2649",gemini:"264a",cancer:"264b",leo:"264c",virgo:"264d",libra:"264e",scorpius:"264f",sagittarius:"2650",capricorn:"2651",aquarius:"2652",pisces:"2653",black_spade_suit:"2660",black_club_suit:"2663",black_heart_suit:"2665",black_diamond_suit:"2666",hot_springs:"2668",black_universal_recycling_symbol:"267b",wheelchair_symbol:"267f",anchor:"2693",warning_sign:"26a0",high_voltage_sign:"26a1",medium_white_circle:"26aa",medium_black_circle:"26ab",soccer_ball:"26bd",baseball:"26be",snowman_without_snow:"26c4",sun_behind_cloud:"26c5",ophiuchus:"26ce",no_entry:"26d4",church:"26ea",fountain:"26f2",flag_in_hole:"26f3",sailboat:"26f5",tent:"26fa",fuel_pump:"26fd",black_scissors:"2702",white_heavy_check_mark:"2705",airplane:"2708",envelope:"2709",raised_fist:"270a",raised_hand:"270b",victory_hand:"270c",pencil:"270f",black_nib:"2712",heavy_check_mark:"2714",heavy_multiplication_x:"2716",sparkles:"2728",eight_spoked_asterisk:"2733",eight_pointed_black_star:"2734",snowflake:"2744",sparkle:"2747",cross_mark:"274c",negative_squared_cross_mark:"274e",black_question_mark_ornament:"2753",white_question_mark_ornament:"2754",white_exclamation_mark_ornament:"2755",heavy_exclamation_mark_symbol:"2757",heavy_black_heart:"2764",heavy_plus_sign:"2795",heavy_minus_sign:"2796",heavy_division_sign:"2797",black_rightwards_arrow:"27a1",curly_loop:"27b0",double_curly_loop:"27bf",arrow_pointing_rightwards_then_curving_upwards:"2934",arrow_pointing_rightwards_then_curving_downwards:"2935",leftwards_black_arrow:"2b05",upwards_black_arrow:"2b06",downwards_black_arrow:"2b07",black_large_square:"2b1b",white_large_square:"2b1c",white_medium_star:"2b50",heavy_large_circle:"2b55",wavy_dash:"3030",part_alternation_mark:"303d",circled_ideograph_congratulation:"3297",circled_ideograph_secret:"3299",mahjong_tile_red_dragon:"1f004",playing_card_black_joker:"1f0cf",negative_squared_latin_capital_letter_a:"1f170",negative_squared_latin_capital_letter_b:"1f171",negative_squared_latin_capital_letter_o:"1f17e",negative_squared_latin_capital_letter_p:"1f17f",negative_squared_ab:"1f18e",squared_cl:"1f191",squared_cool:"1f192",squared_free:"1f193",squared_id:"1f194",squared_new:"1f195",squared_ng:"1f196",squared_ok:"1f197",squared_sos:"1f198",squared_up_with_exclamation_mark:"1f199",squared_vs:"1f19a",squared_katakana_koko:"1f201",squared_katakana_sa:"1f202",squared_cjk_unified_ideograph_7121:"1f21a",squared_cjk_unified_ideograph_6307:"1f22f",squared_cjk_unified_ideograph_7981:"1f232",squared_cjk_unified_ideograph_7a7a:"1f233",squared_cjk_unified_ideograph_5408:"1f234",squared_cjk_unified_ideograph_6e80:"1f235",squared_cjk_unified_ideograph_6709:"1f236",squared_cjk_unified_ideograph_6708:"1f237",squared_cjk_unified_ideograph_7533:"1f238",squared_cjk_unified_ideograph_5272:"1f239",squared_cjk_unified_ideograph_55b6:"1f23a",circled_ideograph_advantage:"1f250",circled_ideograph_accept:"1f251",cyclone:"1f300",foggy:"1f301",closed_umbrella:"1f302",night_with_stars:"1f303",sunrise_over_mountains:"1f304",sunrise:"1f305",cityscape_at_dusk:"1f306",sunset_over_buildings:"1f307",rainbow:"1f308",bridge_at_night:"1f309",water_wave:"1f30a",volcano:"1f30b",milky_way:"1f30c",earth_globe_asia_australia:"1f30f",new_moon_symbol:"1f311",first_quarter_moon_symbol:"1f313",waxing_gibbous_moon_symbol:"1f314",full_moon_symbol:"1f315",crescent_moon:"1f319",first_quarter_moon_with_face:"1f31b",glowing_star:"1f31f",shooting_star:"1f320",chestnut:"1f330",seedling:"1f331",palm_tree:"1f334",cactus:"1f335",tulip:"1f337",cherry_blossom:"1f338",rose:"1f339",hibiscus:"1f33a",sunflower:"1f33b",blossom:"1f33c",ear_of_maize:"1f33d",ear_of_rice:"1f33e",herb:"1f33f",four_leaf_clover:"1f340",maple_leaf:"1f341",fallen_leaf:"1f342",leaf_fluttering_in_wind:"1f343",mushroom:"1f344",tomato:"1f345",aubergine:"1f346",grapes:"1f347",melon:"1f348",watermelon:"1f349",tangerine:"1f34a",banana:"1f34c",pineapple:"1f34d",red_apple:"1f34e",green_apple:"1f34f",peach:"1f351",cherries:"1f352",strawberry:"1f353",hamburger:"1f354",slice_of_pizza:"1f355",meat_on_bone:"1f356",poultry_leg:"1f357",rice_cracker:"1f358",rice_ball:"1f359",cooked_rice:"1f35a",curry_and_rice:"1f35b",steaming_bowl:"1f35c",spaghetti:"1f35d",bread:"1f35e",french_fries:"1f35f",roasted_sweet_potato:"1f360",dango:"1f361",oden:"1f362",sushi:"1f363",fried_shrimp:"1f364",fish_cake_with_swirl_design:"1f365",soft_ice_cream:"1f366",shaved_ice:"1f367",ice_cream:"1f368",doughnut:"1f369",cookie:"1f36a",chocolate_bar:"1f36b",candy:"1f36c",lollipop:"1f36d",custard:"1f36e",honey_pot:"1f36f",shortcake:"1f370",bento_box:"1f371",pot_of_food:"1f372",cooking:"1f373",fork_and_knife:"1f374",teacup_without_handle:"1f375",sake_bottle_and_cup:"1f376",wine_glass:"1f377",cocktail_glass:"1f378",tropical_drink:"1f379",beer_mug:"1f37a",clinking_beer_mugs:"1f37b",ribbon:"1f380",wrapped_present:"1f381",birthday_cake:"1f382",jack_o_lantern:"1f383",christmas_tree:"1f384",father_christmas:"1f385",fireworks:"1f386",firework_sparkler:"1f387",balloon:"1f388",party_popper:"1f389",confetti_ball:"1f38a",tanabata_tree:"1f38b",crossed_flags:"1f38c",pine_decoration:"1f38d",japanese_dolls:"1f38e",carp_streamer:"1f38f",wind_chime:"1f390",moon_viewing_ceremony:"1f391",school_satchel:"1f392",graduation_cap:"1f393",carousel_horse:"1f3a0",ferris_wheel:"1f3a1",roller_coaster:"1f3a2",fishing_pole_and_fish:"1f3a3",microphone:"1f3a4",movie_camera:"1f3a5",cinema:"1f3a6",headphone:"1f3a7",artist_palette:"1f3a8",top_hat:"1f3a9",circus_tent:"1f3aa",ticket:"1f3ab",clapper_board:"1f3ac",performing_arts:"1f3ad",video_game:"1f3ae",direct_hit:"1f3af",slot_machine:"1f3b0",billiards:"1f3b1",game_die:"1f3b2",bowling:"1f3b3",flower_playing_cards:"1f3b4",musical_note:"1f3b5",multiple_musical_notes:"1f3b6",saxophone:"1f3b7",guitar:"1f3b8",musical_keyboard:"1f3b9",trumpet:"1f3ba",violin:"1f3bb",musical_score:"1f3bc",running_shirt_with_sash:"1f3bd",tennis_racquet_and_ball:"1f3be",ski_and_ski_boot:"1f3bf",basketball_and_hoop:"1f3c0",chequered_flag:"1f3c1",snowboarder:"1f3c2",runner:"1f3c3",surfer:"1f3c4",trophy:"1f3c6",american_football:"1f3c8",swimmer:"1f3ca",house_building:"1f3e0",house_with_garden:"1f3e1",office_building:"1f3e2",japanese_post_office:"1f3e3",hospital:"1f3e5",bank:"1f3e6",automated_teller_machine:"1f3e7",hotel:"1f3e8",love_hotel:"1f3e9",convenience_store:"1f3ea",school:"1f3eb",department_store:"1f3ec",factory:"1f3ed",izakaya_lantern:"1f3ee",japanese_castle:"1f3ef",european_castle:"1f3f0",snail:"1f40c",snake:"1f40d",horse:"1f40e",sheep:"1f411",monkey:"1f412",chicken:"1f414",boar:"1f417",elephant:"1f418",octopus:"1f419",spiral_shell:"1f41a",bug:"1f41b",ant:"1f41c",honeybee:"1f41d",lady_beetle:"1f41e",fish:"1f41f",tropical_fish:"1f420",blowfish:"1f421",turtle:"1f422",hatching_chick:"1f423",baby_chick:"1f424",front_facing_baby_chick:"1f425",bird:"1f426",penguin:"1f427",koala:"1f428",poodle:"1f429",bactrian_camel:"1f42b",dolphin:"1f42c",mouse:"1f42d",cow:"1f42e",tiger:"1f42f",rabbit:"1f430",cat:"1f431",dragon:"1f432",whale:"1f433",horse:"1f434",monkey:"1f435",dog:"1f436",pig:"1f437",frog:"1f438",hamster:"1f439",wolf:"1f43a",bear:"1f43b",panda:"1f43c",pig_nose:"1f43d",paw_prints:"1f43e",eyes:"1f440",ear:"1f442",nose:"1f443",mouth:"1f444",tongue:"1f445",white_up_pointing_backhand_index:"1f446",white_down_pointing_backhand_index:"1f447",white_left_pointing_backhand_index:"1f448",white_right_pointing_backhand_index:"1f449",fisted_hand_sign:"1f44a",waving_hand_sign:"1f44b",ok_hand_sign:"1f44c",thumbs_up_sign:"1f44d","+1":"1f44d",thumbs_down_sign:"1f44e",clapping_hands_sign:"1f44f",open_hands_sign:"1f450",crown:"1f451",womans_hat:"1f452",eyeglasses:"1f453",necktie:"1f454",t_shirt:"1f455",jeans:"1f456",dress:"1f457",kimono:"1f458",bikini:"1f459",womans_clothes:"1f45a",purse:"1f45b",handbag:"1f45c",pouch:"1f45d",mans_shoe:"1f45e",athletic_shoe:"1f45f",high_heeled_shoe:"1f460",womans_sandal:"1f461",womans_boots:"1f462",footprints:"1f463",bust_in_silhouette:"1f464",boy:"1f466",girl:"1f467",man:"1f468",woman:"1f469",family:"1f46a",man_and_woman_holding_hands:"1f46b",police_officer:"1f46e",woman_with_bunny_ears:"1f46f",bride_with_veil:"1f470",person_with_blond_hair:"1f471",man_with_gua_pi_mao:"1f472",man_with_turban:"1f473",older_man:"1f474",older_woman:"1f475",baby:"1f476",construction_worker:"1f477",princess:"1f478",japanese_ogre:"1f479",japanese_goblin:"1f47a",ghost:"1f47b",baby_angel:"1f47c",extraterrestrial_alien:"1f47d",alien_monster:"1f47e",imp:"1f47f",skull:"1f480",information_desk_person:"1f481",guardsman:"1f482",dancer:"1f483",lipstick:"1f484",nail_polish:"1f485",face_massage:"1f486",haircut:"1f487",barber_pole:"1f488",syringe:"1f489",pill:"1f48a",kiss_mark:"1f48b",love_letter:"1f48c",ring:"1f48d",gem_stone:"1f48e",kiss:"1f48f",bouquet:"1f490",couple_with_heart:"1f491",wedding:"1f492",beating_heart:"1f493",broken_heart:"1f494",two_hearts:"1f495",sparkling_heart:"1f496",growing_heart:"1f497",heart_with_arrow:"1f498",blue_heart:"1f499",green_heart:"1f49a",yellow_heart:"1f49b",purple_heart:"1f49c",heart_with_ribbon:"1f49d",revolving_hearts:"1f49e",heart_decoration:"1f49f",diamond_shape_with_a_dot_inside:"1f4a0",electric_light_bulb:"1f4a1",anger_symbol:"1f4a2",bomb:"1f4a3",sleeping_symbol:"1f4a4",collision_symbol:"1f4a5",splashing_sweat_symbol:"1f4a6",droplet:"1f4a7",dash_symbol:"1f4a8",poop:"1f4a9",flexed_biceps:"1f4aa",dizzy_symbol:"1f4ab",speech_balloon:"1f4ac",white_flower:"1f4ae",hundred_points_symbol:"1f4af",money_bag:"1f4b0",currency_exchange:"1f4b1",heavy_dollar_sign:"1f4b2",credit_card:"1f4b3",banknote_with_yen_sign:"1f4b4",banknote_with_dollar_sign:"1f4b5",money_with_wings:"1f4b8",chart_with_upwards_trend_and_yen_sign:"1f4b9",seat:"1f4ba",personal_computer:"1f4bb",briefcase:"1f4bc",minidisc:"1f4bd",floppy_disk:"1f4be",optical_disc:"1f4bf",dvd:"1f4c0",file_folder:"1f4c1",open_file_folder:"1f4c2",page_with_curl:"1f4c3",page_facing_up:"1f4c4",calendar:"1f4c5",tear_off_calendar:"1f4c6",card_index:"1f4c7",chart_with_upwards_trend:"1f4c8",chart_with_downwards_trend:"1f4c9",bar_chart:"1f4ca",clipboard:"1f4cb",pushpin:"1f4cc",round_pushpin:"1f4cd",paperclip:"1f4ce",straight_ruler:"1f4cf",triangular_ruler:"1f4d0",bookmark_tabs:"1f4d1",ledger:"1f4d2",notebook:"1f4d3",notebook_with_decorative_cover:"1f4d4",closed_book:"1f4d5",open_book:"1f4d6",green_book:"1f4d7",blue_book:"1f4d8",orange_book:"1f4d9",books:"1f4da",name_badge:"1f4db",scroll:"1f4dc",memo:"1f4dd",telephone_receiver:"1f4de",pager:"1f4df",fax_machine:"1f4e0",satellite_antenna:"1f4e1",public_address_loudspeaker:"1f4e2",cheering_megaphone:"1f4e3",outbox_tray:"1f4e4",inbox_tray:"1f4e5","package":"1f4e6",e_mail_symbol:"1f4e7",incoming_envelope:"1f4e8",envelope_with_downwards_arrow_above:"1f4e9",closed_mailbox_with_lowered_flag:"1f4ea",closed_mailbox_with_raised_flag:"1f4eb",postbox:"1f4ee",newspaper:"1f4f0",mobile_phone:"1f4f1",mobile_phone_with_rightwards_arrow_at_left:"1f4f2",vibration_mode:"1f4f3",mobile_phone_off:"1f4f4",antenna_with_bars:"1f4f6",camera:"1f4f7",video_camera:"1f4f9",television:"1f4fa",radio:"1f4fb",videocassette:"1f4fc",clockwise_downwards_and_upwards_open_circle_arrows:"1f503",speaker_with_three_sound_waves:"1f50a",battery:"1f50b",electric_plug:"1f50c",left_pointing_magnifying_glass:"1f50d",right_pointing_magnifying_glass:"1f50e",lock_with_ink_pen:"1f50f",closed_lock_with_key:"1f510",key:"1f511",lock:"1f512",open_lock:"1f513",bell:"1f514",bookmark:"1f516",link_symbol:"1f517",radio_button:"1f518",back_with_leftwards_arrow_above:"1f519",end_with_leftwards_arrow_above:"1f51a",on_with_exclamation_mark_with_left_right_arrow_above:"1f51b",soon_with_rightwards_arrow_above:"1f51c",top_with_upwards_arrow_above:"1f51d",no_one_under_eighteen_symbol:"1f51e",keycap_ten:"1f51f",input_symbol_for_latin_capital_letters:"1f520",input_symbol_for_latin_small_letters:"1f521",input_symbol_for_numbers:"1f522",input_symbol_for_symbols:"1f523",input_symbol_for_latin_letters:"1f524",fire:"1f525",electric_torch:"1f526",wrench:"1f527",hammer:"1f528",nut_and_bolt:"1f529",hocho:"1f52a",pistol:"1f52b",crystal_ball:"1f52e",six_pointed_star_with_middle_dot:"1f52f",japanese_symbol_for_beginner:"1f530",trident_emblem:"1f531",black_square_button:"1f532",white_square_button:"1f533",large_red_circle:"1f534",large_blue_circle:"1f535",large_orange_diamond:"1f536",large_blue_diamond:"1f537",small_orange_diamond:"1f538",small_blue_diamond:"1f539",up_pointing_red_triangle:"1f53a",down_pointing_red_triangle:"1f53b",up_pointing_small_red_triangle:"1f53c",down_pointing_small_red_triangle:"1f53d",clock1:"1f550",clock2:"1f551",clock3:"1f552",clock4:"1f553",clock5:"1f554",clock6:"1f555",clock7:"1f556",clock8:"1f557",clock9:"1f558",clock10:"1f559",clock11:"1f55a",clock12:"1f55b",mount_fuji:"1f5fb",tokyo_tower:"1f5fc",statue_of_liberty:"1f5fd",silhouette_of_japan:"1f5fe",moyai:"1f5ff",wink:"1f609",smiling_face_with_smiling_eyes:"1f60a",face_savouring_delicious_food:"1f60b",relieved_face:"1f60c",smiling_face_with_heart_shaped_eyes:"1f60d",smirking_face:"1f60f",unamused_face:"1f612",face_with_cold_sweat:"1f613",pensive_face:"1f614",confounded_face:"1f616",face_throwing_a_kiss:"1f618",kissing_face_with_closed_eyes:"1f61a",face_with_stuck_out_tongue_and_winking_eye:"1f61c",face_with_stuck_out_tongue_and_tightly_closed_eyes:"1f61d",disappointed:"1f61e",angry:"1f620",cry:"1f625",fearful:"1f628",sleepy:"1f62a",sob:"1f62d",cold_sweat:"1f630",scream:"1f631",astonished:"1f632",flushed:"1f633",persevere:"1f635",mask:"1f637",joy:"1f639",smile:"1f63a",heart_eyes:"1f63b",grin:"1f63c",kissing_heart:"1f63d",pouting_cat_face:"1f63e",crying_cat_face:"1f63f",weary_cat_face:"1f640",no_good:"1f645",ok_woman:"1f646",bow:"1f647",see_no_evil_monkey:"1f648",hear_no_evil_monkey:"1f649",speak_no_evil_monkey:"1f64a",hand:"1f64b",raised_hands:"1f64c",pensive:"1f64d",rage:"1f64e",pray:"1f64f",rocket:"1f680",railway_car:"1f683",bullettrain_side:"1f684",bullettrain_front:"1f685",metro:"1f687",station:"1f689",bus:"1f68c",bus_stop:"1f68f",ambulance:"1f691",fire_engine:"1f692",police_car:"1f693",taxi:"1f695",automobile:"1f697",recreational_vehicle:"1f699",delivery_truck:"1f69a",ship:"1f6a2",speedboat:"1f6a4",traffic_light:"1f6a5",construction:"1f6a7",police_cars_revolving_light:"1f6a8",triangular_flag_on_post:"1f6a9",door:"1f6aa",no_entry_sign:"1f6ab",smoking:"1f6ac",no_smoking:"1f6ad",bicycle:"1f6b2",pedestrian:"1f6b6",mens_symbol:"1f6b9",womens_symbol:"1f6ba",restroom:"1f6bb",baby:"1f6bc",toilet:"1f6bd",wc:"1f6be",bath:"1f6c0"},function(e){function t(t,a){this.element=t,this.settings=e.extend({},r,a),this._defaults=r,this._name=n,this.init()}var n="gmSlider",r={sliderWindow:".slider-window",slider:".slider",items:".switcher",itemsPerPage:"fill",currentPage:1,slideDistance:-2};t.prototype={init:function(){var t;this.$el=e(this.element),this.sliderWindow=e(this.settings.sliderWindow,this.$el),this.slider=e(this.settings.slider,this.$el),this.items=e(this.settings.items,this.$el),this.currentPage=this.settings.currentPage,this.itemsPerPage=this.calculateItemsPerPage(),this.slideDistance=this.calculateSlideDistance(),t=this.items.length*this.itemWidth+10,this.slider.width(t),this.setControls()},calculateItemsPerPage:function(){var e=0;return this.itemWidth=this.items.first().outerWidth(),e="fill"===this.settings.itemsPerPage||isNaN(this.settings.itemsPerPage)?Math.floor(this.sliderWindow.width()/this.itemWidth):1},applyMargin:function(){var e=(this.sliderWindow.width()-this.itemsPerPage*this.itemWidth)/this.itemsPerPage;this.items.css({marginRight:e/2,marginLeft:e/2}),this.itemWidth=this.items.first().outerWidth(!0)},calculateSlideDistance:function(){var e=0;return e=!this.settings.slideDistance||isNaN(this.settings.slideDistance)?this.itemsPerPage:this.settings.slideDistance<0?this.itemsPerPage+this.settings.slideDistance:this.settings.slideDistance,e*this.itemWidth},setControls:function(){this.pageCount=Math.ceil(this.slider.width()/this.slideDistance),this.prevBtn=e("<div class='slider-control prev' ng-click='prevPage'></div>").append("<i class='icon-chevron-left'></i>").hide().click(e.proxy(this.prevPage,this)).on("mousedown",function(e){e.preventDefault()}),this.nextBtn=e("<div class='slider-control next' ng-click='nextPage'></div>").append("<i class='icon-chevron-right'>").hide().click(e.proxy(this.nextPage,this)).on("mousedown",function(e){e.preventDefault()}),this.hideShowControls(),this.$el.append(this.prevBtn).append(this.nextBtn)},prevPage:function(){return 1===this.currentPage?!1:(this.currentPage--,this.changePage(),!1)},nextPage:function(){return this.currentPage===this.pageCount?!1:(this.currentPage++,this.changePage(),!1)},hideShowControls:function(){1===this.pageCount?(this.prevBtn.hide(),this.nextBtn.hide()):1===this.currentPage?(this.prevBtn.hide(),this.nextBtn.show()):this.currentPage===this.pageCount?(this.prevBtn.show(),this.nextBtn.hide()):(this.prevBtn.show(),this.nextBtn.show())},changePage:function(){var e=(this.currentPage-1)*this.slideDistance;this.slider.animate({left:e?-1*e+"px":"0px"},500),this.hideShowControls()}},e.fn[n]=function(r){return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new t(this,r))}),this}}(jQuery,window,document),function(e){"use strict";function t(t){var n,r,a=0,i=t.ownerDocument||t.document,o=i.defaultView||i.parentWindow;if("undefined"!=typeof o.getSelection){var s=o.getSelection().getRangeAt(0),u=s.cloneRange();u.selectNodeContents(t),u.setEnd(s.endContainer,s.endOffset),r=e("<div>").html(u.cloneContents()),a=r.html().length}else if((n=i.selection)&&"Control"!=n.type){var l=n.createRange(),c=i.body.createTextRange();c.moveToElementText(t),c.setEndPoint("EndToEnd",l),a=c.text.length}return a}function n(e){var t,n;document.createRange?(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(e),t.collapse(!1),t.select())}var r=function(e){var t,n;return t=function(){n=!1},function(){var r;n||(n=!0,r=a(arguments),r.unshift(t),e.apply(this,r))}},a=function(e){var t;return t=Array.prototype.slice.call(e)},i=function(){var t;return t=e("<div></div>").css(["color"]).color,"undefined"!=typeof t?function(e,t){return e.css(t)}:function(t,n){var r;return r={},e.each(n,function(e,n){r[n]=t.css(n)}),r}}(),o=function(e){return e},s=function(e){var t={};return function(n,r){t[n]?r(t[n]):e.call(this,n,function(e){t[n]=(t[n]||[]).concat(e),r.apply(null,arguments)})}},u=function(e,t){var n,r;if(e.indexOf)return-1!=e.indexOf(t);for(n=0,r=e.length;r>n;n++)if(e[n]===t)return!0;return!1},l=function(){function a(t){var n;this.el=t.get(0),n=this.el===document.activeElement,this.$el=p(t),this.id="textComplete"+d++,this.isContentEditable="TEXTAREA"!==this.el.nodeName,this.strategies=[],n?(this.initialize(),this.$el.focus()):this.$el.one("focus.textComplete",e.proxy(this.initialize,this))}var o,s,u,l,d;o={wrapper:'<div class="textcomplete-wrapper"></div>',list:'<ul class="dropdown-menu"></ul>'},s={wrapper:{position:"relative"},list:{position:"absolute",top:0,left:0,zIndex:"100",display:"none"}},u=e(o.wrapper).css(s.wrapper),l=e(o.list).css(s.list),d=0,e.extend(a.prototype,{initialize:function(){var t,n;t=l.clone(),this.listView=new c(t,this),this.$el.before(t).on({"keyup.textComplete":e.proxy(this.onKeyup,this),"keydown.textComplete":e.proxy(this.listView.onKeydown,this.listView)}),n={},n["click."+this.id]=e.proxy(this.onClickDocument,this),n["keyup."+this.id]=e.proxy(this.onKeyupDocument,this),e(document).on(n)},register:function(e){this.strategies=this.strategies.concat(e)},renderList:function(e){this.clearAtNext&&(this.listView.clear(),this.clearAtNext=!1),e.length&&(this.listView.shown||(this.listView.clear(),this.listView.strategy=this.strategy),e=e.slice(0,this.strategy.maxCount),this.listView.render(e),this.listView.activate().setPosition(this.getCaretPosition())),!this.listView.data.length&&this.listView.shown&&this.listView.deactivate()},searchCallbackFactory:function(e){var t=this;return function(n,r){t.renderList(n),r||(e(),t.clearAtNext=!0)}},onKeyup:function(e){var n,r;this.skipSearch(e)||13!==e.keyCode&&(this.isContentEditable&&(this.caretPosition=t(this.el)),n=this.extractSearchQuery(this.getTextFromHeadToCaret()),n.length?(r=n[1],this.term=r,this.search(n)):(this.term=null,this.listView.deactivate()))},skipSearch:function(e){if(this.skipNextKeyup)return this.skipNextKeyup=!1,!0;switch(e.keyCode){case 40:case 38:return!0}},onSelect:function(t){var r,a,i,o;r=this.getTextFromHeadToCaret(),this.isContentEditable?(o=r.length,a=this.el.innerHTML.substring(o)):a=this.el.value.substring(this.el.selectionEnd),i=this.strategy.replace(t),e.isArray(i)&&(a=i[1]+a,i=i[0]),r=r.replace(this.strategy.match,i),this.isContentEditable?(this.el.innerHTML=r,n(this.el),this.el.innerHTML+=a):this.$el.val(r+a),this.$el.trigger("change").trigger("textComplete:select",t),this.el.focus(),this.el.selectionStart=this.el.selectionEnd=r.length,this.skipNextKeyup=!0},onClickDocument:function(e){e.originalEvent&&!e.originalEvent.keepTextCompleteDropdown&&this.listView.deactivate()},onKeyupDocument:function(e){this.listView.shown&&27===e.keyCode&&(this.listView.deactivate(),this.$el.focus())},destroy:function(){var t;this.$el.off(".textComplete"),e(document).off("."+this.id),this.listView&&this.listView.destroy(),t=this.$el.parent(),t.after(this.$el).remove(),this.$el.data("textComplete",void 0),this.$el=null},getCaretPosition:function(){if(0!==this.el.selectionEnd){var t,n,r,a,o,s;return s=this.$el.attr("dir")||this.$el.css("direction"),t=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left"],n=e.extend({position:"absolute",overflow:"auto","white-space":"pre-wrap",top:0,left:0,direction:s},i(this.$el,t)),r=e("<div></div>").css(n).attr("contenteditable",!0),r.html(this.getTextFromHeadToCaret(!0)),a=e("<span></span>").text(".").appendTo(r),this.$el.append(r),o=a.position(),o.top-=this.$el.scrollTop(),"rtl"===s&&(o.left-=this.listView.$el.width()),r.remove(),o}},getTextFromHeadToCaret:function(e){var t,n,r;if(n=this.el.selectionEnd,"number"!=typeof n||this.isContentEditable)if(this.isContentEditable){if(t=this.el.innerHTML.substring(0,this.caretPosition),e){var a=this.$el.clone().html(t);a.find("br").remove(),t=a.html(),a.remove()}}else document.selection&&(r=this.el.createTextRange(),r.moveStart("character",0),r.moveEnd("textedit"),t=r.text);else t=this.el.value.substring(0,n);return t},extractSearchQuery:function(e){var t,n,r,a;for(t=0,n=this.strategies.length;n>t;t++)if(r=this.strategies[t],a=e.match(r.match))return[r,a[r.index]];return[]},search:r(function(e,t){var n;this.strategy=t[0],n=t[1],this.strategy.search(n,this.searchCallbackFactory(e))})});var p=function(e){return e.wrap(u.clone().css("display",e.css("display")))};return a}(),c=function(){function t(t,n){this.data=[],this.$el=t,this.index=0,this.completer=n,this.$el.on("click.textComplete","li.textcomplete-item",e.proxy(this.onClick,this))}return e.extend(t.prototype,{shown:!1,render:function(e){var t,n,r,a,i;for(t="",n=0,r=e.length;r>n&&(i=e[n],u(this.data,i)||(a=this.data.length,this.data.push(i),t+='<li class="textcomplete-item" data-index="'+a+'"><a>',t+=this.strategy.template(i),t+="</a></li>",this.data.length!==this.strategy.maxCount));n++);this.$el.append(t),this.data.length?this.activateIndexedItem():this.deactivate()},clear:function(){return this.data=[],this.$el.html(""),this.index=0,this},activateIndexedItem:function(){this.$el.find(".active").removeClass("active"),this.getActiveItem().addClass("active")},getActiveItem:function(){return e(this.$el.children().get(this.index))},activate:function(){return this.shown||(this.$el.show(),this.completer.$el.trigger("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.completer.$el.trigger("textComplete:hide"),this.shown=!1,this.data=this.index=null),this},setPosition:function(e){return e.top=e.top-this.$el.outerHeight(),this.$el.css(e),this},select:function(e){var t=this;this.completer.onSelect(this.data[e]),setTimeout(function(){t.deactivate()},0)},onKeydown:function(e){this.shown&&(38===e.keyCode?(e.preventDefault(),0===this.index?this.index=this.data.length-1:this.index-=1,this.activateIndexedItem()):40===e.keyCode?(e.preventDefault(),this.index===this.data.length-1?this.index=0:this.index+=1,this.activateIndexedItem()):(13===e.keyCode||9===e.keyCode)&&(e.preventDefault(),this.select(parseInt(this.getActiveItem().data("index"),10))))},onClick:function(t){var n=e(t.target);t.originalEvent.keepTextCompleteDropdown=!0,n.hasClass("textcomplete-item")||(n=n.parents("li.textcomplete-item")),this.select(parseInt(n.data("index"),10))},destroy:function(){this.deactivate(),this.$el.off("click.textComplete").remove(),this.$el=null}}),t}();e.fn.textcomplete=function(t){var n,r,a,i;if(i="textComplete","destroy"===t)return this.each(function(){var t=e(this).data(i);t&&t.destroy()});for(n=0,r=t.length;r>n;n++)a=t[n],a.template||(a.template=o),null==a.index&&(a.index=2),a.cache&&(a.search=s(a.search)),a.maxCount||(a.maxCount=10);return this.each(function(){var n,r;n=e(this),r=n.data(i),r||(r=new l(n),n.data(i,r)),r.register(t)})}}(window.jQuery||window.Zepto),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,a){return jQuery.easing[jQuery.easing.def](e,t,n,r,a)},easeInQuad:function(e,t,n,r,a){return r*(t/=a)*t+n},easeOutQuad:function(e,t,n,r,a){return-r*(t/=a)*(t-2)+n},easeInOutQuad:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,a){return r*(t/=a)*t*t+n},easeOutCubic:function(e,t,n,r,a){return r*((t=t/a-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,a){return r*(t/=a)*t*t*t+n},easeOutQuart:function(e,t,n,r,a){return-r*((t=t/a-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,a){return r*(t/=a)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,a){return r*((t=t/a-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,a){return-r*Math.cos(t/a*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,a){return r*Math.sin(t/a*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,a){return-r/2*(Math.cos(Math.PI*t/a)-1)+n},easeInExpo:function(e,t,n,r,a){return 0==t?n:r*Math.pow(2,10*(t/a-1))+n},easeOutExpo:function(e,t,n,r,a){return t==a?n+r:r*(-Math.pow(2,-10*t/a)+1)+n},easeInOutExpo:function(e,t,n,r,a){return 0==t?n:t==a?n+r:(t/=a/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,a){return-r*(Math.sqrt(1-(t/=a)*t)-1)+n},easeOutCirc:function(e,t,n,r,a){return r*Math.sqrt(1-(t=t/a-1)*t)+n},easeInOutCirc:function(e,t,n,r,a){return(t/=a/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,a){var i=1.70158,o=0,s=r;if(0==t)return n;if(1==(t/=a))return n+r;if(o||(o=.3*a),s<Math.abs(r)){s=r;var i=o/4}else var i=o/(2*Math.PI)*Math.asin(r/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin((t*a-i)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,a){var i=1.70158,o=0,s=r;if(0==t)return n;if(1==(t/=a))return n+r;if(o||(o=.3*a),s<Math.abs(r)){s=r;var i=o/4}else var i=o/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*t)*Math.sin((t*a-i)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,a){var i=1.70158,o=0,s=r;if(0==t)return n;if(2==(t/=a/2))return n+r;if(o||(o=a*.3*1.5),s<Math.abs(r)){s=r;var i=o/4}else var i=o/(2*Math.PI)*Math.asin(r/s);return 1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin((t*a-i)*2*Math.PI/o)+n:.5*s*Math.pow(2,-10*(t-=1))*Math.sin((t*a-i)*2*Math.PI/o)+r+n},easeInBack:function(e,t,n,r,a,i){return void 0==i&&(i=1.70158),r*(t/=a)*t*((i+1)*t-i)+n},easeOutBack:function(e,t,n,r,a,i){return void 0==i&&(i=1.70158),r*((t=t/a-1)*t*((i+1)*t+i)+1)+n},easeInOutBack:function(e,t,n,r,a,i){return void 0==i&&(i=1.70158),(t/=a/2)<1?r/2*t*t*(((i*=1.525)+1)*t-i)+n:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+n},easeInBounce:function(e,t,n,r,a){return r-jQuery.easing.easeOutBounce(e,a-t,0,r,a)+n},easeOutBounce:function(e,t,n,r,a){return(t/=a)<1/2.75?r*7.5625*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,a){return a/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,r,a)+n:.5*jQuery.easing.easeOutBounce(e,2*t-a,0,r,a)+.5*r+n}}),/*
Meme.js
=======

Use one function to generate a meme.

You can call it all with strings:

     Meme('dog.jpg', 'canvasID', 'Buy pizza, 'Pay in snakes');

Or with a selected canvas element:

     var canvas = document.getElementById('canvasID');
     Meme('wolf.jpg', canvas, 'The time is now', 'to take what\'s yours');

Or with a jQuery/Zepto selection:

     Meme('spidey.jpg', $('#canvasID'), 'Did someone say', 'Spiderman JS?');

You can also pass in an image:

     var img = new Image();
     img.src = 'insanity.jpg';
     var can = document.getElementById('canvasID');
     Meme(img, can, 'you ignore my calls', 'I ignore your screams of mercy');

********************************************************************************

Copyright (c) 2012 BuddyMeme

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/
window.Meme=function(e,t,n,r,a){function i(a){a=a||{};var i=e.width,s=e.height;a.maxWidth&&a.maxWidth<i?(i=a.maxWidth,s*=a.maxWidth/e.width):a.maxHeight&&a.maxHeight<s&&(s=a.maxHeight,i*=a.maxHeight/e.height),u(i,s),o.drawImage(e,0,0,i,s),o.fillStyle="white",o.strokeStyle="black",o.lineWidth=2;var c=t.height/8;o.font=c+"px Impact",o.textAlign="center",l(n.toUpperCase(),"top"),l(r.toUpperCase(),"bottom")}if(n=n||"",r=r||"",t||(t=0),t.toUpperCase&&(t=document.getElementById(t)),$&&t instanceof $&&(t=t[0]),!(t instanceof HTMLCanvasElement))throw new Error("No canvas selected");var o=t.getContext("2d");if(e||(e=0),e.toUpperCase){var s=e;e=new Image,e.src=s}var u=function(e,n){t.width=e,t.height=n};u(e.width,e.height);var l=function(e,n,r){n=n||"top";var a=t.height/8,i=t.width/2;if("undefined"==typeof r&&(r=a,"bottom"===n&&(r=t.height-10)),o.measureText(e).width>1.1*t.width){var s=e.split(" "),u=s.length;if("top"===n)for(var c=u;c--;){var d=s.slice(0,c).join(" ");if(o.measureText(d).width<1*t.width)return l(d,n,r),l(s.slice(c,u).join(" "),n,r+a),void 0}else if("bottom"===n)for(var c=0;u>c;c++){var d=s.slice(c,u).join(" ");if(o.measureText(d).width<1*t.width)return l(d,n,r),l(s.slice(0,c).join(" "),n,r-a),void 0}}o.fillText(e,i,r,.9*t.width),o.strokeText(e,i,r,.9*t.width)};e.width?i(a):e.onload=function(){i(a)}},//    Copyright 2014 Microsoft
window.msrCrypto=function(){var e=e||function(){function e(){function t(e){var t;for(t=e.length-1;t>=0&&(e[t]+=1,e[t]>=256&&(e[t]=0),!e[t]);t-=1);}function n(){o=f.getVector(32),s=f.getVector(16),u=32,l=48,d=1}function r(e,t){if(t=t||[0],t.length>l)throw new Error("Incorrect entropy or additionalEntropy length");t=t.concat(f.getVector(l-t.length)),e=e.concat(f.getVector((l-e.length%l)%l));for(var n=0;n<e.length;n+=l){var r=f.xorVectors(e.slice(n,n+l),t);a(r)}d=1}function a(e){for(var n=[],r=new _.aes(o);n.length<l;){t(s);var a=s.slice(0,16),i=r.encrypt(a);n=n.concat(i)}n=f.xorVectors(n,e),o=n.slice(0,u),s=n.slice(u)}function i(e,n){if(e>=65536)throw new Error("too much random requested");if(d>p)throw new Error("Reseeding is required");if(n&&n.length>0){for(;n.length<l;)n=n.concat(f.getVector(l-n.length));a(n)}else n=f.getVector(l);for(var r=[],i=new _.aes(o);r.length<e;){t(s);var u=s.slice(0,s.length),c=i.encrypt(u);r=r.concat(c)}return r=r.slice(0,e),a(n),d+=1,r}if(!(this instanceof e))throw new Error("create MsrcryptoPrng object with new keyword");var o,s,u,l,c=!1,d=1,p=1<<24;return n(),{reseed:r,init:function(e,t){if(e.length<l)throw new Error("Initial entropy length too short");n(),r(e,t),c=!0},getBytes:function(e,t){if(!c)throw new Error("can't get randomness before initialization");return i(e,t)},getNonZeroBytes:function(e,t){if(!c)throw new Error("can't get randomness before initialization");for(var n,r=[];r.length<e;){n=i(e,t);for(var a=0;a<n.length;a+=1)0!==n[a]&&r.push(n[a])}return r.slice(0,e)}}}function t(){function t(){var e,t=[];for(e=0;r>e;e+=1)t[e]=Math.floor(256*Math.random());var n=window.crypto||window.msCrypto;if(n&&"function"==typeof n.getRandomValues&&window.Uint8Array){var i=new window.Uint8Array(r);n.getRandomValues(i),t=t.concat(Array.apply(null,i)),l=!0}var o=new XMLHttpRequest;for(e=0;e<c.length;e+=1)try{var p=o.getResponseHeader(c[e]);if(p){var m=f.stringToBytes(p);t=t.concat(m)}}catch(h){}l||(t=t.concat(a.splice(0,a.length)),d.startCollectors()),u?s.reseed(t):s.init(t),u=!0}function n(e){for(var t=0;t<e.length;++t)a.push(e[t]);a.length>=i&&d.stopCollectors()}var r=48,a=[],i=128,o=0,s=new e,u=!1,l=!1,c=["Cookie","RedirectUri","ETag","x-ms-client-antiforgery-id","x-ms-client-request-id","x-ms-client-session-id","SubscriptionPool"],d=function(){return{startCollectors:function(){if(!this.collectorsRegistered){if(window.addEventListener)window.addEventListener("mousemove",this.MouseEventCallBack,!0),window.addEventListener("load",this.LoadTimeCallBack,!0);else{if(!document.attachEvent)throw new Error("Can't attach events for entropy collection");document.attachEvent("onmousemove",this.MouseEventCallBack),document.attachEvent("onload",this.LoadTimeCallBack)}this.collectorsRegistered=1}},stopCollectors:function(){this.collectorsRegistered&&(window.removeEventListener?(window.removeEventListener("mousemove",this.MouseEventCallBack,1),window.removeEventListener("load",this.LoadTimeCallBack,1)):window.detachEvent&&(window.detachEvent("onmousemove",this.MouseEventCallBack),window.detachEvent("onload",this.LoadTimeCallBack)),this.collectorsRegistered=0)},MouseEventCallBack:function(e){var t=(new Date).valueOf(),r=e.x||e.clientX||e.offsetX||0,a=e.y||e.clientY||e.offsetY||0,i=[255&t,255&t>>8,255&t>>16,255&t>>24,255&r,255&r>>8,255&a,255&a>>8];n(i)},LoadTimeCallBack:function(){var e=(new Date).valueOf(),t=[255&e,255&e>>8,255&e>>16,255&e>>24];n(t)}}}();return{init:function(){if(t(),!l&&!o)try{d.startCollectors()}catch(e){}},reseed:function(e){s.reseed(e)},read:function(e){if(!u)throw new Error("Entropy pool is not initialized.");var n=s.getBytes(e);return t(),n}}}var n={},r=new Blob(['var msrCryptoVersion = "1.3";\nvar msrCrypto = msrCrypto || (function () {\n\nvar operations = {};\nvar scriptBlobUrl = ""\n\noperations.register = function (operationType, algorithmName, functionToCall) {\n\n    if (!operations[operationType]) {\n        operations[operationType] = {};\n    }\n\n    var op = operations[operationType];\n\n    if (!op[algorithmName]) {\n        op[algorithmName] = functionToCall;\n    }\n\n};\n\noperations.exists = function (operationType, algorithmName) {\n    if (!operations[operationType]) {\n        return false;\n    }\n\n    return (operations[operationType][algorithmName]) ? true : false;\n};\n\n/// Store the URL for this script. We will need this later to instantiate\n/// new web workers (if supported).\nvar scriptUrl = (function () {\n\n    if (typeof document !== "undefined") {\n        // Use error.stack to find out the name of this script\n        try {\n            throw new Error();\n        } catch (e) {\n            if (e.stack) {\n                var match = /w+:\\/\\/(.+?\\/)*.+\\.js/.exec(e.stack);\n                return (match && match.length > 0) ? match[0] : null;\n            }\n        }\n    } else if (typeof self !== "undefined") {\n        // If this script is being run in a WebWorker, \'document\' will not exist\n        //  but we can use self.\n        return self.location.href;\n    }\n\n    // We must be running in an environment without document or self.\n    return null;\n\n})();\n\n// Indication if the user provided entropy into the entropy pool.\nvar fprngEntropyProvided = false;\n\n// Support for webWorkers IE10+.\nvar webWorkerSupport = (typeof Worker !== "undefined");\n\n// Is this script running in an instance of a webWorker?\nvar runningInWorkerInstance = (typeof importScripts !== "undefined");\n\n// Typed Arrays support?\nvar typedArraySupport = (typeof Uint8Array !== "undefined");\n\n// Property setter/getter support IE9+.\nvar setterSupport = (function () {\n    try {\n        Object.defineProperty({}, "oncomplete", {});\n        return true;\n    } catch (ex) {\n        return false;\n    }\n}());\n\n// Run in async mode (requires web workers) and user can override to sync mode\n//  by setting the .forceSync property to true on the subtle interface\n//  this can be changes \'on the fly\'.\nvar asyncMode = webWorkerSupport;\n\nvar createProperty = function (parentObject, propertyName, initialValue, getterFunction, setterFunction) {\n    /// <param name="parentObject" type="Object"/>\n    /// <param name="propertyName" type="String"/>\n    /// <param name="initialValue" type="Object"/>\n    /// <param name="getterFunction" type="Function"/>\n    /// <param name="setterFunction" type="Function" optional="true"/>\n\n    if (!setterSupport) {\n        parentObject[propertyName] = initialValue;\n        return;\n    }\n\n    var setGet = {};\n\n    getterFunction && (setGet.get = getterFunction);\n    setterFunction && (setGet.set = setterFunction);\n\n    Object.defineProperty(\n        parentObject,\n        propertyName, setGet);\n};\n\n// Collection of hash functions for global availability.\n// Each hashfunction will add itself to the collection as it is evaluated.\nvar msrcryptoHashFunctions = {};\n\nvar msrcryptoUtilities = (function () {\n\n    var encodingChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";\n\n    var btoaSupport = (typeof btoa !== "undefined");\n\n    function toBase64(data, base64Url) {\n        /// <signature>\n        ///     <summary>Converts byte data to Base64 string</summary>\n        ///     <param name="data" type="Array">An array of bytes values (numbers from 0-255)</param>\n        ///     <param name="base64Url" type="Boolean" optional="true">Converts to a Base64Url string if True (default = false)</param>\n        ///     <returns type="String" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Converts byte data to Base64 string</summary>\n        ///     <param name="data" type="UInt8Array">A UInt8Array</param>\n        ///     <param name="base64Url" type="Boolean" optional="true">Converts to a Base64Url string if True (default = false)</param>\n        ///     <returns type="String" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Converts text to Base64 string</summary>\n        ///     <param name="data" type="String">Text string</param>\n        ///     <param name="base64Url" type="Boolean" optional="true">Converts to a Base64Url string if True (default = false)</param>\n        ///     <returns type="String" />\n        /// </signature>\n\n        var output = "";\n\n        if (!base64Url) {\n            base64Url = false;\n        }\n\n        // If the input is an array type, convert it to a string.\n        // The built-in btoa takes strings.\n        if (data.pop || data.subarray) {\n            data = String.fromCharCode.apply(null, data);\n        }\n\n        if (btoaSupport) {\n            output = btoa(data);\n        } else {\n\n            var char1, char2, char3, enc1, enc2, enc3, enc4;\n            var i;\n\n            for (i = 0; i < data.length; i += 3) {\n\n                // Get the next three chars.\n                char1 = data.charCodeAt(i);\n                char2 = data.charCodeAt(i + 1);\n                char3 = data.charCodeAt(i + 2);\n\n                // Encode three bytes over four 6-bit values.\n                // [A7,A6,A5,A4,A3,A2,A1,A0][B7,B6,B5,B4,B3,B2,B1,B0][C7,C6,C5,C4,C3,C2,C1,C0].\n                // [A7,A6,A5,A4,A3,A2][A1,A0,B7,B6,B5,B4][B3,B2,B1,B0,C7,C6][C5,C4,C3,C2,C1,C0].\n\n                // \'enc1\' = high 6-bits from char1\n                enc1 = char1 >> 2;\n                // \'enc2\' = 2 low-bits of char1 + 4 high-bits of char2\n                enc2 = ((char1 & 0x3) << 4) | (char2 >> 4);\n                // \'enc3\' = 4 low-bits of char2 + 2 high-bits of char3\n                enc3 = ((char2 & 0xF) << 2) | (char3 >> 6);\n                // \'enc4\' = 6 low-bits of char3\n                enc4 = char3 & 0x3F;\n\n                // \'char2\' could be \'nothing\' if there is only one char left to encode\n                //   if so, set enc3 & enc4 to 64 as padding.\n                if (isNaN(char2)) {\n                    enc3 = enc4 = 64;\n\n                    // If there was only two chars to encode char3 will be \'nothing\'\n                    //   set enc4 to 64 as padding.\n                } else if (isNaN(char3)) {\n                    enc4 = 64;\n                }\n\n                // Lookup the base-64 value for each encoding.\n                output = output +\n                encodingChars.charAt(enc1) +\n                encodingChars.charAt(enc2) +\n                encodingChars.charAt(enc3) +\n                encodingChars.charAt(enc4);\n            }\n        }\n\n        if (base64Url) {\n            return output.replace(/\\+/g, "-").replace(/\\//g, "_").replace(/\\=/g, "");\n        }\n\n        return output;\n    }\n\n    function base64ToString(encodedString) {\n        /// <signature>\n        ///     <summary>Converts a Base64/Base64Url string to a text</summary>\n        ///     <param name="encodedString" type="String">A Base64/Base64Url encoded string</param>\n        ///     <returns type="String" />\n        /// </signature>\n\n        if (btoaSupport) {\n\n            // This could be encoded as base64url (different from base64)\n            encodedString = encodedString.replace(/-/g, "+").replace(/_/g, "/");\n\n            // In case the padding is missing, add some.\n            while (encodedString.length % 4 !== 0) {\n                encodedString += "=";\n            }\n\n            return atob(encodedString);\n        }\n\n        return String.fromCharCode.apply(null, base64ToBytes(encodedString));\n\n    }\n\n    function base64ToBytes(encodedString) {\n        /// <signature>\n        ///     <summary>Converts a Base64/Base64Url string to an Array</summary>\n        ///     <param name="encodedString" type="String">A Base64/Base64Url encoded string</param>\n        ///     <returns type="Array" />\n        /// </signature>\n\n        // This could be encoded as base64url (different from base64)\n        encodedString = encodedString.replace(/-/g, "+").replace(/_/g, "/");\n\n        // In case the padding is missing, add some.\n        while (encodedString.length % 4 !== 0) {\n            encodedString += "=";\n        }\n\n        var output = [];\n        var char1, char2, char3;\n        var enc1, enc2, enc3, enc4;\n        var i;\n\n        // Remove any chars not in the base-64 space.\n        encodedString = encodedString.replace(/[^A-Za-z0-9\\+\\/\\=]/g, "");\n\n        for (i = 0; i < encodedString.length; i += 4) {\n\n            // Get 4 characters from the encoded string.\n            enc1 = encodingChars.indexOf(encodedString.charAt(i));\n            enc2 = encodingChars.indexOf(encodedString.charAt(i + 1));\n            enc3 = encodingChars.indexOf(encodedString.charAt(i + 2));\n            enc4 = encodingChars.indexOf(encodedString.charAt(i + 3));\n\n            // Convert four 6-bit values to three characters.\n            // [A7,A6,A5,A4,A3,A2][A1,A0,B7,B6,B5,B4][B3,B2,B1,B0,C7,C6][C5,C4,C3,C2,C1,C0].\n            // [A7,A6,A5,A4,A3,A2,A1,A0][B7,B6,B5,B4,B3,B2,B1,B0][C7,C6,C5,C4,C3,C2,C1,C0].\n\n            // \'char1\' = all 6 bits of enc1 + 2 high-bits of enc2.\n            char1 = (enc1 << 2) | (enc2 >> 4);\n            // \'char2\' = 4 low-bits of enc2 + 4 high-bits of enc3.\n            char2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n            // \'char3\' = 2 low-bits of enc3 + all 6 bits of enc4.\n            char3 = ((enc3 & 3) << 6) | enc4;\n\n            // Convert char1 to string character and append to output\n            output.push(char1);\n\n            // \'enc3\' could be padding\n            //   if so, \'char2\' is ignored.\n            if (enc3 !== 64) {\n                output.push(char2);\n            }\n\n            // \'enc4\' could be padding\n            //   if so, \'char3\' is ignored.\n            if (enc4 !== 64) {\n                output.push(char3);\n            }\n\n        }\n\n        return output;\n\n    }\n\n    function getObjectType(object) {\n        /// <signature>\n        ///     <summary>Returns the name of an object type</summary>\n        ///     <param name="object" type="Object"></param>\n        ///     <returns type="String" />\n        /// </signature>\n\n        return Object.prototype.toString.call(object).slice(8, -1);\n    }\n\n    function bytesToHexString(bytes, separate) {\n        /// <signature>\n        ///     <summary>Converts an Array of bytes values (0-255) to a Hex string</summary>\n        ///     <param name="bytes" type="Array"/>\n        ///     <param name="separate" type="Boolean" optional="true">Inserts a separator for display purposes (default = false)</param>\n        ///     <returns type="String" />\n        /// </signature>\n\n        var result = "";\n        if (typeof separate === "undefined") {\n            separate = false;\n        }\n\n        for (var i = 0; i < bytes.length; i++) {\n\n            if (separate && (i % 4 === 0) && i !== 0) {\n                result += "-";\n            }\n\n            var hexval = bytes[i].toString(16).toUpperCase();\n            // Add a leading zero if needed.\n            if (hexval.length === 1) {\n                result += "0";\n            }\n\n            result += hexval;\n        }\n\n        return result;\n    }\n\n    function bytesToInt32(bytes, index) {\n        /// <summary>\n        /// Converts four bytes to a 32-bit int\n        /// </summary>\n        /// <param name="bytes">The bytes to convert</param>\n        /// <param name="index" optional="true">Optional starting point</param>\n        /// <returns type="Number">32-bit number</returns>\n        index = (index || 0);\n\n        return (bytes[index] << 24) |\n               (bytes[index + 1] << 16) |\n               (bytes[index + 2] << 8) |\n                bytes[index + 3];\n    }\n\n    function stringToBytes(messageString) {\n        /// <signature>\n        ///     <summary>Converts a String to an Array of byte values (0-255)</summary>\n        ///     <param name="messageString" type="String"/>\n        ///     <returns type="Array" />\n        /// </signature>\n\n        var bytes = new Array(messageString.length);\n\n        for (var i = 0; i < bytes.length; i++) {\n            bytes[i] = messageString.charCodeAt(i);\n        }\n\n        return bytes;\n    }\n\n    function hexToBytesArray(hexString) {\n        /// <signature>\n        ///     <summary>Converts a Hex-String to an Array of byte values (0-255)</summary>\n        ///     <param name="hexString" type="String"/>\n        ///     <returns type="Array" />\n        /// </signature>\n\n        hexString = hexString.replace(/-/g, "");\n\n        var result = [];\n        while (hexString.length >= 2) {\n            result.push(parseInt(hexString.substring(0, 2), 16));\n            hexString = hexString.substring(2, hexString.length);\n        }\n\n        return result;\n    }\n\n    function clone(object) {\n        /// <signature>\n        ///     <summary>Creates a shallow clone of an Object</summary>\n        ///     <param name="object" type="Object"/>\n        ///     <returns type="Object" />\n        /// </signature>\n\n        var newObject = {};\n        for (var propertyName in object) {\n            if (object.hasOwnProperty(propertyName)) {\n                newObject[propertyName] = object[propertyName];\n            }\n        }\n        return newObject;\n    }\n\n    function unpackData(base64String, arraySize, toUint32s) {\n        /// <signature>\n        ///     <summary>Unpacks Base64 encoded data into arrays of data.</summary>\n        ///     <param name="base64String" type="String">Base64 encoded data</param>\n        ///     <param name="arraySize" type="Number" optional="true">Break data into sub-arrays of a given length</param>\n        ///     <param name="toUint32s" type="Boolean" optional="true">Treat data as 32-bit data instead of byte data</param>\n        ///     <returns type="Array" />\n        /// </signature>\n\n        var bytes = base64ToBytes(base64String),\n            data = [],\n            i;\n\n        if (isNaN(arraySize)) {\n            return bytes;\n        } else {\n            for (i = 0; i < bytes.length; i += arraySize) {\n                data.push(bytes.slice(i, i + arraySize));\n            }\n        }\n\n        if (toUint32s) {\n            for (i = 0; i < data.length; i++) {\n                data[i] = (data[i][0] << 24) + (data[i][1] << 16) + (data[i][2] << 8) + data[i][3];\n            }\n        }\n\n        return data;\n    }\n\n    function int32ToBytes(int32) {\n        /// <signature>\n        ///     <summary>Converts a 32-bit number to an Array of 4 bytes</summary>\n        ///     <param name="int32" type="Number">32-bit number</param>\n        ///     <returns type="Array" />\n        /// </signature>\n        return [(int32 >>> 24) & 255, (int32 >>> 16) & 255, (int32 >>> 8) & 255, int32 & 255];\n    }\n\n    function int32ArrayToBytes(int32Array) {\n        /// <signature>\n        ///     <summary>Converts an Array 32-bit numbers to an Array bytes</summary>\n        ///     <param name="int32Array" type="Array">Array of 32-bit numbers</param>\n        ///     <returns type="Array" />\n        /// </signature>\n\n        var result = [];\n        for (var i = 0; i < int32Array.length; i++) {\n            result = result.concat(int32ToBytes(int32Array[i]));\n        }\n        return result;\n    }\n\n    function xorVectors(a, b) {\n        /// <signature>\n        ///     <summary>Exclusive OR (XOR) two arrays.</summary>\n        ///     <param name="a" type="Array">Input array.</param>\n        ///     <param name="b" type="Array">Input array.</param>\n        ///     <returns type="Array">XOR of the two arrays. The length is minimum of the two input array lengths.</returns>\n        /// </signature>\n\n        var length = Math.min(a.length, b.length),\n            res = new Array(length);\n        for (var i = 0 ; i < length ; i += 1) {\n            res[i] = a[i] ^ b[i];\n        }\n        return res;\n    }\n\n    function getVector(length, fillValue) {\n        /// <signature>\n        ///     <summary>Get an array filled with zeroes (or optional fillValue.)</summary>\n        ///     <param name="length" type="Number">Requested array length.</param>\n        ///     <param name="fillValue" type="Number" optional="true"></param>\n        ///     <returns type="Array"></returns>\n        /// </signature>\n\n        // Use a default value of zero\n        fillValue || (fillValue = 0);\n\n        var res = new Array(length);\n        for (var i = 0; i < length; i += 1) {\n            res[i] = fillValue;\n        }\n        return res;\n    }\n\n    function toArray(typedArray) {\n        /// <signature>\n        ///     <summary>Converts a UInt8Array to a regular JavaScript Array</summary>\n        ///     <param name="typedArray" type="UInt8Array"></param>\n        ///     <returns type="Array"></returns>\n        /// </signature>\n\n        if (typedArray.pop) {\n            return typedArray;\n        }\n\n        // because of limitation when typedArray is bigger than 65536,â€‚Array.apply will not work\n        function typedArrayToNormalArray() {\n            var chunkSize = 60000,\n                chunks = [],\n                finalArray = [];\n\n            if (typedArray.length <= chunkSize) {\n                return Array.apply(null, typedArray);\n            }\n\n            for (var i = 0, j = typedArray.length; i < j; i += chunkSize) {\n                chunks.push(typedArray.subarray(i, i + chunkSize));\n            }\n\n            chunks.forEach(function (chunk) {\n             finalArray = finalArray.concat(Array.apply(null, chunk))\n            });\n\n            return finalArray;\n        }\n\n        // A single element array will cause a new Array to be created with the length\n        // equal to the value of the single element. Not what we want.\n        // We\'ll return a new single element array with the single value.\n        // return (typedArray.length === 1) ? [typedArray[0]] : Array.apply(null, typedArray);\n\n\n        // SWX UPDATE mjavor@microsoft.com\n        return (typedArray.length === 1) ? [typedArray[0]] : typedArrayToNormalArray();\n    }\n\n    function padEnd(array, value, finalLength) {\n        /// <signature>\n        ///     <summary>Pads the end of an array with a specified value</summary>\n        ///     <param name="array" type="Array"></param>\n        ///     <param name="value" type="Number">The value to pad to the array</param>\n        ///     <param name="finalLength" type="Number">The final resulting length with padding</param>\n        ///     <returns type="Array"></returns>\n        /// </signature>\n\n        while (array.length < finalLength) {\n            array.push(value);\n        }\n\n        return array;\n    }\n\n    function padFront(array, value, finalLength) {\n        /// <signature>\n        ///     <summary>Pads the front of an array with a specified value</summary>\n        ///     <param name="array" type="Array"></param>\n        ///     <param name="value" type="Number">The value to pad to the array</param>\n        ///     <param name="finalLength" type="Number">The final resulting length with padding</param>\n        ///     <returns type="Array"></returns>\n        /// </signature>\n\n        while (array.length < finalLength) {\n            array.unshift(value);\n        }\n\n        return array;\n    }\n\n    function arraysEqual(array1, array2) {\n        /// <signature>\n        ///     <summary>Checks if two Arrays are equal by comparing their values.</summary>\n        ///     <param name="array1" type="Array"></param>\n        ///     <param name="array2" type="Array"></param>\n        ///     <returns type="Array"></returns>\n        /// </signature>\n\n        var result = true;\n\n        if (array1.length !== array2.length) {\n            result = false;\n        }\n\n        for (var i = 0; i < array1.length; i++) {\n            if (array1[i] !== array2[i]) {\n                result = false;\n            }\n        }\n\n        return result;\n    }\n\n    function verifyByteArray(array) {\n        /// <signature>\n        ///     <summary>Verify that an Array contains only byte values (0-255)</summary>\n        ///     <param name="array" type="Array"></param>\n        ///     <returns type="Boolean">Returns true if all values are 0-255</returns>\n        /// </signature>\n\n        if (getObjectType(array) !== "Array") {\n            return false;\n        }\n\n        var element;\n\n        for (var i = 0; i < array.length; i++) {\n\n            element = array[i];\n\n            if (isNaN(element) || element < 0 || element > 255) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    return {\n        toBase64: toBase64,\n        base64ToString: base64ToString,\n        base64ToBytes: base64ToBytes,\n        getObjectType: getObjectType,\n        bytesToHexString: bytesToHexString,\n        bytesToInt32: bytesToInt32,\n        stringToBytes: stringToBytes,\n        unpackData: unpackData,\n        hexToBytesArray: hexToBytesArray,\n        int32ToBytes: int32ToBytes,\n        int32ArrayToBytes: int32ArrayToBytes,\n        toArray: toArray,\n        arraysEqual: arraysEqual,\n        clone: clone,\n        xorVectors: xorVectors,\n        padEnd: padEnd,\n        padFront: padFront,\n        getVector: getVector,\n        verifyByteArray: verifyByteArray\n    };\n\n})();\n\nvar msrcryptoWorker = (function () {\n\n    // If we\'re running in a webworker we need to postMessage to return our result\n    //   otherwise just return the value as normal.\n    function returnResult(result) {\n        if (runningInWorkerInstance) {\n            self.postMessage(result);\n        }\n        return result;\n    }\n\n    return {\n\n        jsCryptoRunner: function ( e) {\n\n            var operation = e.data.operationType;\n            var result;\n\n            if (!operations.exists(operation, e.data.algorithm.name)) {\n                throw new Error("unregistered algorithm.");\n            }\n\n            var func = operations[operation][e.data.algorithm.name];\n\n            var p = e.data;\n\n            if (p.operationSubType === "process") {\n                func(p);\n                result = returnResult({ type: "process" });\n            } else {\n                result = returnResult(func(p));\n            }\n\n            return result;\n        }\n    };\n\n})();\n\n// If this is running in a webworker we need self.onmessage to receive messages from\n//   the calling script.\n// If we are in \'synchronous mode\' (everything running in one script)\n//   we don\'t want to override self.onmessage.\nif (runningInWorkerInstance) {\n\n    self.onmessage = function ( e) {\n\n        // When this worker first gets instantiated we will receive seed data\n        //   for this workers prng.\n        if (e.data.prngSeed) {\n            var entropy = e.data.prngSeed;\n            msrcryptoPseudoRandom.init(entropy);\n            return;\n        }\n\n        // Process the crypto operation\n        msrcryptoWorker.jsCryptoRunner(e);\n    };\n}\n\nvar msrcryptoJwk = (function () {\n\n    var utils = msrcryptoUtilities;\n\n    function stringToArray(stringData) {\n\n        var result = [];\n\n        for (var i = 0; i < stringData.length; i++) {\n            result[i] = stringData.charCodeAt(i);\n        }\n\n        if (result[result.length - 1] === 0) {\n            result.pop();\n        }\n\n        return result;\n    }\n\n    function getKeyType(keyHandle) {\n\n        var algType = keyHandle.algorithm.name.slice(0, 3).toLowerCase();\n\n        if (algType === "rsa") {\n            return "RSA";\n        }\n\n        if (algType === "ecd") {\n            return "EC";\n        }\n\n        return "oct";\n    }\n\n    function keyToJwk(keyHandle, keyData) {\n\n        var key = {};\n\n        key.kty = getKeyType(keyHandle);\n        key.extractable = keyHandle.extractable;\n\n        // Using .pop to determine if a property value is an array.\n        if (keyData.pop) {\n            key.k = utils.toBase64(keyData, true);\n        } else {\n            // Convert the base64Url properties to byte arrays\n            for (var property in keyData) {\n                if (keyData[property].pop) {\n                    key[property] = utils.toBase64(keyData[property], true);\n                }\n            }\n        }\n\n        if (keyHandle.algorithm.namedCurve) {\n            key["crv"] = keyHandle.algorithm.namedCurve;\n        }\n\n        var stringData = JSON.stringify(key, null, \'\\t\');\n\n        return stringToArray(stringData);\n\n    }\n\n    // \'jwkKeyData\' is an array of bytes. Each byte is a charCode for a json key string\n    function jwkToKey(keyData, algorithm, propsToArray) {\n\n        // Convert array of string data to a json string\n        var jsonString = String.fromCharCode.apply(null, keyData);\n\n        // Convert the json string to an object\n        var jsonKeyObject = JSON.parse(jsonString);\n\n        // Convert the base64url encoded properties to byte arrays\n        for (var i = 0; i < propsToArray.length; i += 1) {\n            var propValue = jsonKeyObject[propsToArray[i]];\n            if (propValue) {\n                jsonKeyObject[propsToArray[i]] =\n                    utils.base64ToBytes(propValue);\n            }\n        }\n\n        return jsonKeyObject;\n    }\n\n    return {\n        keyToJwk: keyToJwk,\n        jwkToKey: jwkToKey\n    };\n})();\n\nfunction BlockFunctionTypeDef(message, blockIndex, initialHashValues, k, w) {\n    /// <signature>\n    ///     <summary>\n    ///         Type definition for block function\n    ///     </summary>\n    ///     <param name="message" type="Array">Block data</param>\n    ///     <param name="blockIndex" type="Number">Block number to operate on</param>\n    ///     <param name="initialHashValues" type="Array"></param>\n    ///     <param name="k" type="Array">K constants</param>\n    ///     <param name="w" type="Array">Array to hold w values</param>\n    ///     <returns type="Array">Hash values</returns>\n    /// </signature>\n\n    return [];\n}\n\nvar msrcryptoSha = function (name, der, h, k, blockBytes, blockFunction, truncateTo) {\n    /// <summary>\n    /// Returns a hash function using the passed in parameters.\n    /// </summary>\n    /// <param name="name" type="String">Name of the hash function.</param>\n    /// <param name="der" type="Array"></param>\n    /// <param name="h" type="Array"></param>\n    /// <param name="k" type="Array"></param>\n    /// <param name="blockBytes" type="Number">The number of bytes in a block.</param>\n    /// <param name="blockFunction" type="BlockFunctionTypeDef">Function for processing blocks.</param>\n    /// <param name="truncateTo" type="Number">Truncate the resulting hash to a fixed length.</param>\n    /// <returns type="Object"></returns>\n\n    var utils = msrcryptoUtilities;\n\n    // Make a copy of h so we don\'t alter the initialization array.\n    var hv = h.slice(),\n        w = new Array(blockBytes),\n        buffer = [],\n        blocksProcessed = 0;\n\n    function hashBlocks(message) {\n        /// <summary>\n        /// Breaks a array of data into full blocks and hashes each block in sequence.\n        /// Data at the end of the message that does not fill an entire block is\n        /// returned.\n        /// </summary>\n        /// <param name="message" type="Array">Byte data to hash</param>\n        /// <returns type="Array">Unprocessed data at the end of the message that did\n        /// not fill an entire block.</returns>\n\n        var blockCount = Math.floor(message.length / blockBytes);\n\n        // Process each  block of the message\n        for (var block = 0; block < blockCount; block++) {\n            blockFunction(message, block, hv, k, w);\n        }\n\n        // Keep track of the number of blocks processed.\n        // We have to put the total message size into the padding.\n        blocksProcessed += blockCount;\n\n        // Return the unprocessed data.\n        return message.slice(blockCount * blockBytes);\n    }\n\n    function hashToBytes() {\n        /// <summary>\n        /// Converts stored hash values (32-bit ints) to bytes.\n        /// </summary>\n        /// <returns type="Array"></returns>\n\n        // Move the results to an uint8 array.\n        var hash = [];\n\n        for (var i = 0; i < hv.length; i++) {\n            hash = hash.concat(utils.int32ToBytes(hv[i]));\n        }\n\n        // Truncate the results depending on the hash algorithm used.\n        hash.length = (truncateTo / 8);\n\n        return hash;\n    }\n\n    function addPadding(messageBytes) {\n        /// <summary>\n        /// Builds and appends padding to a message\n        /// </summary>\n        /// <param name="messageBytes" type="Array">Message to pad</param>\n        /// <returns type="Array">The message array + padding</returns>\n\n        var padLen = blockBytes - messageBytes.length % blockBytes;\n\n        // If there is 8 (16 for sha-512) or less bytes of padding, pad an additional block.\n        (padLen <= (blockBytes / 8)) && (padLen += blockBytes);\n\n        // Create a new Array that will contain the message + padding\n        var padding = utils.getVector(padLen);\n\n        // Set the 1 bit at the end of the message data\n        padding[0] = 128;\n\n        // Set the length equal to the previous data len + the new data len\n        var messageLenBits = (messageBytes.length + blocksProcessed * blockBytes) * 8;\n\n        // Set the message length in the last 4 bytes\n        padding[padLen - 4] = messageLenBits >>> 24 & 255;\n        padding[padLen - 3] = messageLenBits >>> 16 & 255;\n        padding[padLen - 2] = messageLenBits >>> 8 & 255;\n        padding[padLen - 1] = messageLenBits & 255;\n\n        return messageBytes.concat(padding);\n    }\n\n    function computeHash(messageBytes) {\n        /// <summary>\n        /// Computes the hash of an entire message.\n        /// </summary>\n        /// <param name="messageBytes" type="Array">Byte array to hash</param>\n        /// <returns type="Array">Hash of message bytes</returns>\n\n        buffer = hashBlocks(messageBytes);\n\n        return finish();\n    }\n\n    function process(messageBytes) {\n        /// <summary>\n        /// Call process repeatedly to hash a stream of bytes. Then call \'finish\' to\n        /// complete the hash and get the final result.\n        /// </summary>\n        /// <param name="messageBytes" type="Array"></param>\n\n        // Append the new data to the buffer (previous unprocessed data)\n        buffer = buffer.concat(messageBytes);\n\n        // If there is at least one block of data, hash it\n        if (buffer.length >= blockBytes) {\n\n            // The remaining unprocessed data goes back into the buffer\n            buffer = hashBlocks(buffer);\n        }\n\n        return;\n    }\n\n    function finish() {\n        /// <summary>\n        /// Called after one or more calls to process. This will finalize the hashing\n        /// of the \'streamed\' data and return the hash.\n        /// </summary>\n        /// <returns type="Array">Hash of message bytes</returns>\n\n        // All the full blocks of data have been processed. Now we pad the rest and hash.\n        // Buffer should be empty now.\n        if (hashBlocks(addPadding(buffer)).length !== 0) {\n            throw new Error("buffer.length !== 0");\n        }\n\n        // Convert the intermediate hash values to bytes\n        var result = hashToBytes();\n\n        // Reset the buffer\n        buffer = [];\n\n        // Restore the initial hash values\n        hv = h.slice();\n\n        // Reset the block counter\n        blocksProcessed = 0;\n\n        return result;\n    }\n\n    return {\n        name: name,\n        computeHash: computeHash,\n        process: process,\n        finish: finish,\n        der: der,\n        hashLen: truncateTo,\n        maxMessageSize: 0xFFFFFFFF // (2^32 - 1 is max array size in JavaScript)\n    };\n\n};\n\nvar msrcryptoSha256 = (function () {\n\n    var utils = msrcryptoUtilities;\n\n    function hashBlock(message, blockIndex, hv, k, w) {\n        /// <summary>\n        /// Block function for hashing algorithm to use.\n        /// </summary>\n        /// <param name="message" type="Array">Block data to hash</param>\n        /// <param name="blockIndex" type="Number">The block of the data to hash</param>\n        /// <param name="hv" type="Array">Initial hash values</param>\n        /// <param name="k" type="Array">K constants</param>\n        /// <param name="w" type="Array">Buffer for w values</param>\n        /// <returns type="Array">Updated initial hash values</returns>\n\n        var t, i, temp, x0, x1, blockSize = 64, mask = 0xFFFFFFFF;\n\n        var ra = hv[0],\n            rb = hv[1],\n            rc = hv[2],\n            rd = hv[3],\n            re = hv[4],\n            rf = hv[5],\n            rg = hv[6],\n            rh = hv[7];\n\n        // 0 ≤ t ≤ 15\n        for (i = 0; i < 16; i++) {\n            w[i] = utils.bytesToInt32(message, blockIndex * blockSize + i * 4);\n        }\n\n        // 16 ≤ t ≤ 63\n        for (t = 16; t < 64; t++) {\n\n            x0 = w[t - 15];\n            x1 = w[t - 2];\n\n            w[t] = (((x1 >>> 17) | (x1 << 15)) ^ ((x1 >>> 19) | (x1 << 13)) ^ (x1 >>> 10))\n                    + w[t - 7]\n                    + (((x0 >>> 7) | (x0 << 25)) ^ ((x0 >>> 18) | (x0 << 14)) ^ (x0 >>> 3))\n                    + w[t - 16];\n\n            w[t] = w[t] & mask;\n        }\n\n        for (i = 0; i < 64; i++) {\n\n            temp = rh +\n                    ((re >>> 6 | re << 26) ^ (re >>> 11 | re << 21) ^ (re >>> 25 | re << 7)) +\n                    ((re & rf) ^ ((~re) & rg)) +\n                    k[i] + w[i];\n\n            rd += temp;\n\n            temp += ((ra >>> 2 | ra << 30) ^ (ra >>> 13 | ra << 19) ^ (ra >>> 22 | ra << 10)) +\n                    ((ra & (rb ^ rc)) ^ (rb & rc));\n\n            rh = rg; // \'h\' = g\n            rg = rf; // \'g\' = f\n            rf = re; // \'f\' = e\n            re = rd; // \'e\' = d\n            rd = rc; // \'d\' = c\n            rc = rb; // \'c\' = b\n            rb = ra; // \'b\' = a\n            ra = temp; // \'a\' = temp\n\n        }\n\n        // Update the hash values\n        hv[0] += ra & mask;\n        hv[1] += rb & mask;\n        hv[2] += rc & mask;\n        hv[3] += rd & mask;\n        hv[4] += re & mask;\n        hv[5] += rf & mask;\n        hv[6] += rg & mask;\n        hv[7] += rh & mask;\n\n        return hv;\n    }\n\n    var k256, h224, h256, der224, der256, upd = utils.unpackData;\n\n    h224 = upd("wQWe2DZ81QcwcN0X9w5ZOf/ACzFoWBURZPmPp776T6Q", 4, 1);\n\n    h256 = upd("agnmZ7tnroU8bvNypU/1OlEOUn+bBWiMH4PZq1vgzRk", 4, 1);\n\n    k256 = upd("QoovmHE3RJG1wPvP6bXbpTlWwltZ8RHxkj+CpKscXtXYB6qYEoNbASQxhb5VDH3Dcr5ddIDesf6b3AanwZvxdOSbacHvvkeGD8GdxiQMocwt6SxvSnSEqlywqdx2+YjamD5RUqgxxm2wAyfIv1l/x8bgC/PVp5FHBspjURQpKWcntwqFLhshOE0sbfxTOA0TZQpzVHZqCruBwskuknIshaK/6KGoGmZLwkuLcMdsUaPRkugZ1pkGJPQONYUQaqBwGaTBFh43bAgnSHdMNLC8tTkcDLNO2KpKW5zKT2gub/N0j4LueKVjb4TIeBSMxwIIkL7/+qRQbOu++aP3xnF48g", 4, 1);\n\n    // SHA-224 DER encoding\n    // 0x30, 0x2d, 0x30, 0x0d, 0x06, 0x09, 0x60, 0x86, 0x48, 0x01, 0x65, 0x03, 0x04, 0x02, 0x04, 0x05, 0x00, 0x04, 0x1C\n    der224 = upd("MC0wDQYJYIZIAWUDBAIEBQAEHA");\n\n    // SHA-256 DER encoding\n    // 0x30, 0x31, 0x30, 0x0d, 0x06, 0x09, 0x60, 0x86, 0x48, 0x01, 0x65, 0x03, 0x04, 0x02, 0x01, 0x05, 0x00, 0x04, 0x20\n    der256 = upd("MDEwDQYJYIZIAWUDBAIBBQAEIA");\n\n    return {\n        sha224: msrcryptoSha("SHA-224", der224, h224, k256, 64, hashBlock, 224),\n        sha256: msrcryptoSha("SHA-256", der256, h256, k256, 64, hashBlock, 256)\n    };\n})();\n\nif (typeof operations !== "undefined") {\n\n    msrcryptoSha256.hash256 = function ( p) {\n\n        if (p.operationSubType === "process") {\n            msrcryptoSha256.sha256.process(p.buffer);\n            return;\n        }\n\n        if (p.operationSubType === "finish") {\n            return msrcryptoSha256.sha256.finish();\n        }\n\n        return msrcryptoSha256.sha256.computeHash(p.buffer);\n\n    };\n\n    msrcryptoSha256.hash224 = function ( p) {\n\n        if (p.operationSubType === "process") {\n            msrcryptoSha256.sha224.process(p.buffer);\n            return;\n        }\n\n        if (p.operationSubType === "finish") {\n            return msrcryptoSha256.sha224.finish();\n        }\n\n        return msrcryptoSha256.sha224.computeHash(p.buffer);\n\n    };\n\n    operations.register("digest", "sha-224", msrcryptoSha256.hash224);\n    operations.register("digest", "sha-256", msrcryptoSha256.hash256);\n}\n\nmsrcryptoHashFunctions["sha-224"] = msrcryptoSha256.sha224;\nmsrcryptoHashFunctions["sha-256"] = msrcryptoSha256.sha256;\n\nvar msrcryptoBlockCipher = (function()  {\n\n    var aesConstants,\n    multByTwo,\n    multByThree,\n    multBy14,\n    multBy13,\n    multBy11,\n    multBy9,\n    sBoxTable,\n    invSBoxTable,\n    rConTable;\n\n    return {\n\n        /// <summary>Advanced Encryption Standard implementation per FIPS 197.</summary>\n        aes: function ( keyBytes) {\n\n            // Set up the constants the first time we create an AES object only.\n            if (!aesConstants) {\n                aesConstants = msrcryptoUtilities.unpackData("AAIEBggKDA4QEhQWGBocHiAiJCYoKiwuMDI0Njg6PD5AQkRGSEpMTlBSVFZYWlxeYGJkZmhqbG5wcnR2eHp8foCChIaIioyOkJKUlpianJ6goqSmqKqsrrCytLa4ury+wMLExsjKzM7Q0tTW2Nrc3uDi5Obo6uzu8PL09vj6/P4bGR8dExEXFQsJDw0DAQcFOzk/PTMxNzUrKS8tIyEnJVtZX11TUVdVS0lPTUNBR0V7eX99c3F3dWtpb21jYWdlm5mfnZORl5WLiY+Ng4GHhbu5v72zsbe1q6mvraOhp6Xb2d/d09HX1cvJz83DwcfF+/n//fPx9/Xr6e/t4+Hn5QADBgUMDwoJGBseHRQXEhEwMzY1PD86OSgrLi0kJyIhYGNmZWxvaml4e359dHdycVBTVlVcX1pZSEtOTURHQkHAw8bFzM/Kydjb3t3U19LR8PP29fz/+vno6+7t5Ofi4aCjpqWsr6qpuLu+vbS3srGQk5aVnJ+amYiLjo2Eh4KBm5idnpeUkZKDgIWGj4yJiquora6npKGis7C1tr+8ubr7+P3+9/Tx8uPg5ebv7Onqy8jNzsfEwcLT0NXW39zZ2ltYXV5XVFFSQ0BFRk9MSUpraG1uZ2RhYnNwdXZ/fHl6Ozg9Pjc0MTIjICUmLywpKgsIDQ4HBAECExAVFh8cGRoADhwSODYkKnB+bGJIRlRa4O788tjWxMqQnoyCqKa0utvVx8nj7f/xq6W3uZOdj4E7NScpAw0fEUtFV1lzfW9hraOxv5WbiYfd08HP5ev5901DUV91e2lnPTMhLwULGRd2eGpkTkBSXAYIGhQ+MCIslpiKhK6gsrzm6Pr03tDCzEFPXVN5d2VrMT8tIwkHFRuhr72zmZeFi9HfzcPp5/X7mpSGiKKsvrDq5Pb40tzOwHp0ZmhCTF5QCgQWGDI8LiDs4vD+1NrIxpySgI6kqri2DAIQHjQ6KCZ8cmBuREpYVjc5KyUPARMdR0lbVX9xY23X2cvF7+Hz/aepu7WfkYONAA0aFzQ5LiNoZXJ/XFFGS9Ddysfk6f7zuLWir4yBlpu7tqGsj4KVmNPeycTn6v3wa2ZxfF9SRUgDDhkUNzotIG1gd3pZVENOBQgfEjE8Kya9sKeqiYSTntXYz8Lh7Pv21tvMweLv+PW+s6SpioeQnQYLHBEyPyglbmN0eVpXQE3a18DN7uP0+bK/qKWGi5yRCgcQHT4zJClib3h1VltMQWFse3ZVWE9CCQQTHj0wJyqxvKumhYifktnUw87t4Pf6t7qtoIOOmZTf0sXI6+bx/GdqfXBTXklEDwIVGDs2ISwMARYbODUiL2RpfnNQXUpH3NHGy+jl8v+0ua6jgI2alwALFh0sJzoxWFNORXR/Ymmwu6atnJeKgejj/vXEz9LZe3BtZldcQUojKDU+DwQZEsvA3dbn7PH6k5iFjr+0qaL2/eDr2tHMx66luLOCiZSfRk1QW2phfHceFQgDMjkkL42Gm5Chqre81d7DyPny7+Q9NisgERoHDGVuc3hJQl9U9/zh6tvQzcavpLmyg4iVnkdMUVprYH12HxQJAjM4JS6Mh5qRoKu2vdTfwsn48+7lPDcqIRAbBg1kb3J5SENeVQEKFxwtJjswWVJPRHV+Y2ixuqesnZaLgOni//TFztPYenFsZ1ZdQEsiKTQ/DgUYE8rB3Nfm7fD7kpmEj761qKMACRIbJC02P0hBWlNsZX53kJmCi7S9pq/Y0crD/PXu5zsyKSAfFg0Ec3phaFdeRUyrormwj4adlOPq8fjHztXcdn9kbVJbQEk+NywlGhMIAebv9P3Cy9DZrqe8tYqDmJFNRF9WaWB7cgUMFx4hKDM63dTPxvnw6+KVnIeOsbijquzl/vfIwdrTpK22v4CJkpt8dW5nWFFKQzQ9Ji8QGQIL197FzPP64eiflo2Eu7KpoEdOVVxjanF4DwYdFCsiOTCak4iBvrespdLbwMn2/+TtCgMYES4nPDVCS1BZZm90faGos7qFjJee6eD78s3E39YxOCMqFRwHDnlwa2JdVE9GY3x3e/Jrb8UwAWcr/terdsqCyX36WUfwrdSir5ykcsC3/ZMmNj/3zDSl5fFx2DEVBMcjwxiWBZoHEoDi6yeydQmDLBobblqgUjvWsynjL4RT0QDtIPyxW2rLvjlKTFjP0O+q+0NNM4VF+QJ/UDyfqFGjQI+SnTj1vLbaIRD/89LNDBPsX5dEF8Snfj1kXRlzYIFP3CIqkIhG7rgU3l4L2+AyOgpJBiRcwtOsYpGV5HnnyDdtjdVOqWxW9Opleq4IunglLhymtMbo3XQfS72LinA+tWZIA/YOYTVXuYbBHZ7h+JgRadmOlJseh+nOVSjfjKGJDb/mQmhBmS0PsFS7FlIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH2NAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuN", 256, false);\n                multByTwo = aesConstants[0];\n                multByThree = aesConstants[1];\n                multBy14 = aesConstants[2];\n                multBy13 = aesConstants[3];\n                multBy11 = aesConstants[4];\n                multBy9 = aesConstants[5];\n                sBoxTable = aesConstants[6];\n                invSBoxTable = aesConstants[7];\n                rConTable = aesConstants[8];\n            }\n\n            var blockSize = 128,\n                keyLength,\n                nK,\n                nB = 4,\n                nR,\n                key;\n\n            switch (keyBytes.length * 8) {\n\n                case 128:\n                    keyLength = 128;\n                    nK = 4;\n                    nR = 10;\n                    break;\n\n                case 192:\n                    keyLength = 192;\n                    nK = 6;\n                    nR = 12;\n                    break;\n\n                case 256:\n                    keyLength = 256;\n                    nK = 8;\n                    nR = 14;\n                    break;\n\n                default:\n                    throw new Error("Unsupported keyLength");\n            }\n\n            var shiftRows = function (a) {\n                var tmp = a[1]; a[1] = a[5]; a[5] = a[9]; a[9] = a[13]; a[13] = tmp;\n                tmp = a[2]; a[2] = a[10]; a[10] = tmp;\n                tmp = a[6]; a[6] = a[14]; a[14] = tmp;\n                tmp = a[15]; a[15] = a[11]; a[11] = a[7]; a[7] = a[3]; a[3] = tmp;\n            };\n\n            var invShiftRows = function (a) {\n                var tmp = a[13]; a[13] = a[9]; a[9] = a[5]; a[5] = a[1]; a[1] = tmp;\n                tmp = a[10]; a[10] = a[2]; a[2] = tmp;\n                tmp = a[14]; a[14] = a[6]; a[6] = tmp;\n                tmp = a[3]; a[3] = a[7]; a[7] = a[11]; a[11] = a[15]; a[15] = tmp;\n            };\n\n            var mixColumns = function (state) {\n                /// <summary>Operates on the state column by column, performing a multiplication by x^4 + 1 in GF(2^8)</summary>\n                /// <param name="state" type="Array"> the current state (length 16)</param>\n                /// <returns type="Array">The mixed state</returns>\n                var a = state[0], b = state[1], c = state[2], d = state[3],\n                    e = state[4], f = state[5], g = state[6], h = state[7],\n                    i = state[8], j = state[9], k = state[10], l = state[11],\n                    m = state[12], n = state[13], o = state[14], p = state[15];\n\n                state[0] = multByTwo[a] ^ multByThree[b] ^ c ^ d;\n                state[1] = a ^ multByTwo[b] ^ multByThree[c] ^ d;\n                state[2] = a ^ b ^ multByTwo[c] ^ multByThree[d];\n                state[3] = multByThree[a] ^ b ^ c ^ multByTwo[d];\n                state[4] = multByTwo[e] ^ multByThree[f] ^ g ^ h;\n                state[5] = e ^ multByTwo[f] ^ multByThree[g] ^ h;\n                state[6] = e ^ f ^ multByTwo[g] ^ multByThree[h];\n                state[7] = multByThree[e] ^ f ^ g ^ multByTwo[h];\n                state[8] = multByTwo[i] ^ multByThree[j] ^ k ^ l;\n                state[9] = i ^ multByTwo[j] ^ multByThree[k] ^ l;\n                state[10] = i ^ j ^ multByTwo[k] ^ multByThree[l];\n                state[11] = multByThree[i] ^ j ^ k ^ multByTwo[l];\n                state[12] = multByTwo[m] ^ multByThree[n] ^ o ^ p;\n                state[13] = m ^ multByTwo[n] ^ multByThree[o] ^ p;\n                state[14] = m ^ n ^ multByTwo[o] ^ multByThree[p];\n                state[15] = multByThree[m] ^ n ^ o ^ multByTwo[p];\n            };\n\n            var invMixColumns = function (state) {\n                /// <summary>Operates on the state column by column, performing a multiplication by x^4 + 1 in GF(2^8)</summary>\n                /// <param name="state" type="Array"> the current state (length 16)</param>\n                /// <returns type="Array">The mixed state</returns>\n                var a = state[0], b = state[1], c = state[2], d = state[3],\n                    e = state[4], f = state[5], g = state[6], h = state[7],\n                    i = state[8], j = state[9], k = state[10], l = state[11],\n                    m = state[12], n = state[13], o = state[14], p = state[15];\n\n                state[0] = multBy14[a] ^ multBy11[b] ^ multBy13[c] ^ multBy9[d];\n                state[1] = multBy9[a] ^ multBy14[b] ^ multBy11[c] ^ multBy13[d];\n                state[2] = multBy13[a] ^ multBy9[b] ^ multBy14[c] ^ multBy11[d];\n                state[3] = multBy11[a] ^ multBy13[b] ^ multBy9[c] ^ multBy14[d];\n                state[4] = multBy14[e] ^ multBy11[f] ^ multBy13[g] ^ multBy9[h];\n                state[5] = multBy9[e] ^ multBy14[f] ^ multBy11[g] ^ multBy13[h];\n                state[6] = multBy13[e] ^ multBy9[f] ^ multBy14[g] ^ multBy11[h];\n                state[7] = multBy11[e] ^ multBy13[f] ^ multBy9[g] ^ multBy14[h];\n                state[8] = multBy14[i] ^ multBy11[j] ^ multBy13[k] ^ multBy9[l];\n                state[9] = multBy9[i] ^ multBy14[j] ^ multBy11[k] ^ multBy13[l];\n                state[10] = multBy13[i] ^ multBy9[j] ^ multBy14[k] ^ multBy11[l];\n                state[11] = multBy11[i] ^ multBy13[j] ^ multBy9[k] ^ multBy14[l];\n                state[12] = multBy14[m] ^ multBy11[n] ^ multBy13[o] ^ multBy9[p];\n                state[13] = multBy9[m] ^ multBy14[n] ^ multBy11[o] ^ multBy13[p];\n                state[14] = multBy13[m] ^ multBy9[n] ^ multBy14[o] ^ multBy11[p];\n                state[15] = multBy11[m] ^ multBy13[n] ^ multBy9[o] ^ multBy14[p];\n            };\n\n            var xorWord = function (a, b) {\n                return [a[0] ^ b[0], a[1] ^ b[1], a[2] ^ b[2], a[3] ^ b[3]];\n            };\n\n            var addRoundKey = function ( state, keySchedule, offset) {\n                for (var i = 0 ; i < state.length ; i += 1) {\n                    state[i] ^= keySchedule[i + offset];\n                }\n            };\n\n            var rotWord = function ( word) {\n                var a = word[0];\n                word[0] = word[1]; word[1] = word[2]; word[2] = word[3]; word[3] = a;\n            };\n\n            var subWord = function ( word) {\n                for (var i = 0 ; i < word.length ; i += 1) {\n                    word[i] = sBoxTable[word[i]];\n                }\n            };\n\n            var invSubWord = function ( word) {\n                for (var i = 0 ; i < word.length ; i += 1) {\n                    word[i] = invSBoxTable[word[i]];\n                }\n            };\n\n            var getWord = function (tab, i) {\n                return [tab[4 * i], tab[4 * i + 1], tab[4 * i + 2], tab[4 * i + 3]];\n            };\n\n            var setWord = function ( left, right, indexL, indexR) {\n                left[4 * indexL] = right[4 * indexR];\n                left[4 * indexL + 1] = right[4 * indexR + 1];\n                left[4 * indexL + 2] = right[4 * indexR + 2];\n                left[4 * indexL + 3] = right[4 * indexR + 3];\n            };\n\n            var expandKey = function (key) {\n                var temp, res = [], i = 0;\n                while (i < 4 * nK) {\n                    res.push(key[i++]);\n                }\n\n                i = nK;\n                while (i < nB * (nR + 1)) {\n                    temp = getWord(res, i - 1);\n                    if (i % nK === 0) {\n                        var index = i / nK;\n                        var rcon = [rConTable[index], 0, 0, 0];\n                        rotWord(temp);\n                        subWord(temp);\n                        temp = xorWord(temp, rcon);\n                    } else if (nK > 6 && i % nK === 4) {\n                        subWord(temp);\n                    }\n                    var newWord = xorWord(getWord(res, i - nK), temp);\n                    setWord(res, newWord, i, 0);\n                    i += 1;\n                }\n                return res;\n            };\n\n            key = expandKey(keyBytes);\n\n            return {\n\n                encrypt: function (dataBytes) {\n                    var state = dataBytes,\n                        round;\n\n                    addRoundKey(state, key, 0);\n                    for (round = 1 ; round <= nR - 1 ; round += 1) {\n                        subWord(state);\n                        shiftRows(state);\n                        mixColumns(state);\n                        addRoundKey(state, key, 4 * round * nB);\n                    }\n                    subWord(state);\n                    shiftRows(state);\n                    addRoundKey(state, key, 4 * nR * nB);\n\n                    return state;\n                },\n\n                decrypt: function (dataBytes) {\n                    var state = dataBytes,\n                        round;\n\n                    addRoundKey(state, key, 4 * nR * nB);\n                    for (round = nR - 1 ; round >= 1 ; round -= 1) {\n                        invShiftRows(state);\n                        invSubWord(state);\n                        addRoundKey(state, key, 4 * round * nB);\n                        invMixColumns(state);\n                    }\n                    invShiftRows(state);\n                    invSubWord(state);\n                    addRoundKey(state, key, 0);\n\n                    return state;\n                },\n\n                clear: function () {\n                    // Reset the state\n                },\n\n                keyLength: keyLength,\n\n                blockSize: blockSize\n\n            };\n        }\n\n    };\n\n})();\n\nvar msrcryptoPadding = msrcryptoPadding || {};\n\nmsrcryptoPadding.pkcsv7 = function (blockSize) {\n\n    function pad(messageBlocks) {\n        /// <signature>\n        ///     <summary>Apply PKCS7 padding to message</summary>\n        ///     <param name="messageBlocks" type="Array">An array of blocks to pad</param> <\n        /// </signature>\n\n        var lastIndex = messageBlocks.length - 1 >= 0 ? messageBlocks.length - 1 : 0,\n            lastBlock = messageBlocks[lastIndex],\n            lastBlockLength = lastBlock.length,\n            createNewBlock = (lastBlockLength === blockSize);\n\n        if (createNewBlock) {\n            var newBlock = [], i;\n            for (i = 0 ; i < blockSize; i += 1) {\n                newBlock.push(blockSize);\n            }\n            messageBlocks.push(newBlock);\n        } else {\n            var byteToAdd = (blockSize - lastBlockLength) & 0xff;\n            while (lastBlock.length !== blockSize) {\n                lastBlock.push(byteToAdd);\n            }\n        }\n\n    }\n\n    function unpad(messageBytes) {\n        /// <signature>\n        ///     <summary>Remove PKCS7 padding from the message</summary>\n        ///     <param name="messageBytes" type="Array"></param>\n        ///     <returns type="Boolean">True for legal padding. False if not.</returns>\n        /// </signature>\n\n        var verified = true;\n\n        // Verify the cipher text is an increment of block length\n        if (messageBytes.length % blockSize !== 0) {\n            verified = false;\n        }\n\n        // Get the last block\n        var lastBlock = messageBytes.slice(-blockSize);\n\n        // Get value of the last element in the block\n        // This will be the number of padding bytes on the end if the\n        // message was decrypted correctly.\n        var padLen = lastBlock[lastBlock.length - 1];\n\n        for (var i = 0; i < blockSize; i++) {\n            var isPaddingElement = (blockSize - i <= padLen);\n            var isCorrectValue = (lastBlock[i] === padLen);\n            verified = (isPaddingElement ? isCorrectValue : true) && verified;\n        }\n\n        var trimLen = verified ? padLen : 0;\n\n        messageBytes.length -= trimLen;\n\n        return verified;\n    }\n\n    return {\n        pad: pad,\n        unpad: unpad\n    };\n\n};\n\nvar msrcryptoCbc = function (blockCipher) {\n\n    var blockSize = blockCipher.blockSize / 8;\n\n    var paddingScheme = msrcryptoPadding.pkcsv7(blockSize);\n\n    // Merges an array of block arrays into a single byte array\n    var mergeBlocks = function ( tab) {\n        var res = [], i, j;\n        for (i = 0 ; i < tab.length; i += 1) {\n            var block = tab[i];\n            for (j = 0 ; j < block.length; j += 1) {\n                res.push(block[j]);\n            }\n        }\n        return res;\n    };\n\n    // Breaks an array of bytes into an array of block size arrays of bytes\n    function getBlocks(dataBytes) {\n\n        var blocks = [];\n\n        // Append incoming bytes to the end of the existing buffered bytes\n        mBuffer = mBuffer.concat(dataBytes);\n\n        var blockCount = Math.floor(mBuffer.length / blockSize);\n\n        for (var i = 0; i < blockCount; i++) {\n            blocks.push(mBuffer.slice(i * blockSize, (i + 1) * blockSize));\n        }\n\n        // Set the buffer to the remaining bytes\n        mBuffer = mBuffer.slice(blockCount * blockSize);\n\n        return blocks;\n    }\n\n    function encryptBlocks(blocks) {\n\n        var result = [],\n            toEncrypt;\n\n        for (var i = 0; i < blocks.length; i++) {\n            toEncrypt = msrcryptoUtilities.xorVectors(mIvBytes, blocks[i]);\n            result.push(blockCipher.encrypt(toEncrypt));\n            mIvBytes = result[i];\n        }\n\n        return result;\n    }\n\n    function decryptBlocks(blocks) {\n\n        var result = [],\n            toDecrypt,\n            decrypted;\n\n        for (var i = 0 ; i < blocks.length; i += 1) {\n            toDecrypt = blocks[i].slice(0, blocks[i].length);\n            decrypted = blockCipher.decrypt(toDecrypt);\n            result.push(msrcryptoUtilities.xorVectors(mIvBytes, decrypted));\n            mIvBytes = blocks[i];\n        }\n\n        return result;\n    }\n\n    function clearState() {\n        mBuffer = [];\n        mResultBuffer = [];\n        mIvBytes = null;\n    }\n\n    var mBuffer = [],\n        mResultBuffer = [],\n        mIvBytes;\n\n    return {\n\n        init: function (ivBytes) {\n\n            if (ivBytes.length !== blockSize) {\n                throw new Error("Invalid iv size");\n            }\n\n            mIvBytes = ivBytes.slice();\n        },\n\n        // Does a full encryption of the input\n        encrypt: function (plainBytes) {\n            /// <summary>perform the encryption of the plain text message</summary>\n            /// <param name="plainBytes" type="Array">the plain text to encrypt</param>\n            /// <returns type="Array">the encrypted message</returns>\n\n            this.processEncrypt(plainBytes);\n\n            return this.finishEncrypt();\n        },\n\n        // Encrypts full blocks of streamed input\n        processEncrypt: function (plainBytes) {\n\n            var result = encryptBlocks(getBlocks(plainBytes));\n\n            mResultBuffer = mResultBuffer.concat(mergeBlocks(result));\n\n            return;\n        },\n\n        // Call when done streaming input\n        finishEncrypt: function () {\n\n            var blocks = mBuffer.length === 1 ? [[mBuffer[0]]] : [mBuffer];\n\n            paddingScheme.pad(blocks);\n\n            var result = mResultBuffer.concat(mergeBlocks(encryptBlocks(blocks)));\n\n            clearState();\n\n            return result;\n        },\n\n        // Does a full decryption and returns the result\n        decrypt: function ( cipherBytes) {\n            /// <summary>perform the decryption of the encrypted message</summary>\n            /// <param name="encryptedBytes" type="Array">the plain text to encrypt</param>\n            /// <returns type="Array">the encrypted message</returns>\n\n            this.processDecrypt(cipherBytes);\n\n            return this.finishDecrypt();\n        },\n\n        // Decrypts full blocks of streamed data\n        processDecrypt: function (cipherBytes) {\n\n            var result = decryptBlocks(getBlocks(cipherBytes));\n\n            mResultBuffer = mResultBuffer.concat(mergeBlocks(result));\n\n            return;\n        },\n\n        // Called to finalize streamed decryption\n        finishDecrypt: function () {\n\n            var result = mResultBuffer;\n\n            // Strip the padding.\n            var verified = paddingScheme.unpad(result);\n\n            clearState();\n\n            return result;\n        }\n\n    };\n};\n\nvar cbcInstance = null;\n\nif (typeof operations !== "undefined") {\n\n    msrcryptoCbc.workerEncrypt = function (p) {\n\n        var result;\n\n        if (!cbcInstance) {\n            cbcInstance = msrcryptoCbc(msrcryptoBlockCipher.aes(p.keyData));\n            cbcInstance.init(p.algorithm.iv);\n        }\n\n        if (p.operationSubType === "process") {\n            cbcInstance.processEncrypt(p.buffer);\n            return;\n        }\n\n        if (p.operationSubType === "finish") {\n            result = cbcInstance.finishEncrypt();\n            cbcInstance = null;\n            return result;\n        }\n\n        result = cbcInstance.encrypt(p.buffer);\n        cbcInstance = null;\n        return result;\n    };\n\n    msrcryptoCbc.workerDecrypt = function (p) {\n\n        var result;\n\n        if (!cbcInstance) {\n            cbcInstance = msrcryptoCbc(msrcryptoBlockCipher.aes(p.keyData));\n            cbcInstance.init(p.algorithm.iv);\n        }\n\n        if (p.operationSubType === "process") {\n            cbcInstance.processDecrypt(p.buffer);\n            return;\n        }\n\n        if (p.operationSubType === "finish") {\n            result = cbcInstance.finishDecrypt();\n            cbcInstance = null;\n            return result;\n        }\n\n        result = cbcInstance.decrypt(p.buffer);\n        cbcInstance = null;\n        return result;\n    };\n\n    msrcryptoCbc.generateKey = function (p) {\n\n        if (p.algorithm.length % 8 !== 0) {\n            throw new Error();\n        }\n\n        return {\n            type: "keyGeneration",\n            keyData: msrcryptoPseudoRandom.getBytes(Math.floor(p.algorithm.length / 8)),\n            keyHandle: {\n                algorithm: p.algorithm,\n                extractable: p.extractable,\n                keyUsage: null || p.keyUsage,\n                type: "secret"\n            }\n        };\n    };\n\n    msrcryptoCbc.importKey = function (p) {\n\n        var keyObject = msrcryptoJwk.jwkToKey(p.keyData, p.algorithm, ["k"]);\n\n        return {\n            type: "keyImport",\n            keyData: keyObject.k,\n            keyHandle: {\n                algorithm: p.algorithm,\n                extractable: p.extractable || keyObject.extractable,\n                keyUsage: null || p.keyUsage,\n                type: "secret"\n            }\n        };\n    };\n\n    msrcryptoCbc.exportKey = function (p) {\n\n        var jsonKeyStringArray = msrcryptoJwk.keyToJwk(p.keyHandle, p.keyData);\n\n        return { type: "keyExport", keyHandle: jsonKeyStringArray };\n    };\n\n    operations.register("importKey", "aes-cbc", msrcryptoCbc.importKey);\n    operations.register("exportKey", "aes-cbc", msrcryptoCbc.exportKey);\n    operations.register("generateKey", "aes-cbc", msrcryptoCbc.generateKey);\n    operations.register("encrypt", "aes-cbc", msrcryptoCbc.workerEncrypt);\n    operations.register("decrypt", "aes-cbc", msrcryptoCbc.workerDecrypt);\n} function MsrcryptoPrng() {\n    /// <summary>Pseudo Random Number Generator function/class.</summary>\n    /// <remarks>This is the PRNG engine, not the entropy collector.\n    /// The engine must be initialized with adequate entropy in order to generate cryptographically secure\n    /// random numbers. It is hard to get entropy, but see the entropy functoin/class for the entropy gatherer.\n    /// This is not an object instantiation, but the definition of the object. The actual\n    /// object must be instantiated somewhere else as needed.\n    /// </remarks>\n\n    if (!(this instanceof MsrcryptoPrng)) {\n        throw new Error("create MsrcryptoPrng object with new keyword");\n    }\n\n    // Fallback for browsers which do not implements crypto API yet\n    // implementation of http://csrc.nist.gov/publications/nistpubs/800-90A/SP800-90A.pdf.\n    // Use AES-256 in CTR mode of operation as defined in Section 10.2.1.\n    var initialized = false;\n\n    // Internal state definitions are as follows.\n    // v : internal variable that will ultimately be the random output\n    // key: the AES key (256 bits)\n    // keyLen: the AES key length in bytes\n    // reseedCounter: the number of requests for pseudorandom bits since instantiation/reseeding\n    // reseedInterval: Maximum number of generate calls per seed or reseed. SP800-90A says 2^48 for AES, we use 2^24.\n    var key;\n    var v;\n    var keyLen;\n    var seedLen;\n    var reseedCounter = 1;\n    var reseedInterval = 1 << 24;\n\n    // Initialize this instance (constructor like function)\n    initialize();\n\n    function addOne(counter) {\n        /// <summary>Adds one to a big integer represented in an array (the first argument).</summary>\n        /// <param name="counter" counter="Array">The counter byte array to add one to encoded in big endian; index 0 is the MSW.</param>\n        var i;\n        for (i = counter.length - 1; i >= 0; i -= 1) {\n            counter[i] += 1;\n            if (counter[i] >= 256) {\n                counter[i] = 0;\n            }\n            if (counter[i]) {\n                break;\n            }\n        }\n    }\n\n    function initialize() {\n        /// <summary>Instantiate the PRNG with given entropy and personalization string.</summary>\n        /// <param name="entropy" type="Array">Array of bytes obtained from the source of entropy input.</param>\n        /// <param name="personalizationString" type="Array">Optional application-provided personalization string.</param>\n        key = msrcryptoUtilities.getVector(32);\n        v = msrcryptoUtilities.getVector(16);            // AES block length\n        keyLen = 32;\n        seedLen = 48;       // From SP800-90A, section 10.2.1 as of 2014.\n        reseedCounter = 1;\n    }\n\n    function reseed(entropy, additionalEntropy) {\n        /// <summary>Reseed the PRNG with additional entropy.</summary>\n        /// <param name="entropy" type="Array">Input entropy.</param>\n        /// <param name="additionalEntropy" type="Array">Optional additional entropy input.</param>\n        additionalEntropy = additionalEntropy || [0];\n        if (additionalEntropy.length > seedLen) {\n            throw new Error("Incorrect entropy or additionalEntropy length");\n        }\n        additionalEntropy = additionalEntropy.concat(msrcryptoUtilities.getVector(seedLen - additionalEntropy.length));\n\n        // Process the entropy input in blocks with the same additional entropy.\n        // This is equivalent to the caller chunking entropy in blocks and calling this function for each chunk.\n        entropy = entropy.concat(msrcryptoUtilities.getVector((seedLen - (entropy.length % seedLen)) % seedLen));\n        for (var i = 0; i < entropy.length; i += seedLen) {\n            var seedMaterial = msrcryptoUtilities.xorVectors(entropy.slice(i, i + seedLen), additionalEntropy);\n            update(seedMaterial);\n        }\n        reseedCounter = 1;\n    }\n\n    function update(providedData) {\n        /// <summary>Add the providedData to the internal entropy pool, and update internal state.</summary>\n        /// <param name="providedData" type="Array">Input to add to the internal entropy pool.</param>\n        var temp = [];\n        var blockCipher = new msrcryptoBlockCipher.aes(key);\n        while (temp.length < seedLen) {\n            addOne(v);\n            var toEncrypt = v.slice(0, 16);\n            var outputBlock = blockCipher.encrypt(toEncrypt); // AES-256\n            temp = temp.concat(outputBlock);\n        }\n        temp = msrcryptoUtilities.xorVectors(temp, providedData);\n        key = temp.slice(0, keyLen);\n        v = temp.slice(keyLen);\n    }\n\n    function generate(requestedBytes, additionalInput) {\n        /// <summary>Generate pseudo-random bits, and update the internal PRNG state.</summary>\n        /// <param name="requestedBytes" type="Number">Number of pseudorandom bytes to be returned.</param>\n        /// <param name="additionalInput" type="Array">Application-provided additional input array (optional).</param>\n        /// <returns>Generated pseudorandom bytes.</returns>\n        if (requestedBytes >= 65536) {\n            throw new Error("too much random requested");\n        }\n        if (reseedCounter > reseedInterval) {\n            throw new Error("Reseeding is required");\n        }\n        if (additionalInput && additionalInput.length > 0) {\n            while (additionalInput.length < seedLen) {\n                additionalInput = additionalInput.concat(msrcryptoUtilities.getVector(seedLen - additionalInput.length));\n            }\n            update(additionalInput);\n        } else {\n            additionalInput = msrcryptoUtilities.getVector(seedLen);\n        }\n        var temp = [];\n        var blockCipher = new msrcryptoBlockCipher.aes(key);\n        while (temp.length < requestedBytes) {\n            addOne(v);\n            var toEncrypt = v.slice(0, v.length);\n            var outputBlock = blockCipher.encrypt(toEncrypt);\n            temp = temp.concat(outputBlock);\n        }\n        temp = temp.slice(0, requestedBytes);\n        update(additionalInput);\n        reseedCounter += 1;\n        return temp;\n    }\n\n    return {\n        reseed: reseed,\n        /// <summary>Reseed the PRNG with additional entropy.</summary>\n        /// <param name="entropy" type="Array">Input entropy.</param>\n        /// <param name="additionalEntropy" type="Array">Optional additional entropy input.</param>\n\n        init: function (entropy, personalization) {\n            /// <summary>Initialize the PRNG by seeing with entropy and optional input data.</summary>\n            /// <param name="entropy" type="Array">Input entropy.</param>\n            /// <param name="personalization" type="Array">Optional input.</param>\n            if (entropy.length < seedLen) {\n                throw new Error("Initial entropy length too short");\n            }\n            initialize();\n            reseed(entropy, personalization);\n            initialized = true;\n        },\n        getBytes: function (length, additionalInput) {\n            if (!initialized) {\n                throw new Error("can\'t get randomness before initialization");\n            }\n            return generate(length, additionalInput);\n        },\n        getNonZeroBytes: function (length, additionalInput) {\n            if (!initialized) {\n                throw new Error("can\'t get randomness before initialization");\n            }\n            var result = [], buff;\n            while (result.length < length) {\n                buff = generate(length, additionalInput);\n                for (var i = 0 ; i < buff.length; i += 1) {\n                    if (buff[i] !== 0) {\n                        result.push(buff[i]);\n                    }\n                }\n            }\n            return result.slice(0, length);\n        }\n    };\n}\n\n// This is the PRNG object per instantiation, including one per worker.\n// The instance in the main thread is used to seed the instances in workers.\n// TODO: Consider combining the entropy pool in the main thread with the PRNG instance in the main thread.\nvar msrcryptoPseudoRandom = new MsrcryptoPrng();\n\nfunction MsrcryptoEntropy() {\n    /// <summary>Opportunistic entropy collector.</summary>\n    /// <remarks>See E.Stark, M.Hamburg, D.Boneh, "Symmetric Cryptography in Javascript", ACSAC, 2009.\n    /// This is not an object instantiation, but the definition of the object. The actual\n    /// object must be instantiated somewhere else as needed.\n    /// If window.{crypto,msCrypto}.getRandomValues() function is present, do not register mouse and JS load events,\n    /// because they slow down the execution, and it is not clear how much they contributed over and above\n    /// a cryptographic random value.\n    /// </remarks>\n\n    var poolLength = 48;      // In bytes, from SP800-90A, Section 10.2.1. See random.js for constraints.\n    var collectorPool = [];\n    var collectorPoolLength = 128;  // Bytes to collect before stopping; collectors are restartable.\n    var collectorsRegistered = 0;\n    var entropyPoolPrng = new MsrcryptoPrng();\n    var initialized = false;\n    var cryptographicPRNGPresent = false;\n    var headerList = ["Cookie", "RedirectUri", "ETag", "x-ms-client-antiforgery-id", "x-ms-client-request-id", "x-ms-client-session-id", "SubscriptionPool"];\n\n    function collectEntropy() {\n        /// <summary>Initialize the internal pool with as much randomness as one can get in JS.\n        /// In the worst case, there is zero bits of entropy.</summary>\n\n        var i, pool = [];\n\n        // In Safari, as of r39510, reportedly, Math.random() is cryptographically secure on Mac and Windows.\n        // Even if it isn\'t, mix that in via XORing into the existing array.\n        // According to ECMA, Math.random() returns [0,1). Thus, multiply it by 256 to get [0,256).\n        for (i = 0; i < poolLength; i += 1) {\n            pool[i] = Math.floor(Math.random() * 256);\n        }\n\n        // For browsers that implement window.crypto.getRandomValues, use it.\n        var prngCrypto = window.crypto || window.msCrypto;       // WARNING: !!! Do not put this in a function (remember polyfill) !!!\n        if (prngCrypto && typeof prngCrypto.getRandomValues === "function") {\n            if (window.Uint8Array) {\n                var res = new window.Uint8Array(poolLength);\n                prngCrypto.getRandomValues(res);\n                pool = pool.concat(Array.apply(null, res));\n                cryptographicPRNGPresent = true;\n            }\n        }\n\n        // Read HTTP headers that contain entropy and reseed the entropy pool\n        var req = new XMLHttpRequest();\n        for (i = 0; i < headerList.length; i += 1) {\n            try {\n                var header = req.getResponseHeader(headerList[i]);\n                if (header) {\n                    var arr = msrcryptoUtilities.stringToBytes(header);\n                    pool = pool.concat(arr);\n                }\n            }\n            catch (err) {\n                // Ignore any header I can\'t get\n            }\n        }\n\n        if (!cryptographicPRNGPresent) {\n            // Add any data in the collector pool, empty the collector pool, and restart collectors.\n            pool = pool.concat(collectorPool.splice(0, collectorPool.length));\n            collectors.startCollectors();\n        }\n\n        // Worst case: initialized with Math.random()\n        initialized ? entropyPoolPrng.reseed(pool) : entropyPoolPrng.init(pool);\n        initialized = true;\n    }\n\n    function updatePool(entropyData) {\n        /// <summary>Collect the incoming data into the pool, and\n        /// empty the pool into the entropy PRNG state when the pool is full.\n        /// This function is additive entropy, only; this is not the main source of entropy.</summary>\n        /// <param name="entropyData" type="Array">Entropy input.</param>\n        for (var i = 0; i < entropyData.length; ++i) {\n            collectorPool.push(entropyData[i]);\n        }\n        if (collectorPool.length >= collectorPoolLength) {\n            // Stop the collectors (performance reasons).\n            // The real entropy does not come from the event callbacks: these are at best uniquifiers.\n            collectors.stopCollectors();\n        }\n    }\n\n    // Event listeners are not supported in IE 8.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener\n    // to add IE8 support.\n    // BUGBUG: For the time being, I am not bothering with IE8 support - fix this.\n    var collectors = (function () {\n        return {\n            startCollectors: function () {\n                if (!this.collectorsRegistered) {\n                    if (window.addEventListener) {\n                        window.addEventListener("mousemove", this.MouseEventCallBack, true);\n                        window.addEventListener("load", this.LoadTimeCallBack, true);\n                    } else if (document.attachEvent) {\n                        document.attachEvent("onmousemove", this.MouseEventCallBack);\n                        document.attachEvent("onload", this.LoadTimeCallBack);\n                    } else {\n                        throw new Error("Can\'t attach events for entropy collection");\n                    }\n\n                    this.collectorsRegistered = 1;\n                }\n            },\n            stopCollectors: function () {\n                if (this.collectorsRegistered) {\n                    if (window.removeEventListener) {\n                        window.removeEventListener("mousemove", this.MouseEventCallBack, 1);\n                        window.removeEventListener("load", this.LoadTimeCallBack, 1);\n                    } else if (window.detachEvent) {\n                        window.detachEvent("onmousemove", this.MouseEventCallBack);\n                        window.detachEvent("onload", this.LoadTimeCallBack);\n                    }\n\n                    this.collectorsRegistered = 0;\n                }\n            },\n            MouseEventCallBack: function (eventData) {\n                /// <summary>Add the mouse coordinates to the entropy pool and the Date.</summary>\n                /// <param name="eventData">Event data with mouse information.</param>\n                var d = (new Date()).valueOf();\n                var x = eventData.x || eventData.clientX || eventData.offsetX || 0;\n                var y = eventData.y || eventData.clientY || eventData.offsetY || 0;\n                var arr = [d & 0x0ff, (d >> 8) & 0x0ff, (d >> 16) & 0x0ff, (d >> 24) & 0x0ff,\n                        x & 0x0ff, (x >> 8) & 0x0ff, y & 0x0ff, (y >> 8) & 0x0ff];\n\n                updatePool(arr);\n            },\n            LoadTimeCallBack: function () {\n                /// <summary>Add date to the entropy pool.</summary>\n                /// <remarks>Date valueOf() returns milliseconds since midnight 1/1/1970 UTC in a 32 bit integer</remarks>\n                var d = (new Date()).valueOf();\n                var dateArray = [d & 0x0ff, (d >> 8) & 0x0ff, (d >> 16) & 0x0ff, (d >> 24) & 0x0ff];\n\n                updatePool(dateArray);\n            }\n        };\n    })();\n\n    return {\n        init: function () {\n            collectEntropy();\n\n            // Register collectors\n            if (!cryptographicPRNGPresent && !collectorsRegistered) {\n                try {\n                    collectors.startCollectors();\n                }\n                catch (e) {\n                    // Ignore errors instead of trying to do something browser specific. That is not tractable.\n                    // It is expected that the calling program injects most of the entropy or the build-in collectors\n                    // contributes rather than registered events.\n                }\n            }\n        },\n\n        reseed: function (entropy) {\n            /// <summary>Mix in entropy into the pool.</summary>\n            /// <param name="entropy" type="Array">Entropy to mix in.</param>\n            entropyPoolPrng.reseed(entropy);\n        },\n\n        read: function (length) {\n            /// <summary>Read entropy from the entropy pool. This function fails if there isn\'t enough entropy.</summary>\n            /// <param name="length" type="Number">Number of bytes of requested entropy.</param>\n            /// <returns type="Array">Entropy if there is enough in the pool, or undefined if there isn\'t enough entropy.</returns>\n            if (!initialized) {\n                throw new Error("Entropy pool is not initialized.");\n            }\n\n            var ret = entropyPoolPrng.getBytes(length);\n\n            // TODO: Do this async?\n            //       No, another call may come through before the pool is reseeded.\n            //       All PRNGs have their own running state anyhow. They can reseed themselves in async mode, if need be.\n            collectEntropy();\n\n            return ret;\n        }\n    };\n}\n\nvar msrcryptoSubtle;\n\n// This code is not used in web worker instance.\nif (!runningInWorkerInstance) {\n\n    msrcryptoSubtle = (function() {\n\n// This worker is used when webworkers aren\'t available.\n// It will function synchronously but use the same\n//   mechanisms that the asynchronous webworkers use.\nfunction syncWorker() {\n    var result;\n\n    // PostMessage is how you interact with a worker. You post some data to the worker\n    // and it will process it and return it\'s data to the onmessage function.\n    // Since we\'re really running synchronously, we call the crypto function in\n    // PostMessage and wait for the result. Then we call the OnMessage fuction with\n    // that result. This will give the same behavior as a web-worker.\n    function postMessage(data) {\n\n        // Web-workers will automatically return an error message when an\n        // error is thrown within the web worker.\n        // When using a sync worker, we\'ll have to catch thrown errors, so we\n        // need a try/catch block here.\n        try {\n            result = msrcryptoWorker.jsCryptoRunner( { data: data });\n\n            // \'process\' operations don\'t return values, so we don\'t\n            // forward the worker return message.\n            if (!data.operationSubType || data.operationSubType !== "process") {\n                this.onmessage({ data: result });\n            }\n\n        } catch (ex) {\n            this.onerror({ data: ex.description, type: "error" });\n        }\n    }\n\n    return {\n        postMessage: postMessage,\n        onmessage: null,\n        onerror: null,\n        terminate: function () {\n            // This is a no-op to be compatible with webworker.\n        }\n    };\n}\n\n/// <dictionary>Obj,oncomplete,onerror</dictionary>\n\nvar ie8OnCompletePollingInterval = 100; // Milliseconds\n\nfunction baseOperation(processResults) {\n\n    var result = null,\n        oncompleteCallback = null,\n        onerrorCallback = null,\n        retObj;\n\n    function opAddEventListener(eventType, listener) {\n\n    }\n\n    function opRemoveEventListener(eventType, listener) {\n\n    }\n\n    function onCompleteSet(value) {\n        oncompleteCallback = value;\n\n        // If we are just now setting the oncomplete event, but we already have a result,\n        //   call the oncomplete function passing the result.\n        // This can happen if the crypto function finishes before the oncompleted handler has been set.\n        if (this.result) {\n            oncompleteCallback({ target: this });\n        }\n    }\n\n    function onErrorSet(value) {\n        onerrorCallback = value;\n    }\n\n    function onCompleteGet() {\n        return oncompleteCallback;\n    }\n\n    function onErrorGet() {\n        return onerrorCallback;\n    }\n\n    // Called when the worker returns a result\n    function opDispatchEvent( e) {\n\n        // If the event is an Error call the onError callback\n        if (e.type === "error") {\n\n            // If the onerror callback has been set, call it.\n            if (this.onerror) {\n                this.onerror(e);\n            }\n            return;\n        }\n\n        // If we\'ve returned from a \'process\' call, do nothing.\n        if (e.type === "process") {\n            return;\n        }\n\n        // Otherwise call the oncomplete callback\n        this.result = processResults(e.data);\n\n        // If the oncomplete callback has been set, call it.\n        if (this.oncomplete) {\n            this.oncomplete({ target: this });\n\n        } else {  // The oncomplete event has not been set\n\n        }\n\n        return;\n    }\n\n    retObj = {\n        dispatchEvent: opDispatchEvent,\n        addEventListener: opAddEventListener,\n        removeEventListener: opRemoveEventListener,\n        result: null\n    };\n\n    createProperty(retObj, "oncomplete", null, onCompleteGet, onCompleteSet);\n    createProperty(retObj, "onerror", null, onErrorGet, onErrorSet);\n\n    return retObj;\n}\n\nfunction keyOperation() {\n\n    function processResult(result) {\n\n        // Could be the result of an import, export, generate.\n        // Get the keyData and keyHandle out.\n        switch (result.type) {\n\n            // KeyImport: save the new key\n            case "keyGeneration":\n            case "keyImport":\n            case "keyDerive":\n                keys.add(result.keyHandle, result.keyData);\n                return result.keyHandle;\n\n                // KeyExport: return the export data\n            case "keyExport":\n                return toArrayBufferIfSupported(result.keyHandle);\n\n            case "keyPairGeneration":\n                keys.add(result.keyPair.publicKey.keyHandle, result.keyPair.publicKey.keyData);\n                keys.add(result.keyPair.privateKey.keyHandle, result.keyPair.privateKey.keyData);\n                return {\n                    publicKey: result.keyPair.publicKey.keyHandle,\n                    privateKey: result.keyPair.privateKey.keyHandle\n                };\n\n            default:\n                throw new Error("Unknown key operation");\n        }\n\n        return;\n    }\n\n    return baseOperation(processResult);\n}\n\nfunction cryptoOperation(cryptoContext) {\n\n    function processResult(result) {\n\n        // If the browser supports typed-arrays, return an ArrayBuffer like IE11.\n        result = toArrayBufferIfSupported(result);\n\n        // A normal array will be returned.\n        return result;\n    }\n\n    var op = baseOperation(processResult);\n\n    op.process = function (buffer) {\n        cryptoContext.operationSubType = "process";\n        cryptoContext.buffer = utils.toArray(buffer);\n        workerManager.continueJob(this,\n            utils.clone(cryptoContext));\n    };\n\n    op.finish = function () {\n        cryptoContext.operationSubType = "finish";\n        cryptoContext.buffer = [];\n        workerManager.continueJob(this,\n            utils.clone(cryptoContext));\n    };\n\n    op.abort = function () {\n        workerManager.abortJob(this);\n    };\n\n    op.onabort = null;\n    op.onprogress = null;\n\n    op.algorithm = cryptoContext.algorithm || null;\n    op.key = cryptoContext.keyHandle || null;\n\n    return op;\n}\n\nfunction toArrayBufferIfSupported(dataArray) {\n\n    // If the browser supports typed-arrays, return an ArrayBuffer like IE11.\n    if (typedArraySupport && dataArray.pop) {\n\n        // We can\'t write to an ArrayBuffer directly so we create a Uint8Array\n        //   and return it\'s buffer property.\n        return (new Uint8Array(dataArray)).buffer;\n    }\n\n    // Do nothing and just return the passed-in array.\n    return dataArray;\n}\n\n// IE8 doesn\'t support setters/getters on non-dom objects\n//   so we have to poll the oncomplete property to see if it\'s been\n//   set, then call it when running in synchronous mode.\nfunction ie8NoSetterFix( operation) {\n\n    if (operation.oncomplete) {\n        operation.oncomplete({ target: operation });\n    } else {\n        setTimeout(\n            function () {\n                ie8NoSetterFix(operation);\n            }, ie8OnCompletePollingInterval);\n    }\n}\n\n// Storage for the keyData.\n// Stored as {keyHandle: keyHandle, keyData: keyData} objects.\nvar keys = [];\nkeys.add = function (keyHandle, keyData) {\n    keys.push({ keyHandle: keyHandle, keyData: keyData });\n};\nkeys.remove = function (keyHandle) {\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i].keyHandle === keyHandle) {\n            keys = keys.splice(i, 1);\n            return;\n        }\n    }\n};\nkeys.lookup = function (keyHandle) {\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i].keyHandle === keyHandle) {\n            return keys[i].keyData;\n        }\n    }\n    return null;\n};\n\n// Manages the pool of webworkers and job queue.\n// We first try to find an idle webworker and pass it a crypto job.\n// If there are no workers or they are all busy, we\'ll create a new one.\n// If we\'re at our (somewhat arbitrary) limit for workers we\'ll queue the\n//   job until a worker is free.\n// When a worker finishes and the queue is empty it will kill itself to\n//   free resources.\n// However, we will keep a couple idle workers alive for future use.\n// In the case webworkers are not supported <IE10 we will run in synchronous\n//   mode. Jobs will be executed synchronously as they arrive using a single\n//   syncWorker (pretend webworker that just runs synchronously in this same script).\nvar workerManager = (function () {\n\n    // The max number of webworkers we\'ll spawn.\n    var maxWorkers = 15;\n\n    // The number of idle webworkers we\'ll allow to live for future use.\n    var maxFreeWorkers = 4;\n\n    // Storage for webworker.\n    var workerPool = [];\n\n    // Queue for jobs when all workers are busy.\n    var jobQueue = [];\n\n    // Each job gets and id.\n    var jobId = 0;\n\n    function getFreeWorker() {\n\n        purgeWorkerType(!asyncMode);\n\n        // Get the first non-busy worker\n        for (var i = 0; i < workerPool.length; i++) {\n            if (!workerPool[i].busy) {\n                return workerPool[i];\n            }\n        }\n\n        return null;\n    }\n\n    function purgeWorkerType(webWorker) {\n        for (var i = workerPool.length - 1; i >= 0; i -= 1) {\n            if (workerPool[i].isWebWorker === webWorker) {\n                workerPool[i].terminate();\n                workerPool.splice(i, 1);\n            }\n        }\n    }\n\n    function freeWorkerCount() {\n        var freeWorkers = 0;\n        for (var i = 0; i < workerPool.length; i++) {\n            if (!workerPool[i].busy) {\n                freeWorkers += 1;\n            }\n        }\n        return freeWorkers;\n    }\n\n    function addWorkerToPool(worker) {\n        workerPool.push(worker);\n    }\n\n    function removeWorkerFromPool(worker) {\n        // Find this worker in the array.\n        for (var i = 0; i < workerPool.length; i++) {\n            if (workerPool[i] === worker) {\n                // Kill the webworker.\n                worker.terminate();\n                // Remove the worker object from the pool.\n                workerPool.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n    function lookupWorkerByOperation(operation) {\n        // Find this worker in the array.\n        for (var i = 0; i < workerPool.length; i++) {\n            if (workerPool[i].operation === operation) {\n                return workerPool[i];\n            }\n        }\n        // Didn\'t find the worker!?\n        return null;\n    }\n\n    function queueJob(operation, data) {\n        jobQueue.push({ operation: operation, data: data, id: jobId++ });\n    }\n\n    function jobCompleted(worker) {\n\n        worker.busy = false;\n        worker.operation = null;\n\n        // Check the queue for waiting jobs if in async mode\n        if (asyncMode) {\n            if (jobQueue.length > 0) {\n                var job = jobQueue.shift();\n                continueJob(job.operation, job.data);\n\n            } else if (freeWorkerCount() > maxFreeWorkers) {\n                removeWorkerFromPool(worker);\n            }\n        }\n\n    }\n\n    function createNewWorker(operation) {\n\n        // Use a web worker if supported\n        //   else use a synchronous worker.\n        var worker;\n\n        if (asyncMode) {\n            try {\n                worker = new Worker(scriptBlobUrl);\n                worker.postMessage({ prngSeed: msrcryptoPseudoRandom.getBytes(48) });\n                worker.isWebWorker = true;\n            } catch (ex) {\n                asyncMode = false;\n                publicMethods.forceSync = true;\n                worker = syncWorker();\n                worker.isWebWorker = false;\n            }\n\n        } else {\n            worker = syncWorker();\n            worker.isWebWorker = false;\n        }\n\n        // Store the operation object as a property on the worker\n        //   so we can know which operation this worker is working for.\n        worker.operation = operation;\n\n        worker.busy = false;\n\n        // The worker will call this function when it completes its job.\n        worker.onmessage = function ( e) {\n\n            var op = worker.operation;\n\n            // Check if there are queued jobs for this operation\n            for (var i = 0; i < jobQueue.length; i++) {\n                if (jobQueue[i].operation === worker.operation) {\n                    var job = jobQueue[i];\n                    jobQueue.splice(i, 1);\n                    postMessageToWorker(worker, job.data);\n                    return;\n                }\n            }\n\n            // Send the results to the operation object and it will fire\n            //   it\'s onCompleted event.\n            if (op && e.data.type !== "process") {\n                jobCompleted(worker);\n                op.dispatchEvent(e);\n            }\n        };\n\n        // If an error occurs within the worker.\n        worker.onerror = function ( e) {\n\n            var op = worker.operation;\n\n            jobCompleted(worker);\n\n            // Send the error to the operation object and it will fire\n            //   it\'s onError event.\n            op.dispatchEvent(e);\n\n        };\n\n        // Add this new worker to the worker pool.\n        addWorkerToPool(worker);\n\n        return worker;\n    }\n\n    function abortJob(cryptoOperationObject) {\n        var worker = lookupWorkerByOperation(cryptoOperationObject);\n        if (worker) {\n            removeWorkerFromPool(worker);\n        }\n    }\n\n    // Creates or reuses a worker and starts it up on work.\n    function runJob( operation, data) {\n\n        var worker = null;\n\n        // If the caller adds the "forceSync" property and sets it to true.\n        // Then run in synchronous mode even if webworkers are available.\n        // This can be turned on or off on the fly.\n        asyncMode = webWorkerSupport && !(publicMethods.forceSync);\n\n        // Get the first idle worker.\n        worker = getFreeWorker();\n\n        // Queue this job if all workers are busy and we\'re at our max instances\n        if (asyncMode && worker === null && workerPool.length >= maxWorkers) {\n            queueJob(operation, data);\n            return;\n        }\n\n        // No idle workers, we\'ll have to create a new one.\n        if (worker === null) {\n            worker = createNewWorker(operation);\n        }\n\n        if (worker === null) {\n            queueJob(operation, data);\n            throw new Error("could not create new worker");\n        }\n\n        // Store the operation object as a property on the worker\n        //   so we can know which operation this worker is working for.\n        worker.operation = operation;\n\n        // Mark this worker as \'busy\'. It\'s about to run a job.\n        worker.busy = true;\n\n        // Start the worker\n        postMessageToWorker(worker, data);\n\n    }\n\n    function continueJob(/*type(cryptoOperation)*/operation, data) {\n\n        // Lookup the worker that is handling this operation\n        var worker = lookupWorkerByOperation(operation);\n\n        if (worker) {\n            postMessageToWorker(worker, data);\n            return;\n        }\n\n        // If we didn\'t find a worker, this is probably the first\n        //  \'process\' message so we need to start a new worker.\n        runJob(operation, data);\n\n    }\n\n    function postMessageToWorker(worker, data) {\n        // Start the worker now if using webWorkers\n        //   else, defer running until later.\n        if (asyncMode) {\n            worker.data = data;\n            worker.postMessage(data);\n        } else {\n            setTimeout(function () { worker.postMessage(data); }, 0);\n        }\n\n    }\n\n    return {\n        runJob: runJob,\n        continueJob: continueJob,\n        abortJob: abortJob\n    };\n\n})();\n\nvar utils = msrcryptoUtilities;\n\nfunction checkOperation(operationType, algorithmName) {\n    if (!operations.exists(operationType, algorithmName)) {\n        throw new Error("unsupported algorithm");\n    }\n}\n\n// The list of possible parameters passed to the subtle interface.\nvar subtleParameters = [\n   /* 0 */ { name: "algorithm", type: "Object", required: true },\n   /* 1 */ { name: "keyHandle", type: "Object", required: true },\n   /* 2 */ { name: "buffer", type: "Array", required: false },\n   /* 3 */ { name: "signature", type: "Array", required: true },\n   /* 4 */ { name: "format", type: "String", required: true },\n   /* 5 */ { name: "keyData", type: "Array", required: true },\n   /* 6 */ { name: "extractable", type: "Boolean", required: false },\n   /* 7 */ { name: "keyUsages", type: "Array", required: false },\n   /* 8 */ { name: "derivedKeyType", type: "Object", required: true },\n   /* 9 */ { name: "length", type: "Number", required: false }\n];\n\n// The set of expected parameters passed to each subtle function.\nvar subtleParametersSets = {\n    encrypt: [0, 1, 2],\n    decrypt: [0, 1, 2],\n    sign: [0, 1, 2],\n    verify: [0, 1, 3, 2],\n    digest: [0, 2],\n    generateKey: [0, 6, 7],\n    importKey: [4, 5, 0, 6, 7],\n    exportKey: [0, 4, 1, 6, 7],\n    deriveKey: [0, 1, 8, 6, 7],\n    deriveBits: [0, 1, 9],\n    wrapKey: [1, 1, 0],\n    unwrapKey: [2, 0, 1, 6, 7]\n};\n\n// Looks up the stored key data for a given keyHandle\nfunction lookupKeyData(handle) {\n    var data = keys.lookup(handle);\n\n    if (!data) {\n        throw new Error("key not found");\n    }\n\n    return data;\n}\n\n// This function processes each parameter passed by the user. Each parameter\n// is compared against an expected parameter. It should be of the expected type.\n// Typed-Array parameters are converted to regular Arrays.\nfunction buildParameterCollection(operationName, parameterSet) {\n\n    var parameterCollection = { operationType: operationName },\n        operationParameterSet = subtleParametersSets[operationName];\n\n    for (var i = 0; i < operationParameterSet.length; i += 1) {\n\n        var expectedParam = subtleParameters[operationParameterSet[i]];\n        var actualParam = parameterSet[i];\n\n        // Verify the required parameters are present.\n        if (!actualParam) {\n            if (expectedParam.required) {\n                throw new Error(expectedParam.name);\n            } else {\n                continue;\n            }\n        }\n\n        // If this parameter is a typed-array convert it to a regular array.\n        if (actualParam.subarray) {\n            actualParam = utils.toArray(actualParam);\n        }\n\n        // Verify the actual parameter is of the expected type.\n        if (msrcryptoUtilities.getObjectType(actualParam) !== expectedParam.type) {\n            throw new Error(expectedParam.name);\n        }\n\n        // If this parameter is an algorithm object convert it\'s name to lowercase.\n        if (expectedParam.name === "algorithm") {\n\n            actualParam.name = actualParam.name.toLowerCase();\n\n            // If the algorithm has a typed-array IV, convert it to a regular array.\n            if (actualParam.iv) {\n                actualParam.iv = utils.toArray(actualParam.iv);\n            }\n\n            // If the algorithm has a typed-array Salt, convert it to a regular array.\n            if (actualParam.salt) {\n                actualParam.salt = utils.toArray(actualParam.salt);\n            }\n\n            // If the algorithm has a typed-array AdditionalData, convert it to a regular array.\n            if (actualParam.additionalData) {\n                actualParam.additionalData = utils.toArray(actualParam.additionalData);\n            }\n\n            // If this algorithm has a hash property in the form \'hash: hashName\'\n            // Convert it to hash: {name: hashName} as per the W3C spec.\n            if (actualParam.hash && !actualParam.hash.name && msrcryptoUtilities.getObjectType(actualParam.hash) === "String") {\n                actualParam.hash = { name: actualParam.hash };\n            }\n        }\n\n        if (parameterCollection.hasOwnProperty(expectedParam.name)) {\n            parameterCollection[expectedParam.name + "1"] = actualParam;\n        } else {\n            parameterCollection[expectedParam.name] = actualParam;\n        }\n    }\n\n    return parameterCollection;\n}\n\nfunction executeOperation(operationName, parameterSet, keyFunc) {\n\n    var pc = buildParameterCollection(operationName, parameterSet);\n\n    checkOperation(operationName, pc.algorithm.name);\n\n    // Add the key data to the parameter object\n    if (pc.keyHandle) {\n        pc.keyData = lookupKeyData(pc.keyHandle);\n    }\n\n    // Add the key data to the parameter object\n    if (pc.keyHandle1) {\n        pc.keyData1 = lookupKeyData(pc.keyHandle1);\n    }\n\n    // ECDH.DeriveBits passes a public key in the algorithm\n    if (pc.algorithm && pc.algorithm.publicKey) {\n        pc.additionalKeyData = lookupKeyData(pc.algorithm.publicKey);\n    }\n\n    var op = keyFunc ? keyOperation(pc) : cryptoOperation(pc);\n\n    // Run the crypto now if a buffer is supplied\n    //   else wait until process() and finish() are called.\n    if (keyFunc || pc.buffer || operationName === "deriveBits" || operationName === "wrapKey") {\n        workerManager.runJob(op, pc);\n    }\n\n    return op;\n}\n\nvar publicMethods = {\n\n    encrypt: function (algorithm, keyHandle, buffer) {\n        /// <signature>\n        /// <summary>Encrypt a UInt8Array of data. Encrypt will return an ArrayBuffer if supported, otherwise it will return a regular Array.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="UInt8Array" optional="true">UInt8Array</param>\n        ///     <returns type="ArrayBuffer" />\n        /// </signature>\n        /// <signature>\n        /// <summary>Encrypt an array of bytes. Encrypt will return an ArrayBuffer if supported, otherwise it will return a regular Array.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="Array" optional="true">An array of bytes (number from 0-255)</param>\n        ///     <returns type="Array" />\n        /// </signature>\n        /// <signature>\n        /// <summary>Encrypt an array of bytes. Encrypt will return an ArrayBuffer if supported, otherwise it will return a regular Array.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="Array" optional="true">A continuous array of bytes (number values from 0-255)</param>\n        ///     <returns type="ArrayBuffer" />\n        /// </signature>\n\n        return executeOperation("encrypt", arguments, 0);\n    },\n\n    decrypt: function (algorithm, keyHandle, buffer) {\n        /// <signature>\n        ///     <summary>Decrypt a UInt8Array of data.\n        ///     Decrypt will return an ArrayBuffer if supported, otherwise it will return an Array of byte values (numbers from 0-255)</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="UInt8Array" optional="true">UInt8Array</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Decrypt an array of byte values. Decrypt will return an ArrayBuffer if supported, otherwise it will return a regular Array.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="Array" optional="true">An array of bytes values (numbers from 0-255)</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n\n        return executeOperation("decrypt", arguments, 0);\n    },\n\n    sign: function (algorithm, keyHandle, buffer) {\n        /// <signature>\n        ///     <summary>Sign a UInt8Array of data.\n        ///     Sign will return a signature as an ArrayBuffer if supported, otherwise it will return an Array of byte values (numbers from 0-255)</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="UInt8Array" optional="true">UInt8Array</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Sign an array of byte values. Sign will return an ArrayBuffer if supported, otherwise it will return a regular Array.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="buffer" type="Array" optional="true">An array of bytes values (numbers from 0-255)</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n\n        return executeOperation("sign", arguments, 0);\n    },\n\n    verify: function (algorithm, keyHandle, signature, buffer) {\n        /// <signature>\n        ///     <summary>Verify a signature.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="signature" type="UInt8Array">UInt8Array</param>\n        ///     <param name="buffer" type="UInt8Array" optional="true">UInt8Array</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Verify a signature.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="signature" type="UInt8Array">UInt8Array</param>\n        ///     <param name="buffer" type="Array" optional="true">An array of bytes values (numbers from 0-255)</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Verify a signature.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="signature" type="Array">An array of bytes values (numbers from 0-255)</param>\n        ///     <param name="buffer" type="Array" optional="true">An array of bytes values (numbers from 0-255)</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Verify a signature.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="signature" type="Array">An array of bytes values (numbers from 0-255)</param>\n        ///     <param name="buffer" type="UInt8Array" optional="true">UInt8Array</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n\n        return executeOperation("verify", arguments, 0);\n    },\n\n    digest: function (algorithm, buffer) {\n        /// <signature>\n        ///     <summary>Digest data using a specified cryptographic hash algorithm</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="buffer" type="UInt8Array" optional="true">UInt8Array</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Digest data using a specified cryptographic hash algorithm</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="buffer" type="Array" optional="true">An array of bytes values (numbers from 0-255)</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n        return executeOperation("digest", arguments, 0);\n    },\n\n    generateKey: function (algorithm, extractable, keyUsages) {\n        /// <signature>\n        ///     <summary>Generate a new key for use with the algorithm specified by the algorithm parameter</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="extractable" type="Boolean" optional="true"></param>\n        ///     <param name="keyUsages" type="Array" optional="true"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n\n        return executeOperation("generateKey", arguments, 1);\n    },\n\n    deriveKey: function (algorithm, baseKey, derivedKeyType, extractable, keyUsages) {\n        /// <signature>\n        ///     <summary>Generate a key for the specified derivedKeyType, using the specified cryptographic key derivation algorithm with the given baseKey as input.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="baseKey" type="Key"></param>\n        ///     <param name="deriveKeyType" type="Algorithm"></param>\n        ///     <param name="extractable" type="Boolean" optional="true"></param>\n        ///     <param name="keyUsages" type="Array" optional="true"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n\n        return executeOperation("deriveKey", arguments, 1);\n    },\n\n    deriveBits: function (algorithm, baseKey, length) {\n        /// <signature>\n        ///     <summary>Generate an array of bytes from a given baseKey as input.</summary>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="baseKey" type="Key"></param>\n        ///     <param name="length" type="Number">Number of bytes to return.</param>\n        ///     <returns type="CryptoOperation" />\n        /// </signature>\n\n        return executeOperation("deriveBits", arguments, 0);\n    },\n\n    importKey: function (format, keyData, algorithm, extractable, keyUsages) {\n        /// <signature>\n        ///     <summary>Constructs a new Key object using the key data specified by the keyData parameter.</summary>\n        ///     <param name="format" type="String"></param>\n        ///     <param name="keyData" type="Array">An array of bytes values (numbers from 0-255)</param>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="extractable" type="Boolean" optional="true"></param>\n        ///     <param name="keyUsages" type="Array" optional="true"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Constructs a new Key object using the key data specified by the keyData parameter.</summary>\n        ///     <param name="format" type="String"></param>\n        ///     <param name="keyData" type="UInt8Array"></param>\n        ///     <param name="algorithm" type="Algorithm"></param>\n        ///     <param name="extractable" type="Boolean" optional="true"></param>\n        ///     <param name="keyUsages" type="Array" optional="true"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n\n        return executeOperation("importKey", arguments, 1);\n    },\n\n    exportKey: function (format, keyHandle) {\n        /// <signature>\n        ///     <summary>Exports the given key material of the Key object as specified by the key parameter.</summary>\n        ///     <param name="format" type="String"></param>\n        ///     <param name="key" type="Key"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n\n        // Export is one of the few calls where the caller does not supply an algorithm\n        // since it\'s already a property of the key to be exported.\n        // So, we\'re pulling it out of the key and adding it to the parameter set since\n        // it is used as a switch to route the parameters to the right function.\n        // Now we don\'t have to treat this as a special case in the underlying code.\n        return executeOperation("exportKey", [keyHandle.algorithm, format, keyHandle], 1);\n    },\n\n    wrapKey: function (keyHandle, keyEncryptionKey, keyWrappingAlgorithm) {\n        /// <signature>\n        ///     <summary>Returns a KeyOperation object which will asynchronously return an array containing the key material of key, encrypted with keyEncryptionKey using the specified keyWrappingAlgorithm.</summary>\n        ///     <param name="key" type="Key"></param>\n        ///     <param name="keyEncryptionKey" type="Key"></param>\n        ///     <param name="keyWrappingAlgorithm" type="Algorithm"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n\n        return executeOperation("wrapKey", arguments, 0);\n    },\n\n    unwrapKey: function (wrappedKey, keyAlgorithm, keyEncryptionKey, extractable, keyUsages) {\n        /// <signature>\n        ///     <summary>Construct a Key object from encrypted key material.</summary>\n        ///     <param name="wrappedKey" type="Array">An array of bytes values (numbers from 0-255)</param>\n        ///     <param name="keyAlgorithm" type="Algorithm"></param>\n        ///     <param name="keyEncryptionKey" type="Key"></param>\n        ///     <param name="extractable" type="Boolean" optional="true"></param>\n        ///     <param name="keyUsages" type="Array" optional="true"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Construct a Key object from encrypted key material.</summary>\n        ///     <param name="wrappedKey" type="UInt8Array"></param>\n        ///     <param name="keyAlgorithm" type="Algorithm"></param>\n        ///     <param name="keyEncryptionKey" type="Key"></param>\n        ///     <param name="extractable" type="Boolean" optional="true"></param>\n        ///     <param name="keyUsages" type="Array" optional="true"></param>\n        ///     <returns type="KeyOperation" />\n        /// </signature>\n\n        return executeOperation("unwrapKey", arguments, 1);\n    }\n\n};\n\nreturn publicMethods;\n\n})();\n\n}\n\nvar publicMethods = {\n\n    /// <field type = \'Object\' static="false">Microsoft Research Javascript Crypto Library Subtle interface.</field>\n    subtle: msrcryptoSubtle,\n\n    getRandomValues: function(array) {\n        /// <signature>\n        ///     <summary>Places cryptographically random values into the given array.</summary>\n        ///     <param name="array" type="Array"></param>\n        ///     <returns type="Array" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Places cryptographically random values into the given array.</summary>\n        ///     <param name="array" type="ArrayBufferView"></param>\n        ///     <returns type="ArrayBufferView">Returns ArrayBufferView if supported.</returns>\n        /// </signature>\n\n        var i;\n        var randomValues = msrcryptoPseudoRandom.getBytes(array.length);\n        for (i = 0; i < array.length; i+=1) {\n            array[i] = randomValues[i];\n        }\n        return array;\n    },\n\n    initPrng: function (entropyData) {\n        /// <signature>\n        ///     <summary>Add entropy to the PRNG.</summary>\n        ///     <param name="entropyData" type="Array">Entropy input to seed or reseed the PRNG.</param>\n        /// </signature>\n\n        var entropyDataType = Object.prototype.toString.call(entropyData);\n\n        if (entropyDataType !== "[object Array]" && entropyDataType !== "[object Uint8Array]") {\n            throw new Error("entropyData must be a Array or Uint8Array");\n        }\n\n        // Mix the user-provided entropy into the entropy pool - only in the main thread.\n        entropyPool && entropyPool.reseed(entropyData);\n\n        // Reseed the PRNG that was initialized below\n        msrcryptoPseudoRandom.reseed(entropyPool.read(48));\n        fprngEntropyProvided = true;\n    },\n\n    toBase64: function (data, toBase64Url) {\n        /// <signature>\n        ///     <summary>Convert string or array data to Base64.</summary>\n        ///     <param name="data" type="Array">Byte values (numbers 0-255)</param>\n        ///     <param name="toBase64Url" type="Boolean" optional="true">Return Base64Url encoding (this is different from Base64 encoding.)</param>\n        ///     <returns type="Array" />\n        /// </signature>\n        /// <signature>\n        ///     <summary>Convert string or array data to Base64.</summary>\n        ///     <param name="data" type="String"></param>\n        ///     <param name="toBase64Url" type="Boolean" optional="true">Return Base64Url encoding (this is different from Base64 encoding.)</param>\n        ///     <returns type="Array" />\n        /// </signature>\n\n        return  msrcryptoUtilities.toBase64(data, false);\n    },\n\n    base64ToString: function (base64String) {\n        /// <signature>\n        ///     <summary>Decode a Base64 encoded string to a plain string.</summary>\n        ///     <param name="base64String" type="String">Base64 encoded string.</param>\n        ///     <returns type="String" />\n        /// </signature>\n        return msrcryptoUtilities.base64ToString(base64String);\n    },\n\n    utilities: msrcryptoUtilities,\n    sha256: msrcryptoSha256.sha256,\n\n    /// <field type = \'String\'>URL of the this msrCrypto script.</field>\n    url : scriptUrl\n\n};\n\n// Expose the math library if present\nif (typeof cryptoMath !== "undefined") {\n    publicMethods.cryptoMath = cryptoMath;\n}\n\nif (typeof testInterface !== "undefined") {\n    publicMethods.testInterface = testInterface;\n}\n\n// Initialize the main entropy pool instance on the main thread, only.\n// I want only the main thread to create and manage the central entropy pool.\n// All workers would have their own PRNG instance initialized by injected entropy from the main thread.\nvar entropyPool;\nif (!runningInWorkerInstance) {\n    entropyPool = entropyPool || new MsrcryptoEntropy();\n\n    // Initialize the entropy pool in the main thread.\n    // There is only one entropy pool.\n    entropyPool.init();\n    var localEntropy = entropyPool.read(48);            // 48 is from SP800-90A; could be longer\n    msrcryptoPseudoRandom.init(localEntropy);\n}\n\nreturn publicMethods;\n\n})();']),a=window.URL.createObjectURL(r);
n.register=function(e,t,r){n[e]||(n[e]={});var a=n[e];a[t]||(a[t]=r)},n.exists=function(e,t){return n[e]?n[e][t]?!0:!1:!1};var i=function(){if("undefined"!=typeof document)try{throw new Error}catch(e){if(e.stack){var t=/\w+:\/\/(.+?\/)*.+\.js/.exec(e.stack);return t&&t.length>0?t[0]:null}}else if("undefined"!=typeof self)return self.location.href;return null}(),o=!1,s="undefined"!=typeof Worker,u="undefined"!=typeof importScripts,l="undefined"!=typeof Uint8Array,c=function(){try{return Object.defineProperty({},"oncomplete",{}),!0}catch(e){return!1}}(),d=s,p=function(e,t,n,r,a){if(!c)return e[t]=n,void 0;var i={};r&&(i.get=r),a&&(i.set=a),Object.defineProperty(e,t,i)},m={},f=function(){function e(e,t){var n="";if(t||(t=!1),(e.pop||e.subarray)&&(e=String.fromCharCode.apply(null,e)),b)n=btoa(e);else{var r,a,i,o,s,u,l,c;for(c=0;c<e.length;c+=3)r=e.charCodeAt(c),a=e.charCodeAt(c+1),i=e.charCodeAt(c+2),o=r>>2,s=(3&r)<<4|a>>4,u=(15&a)<<2|i>>6,l=63&i,isNaN(a)?u=l=64:isNaN(i)&&(l=64),n=n+_.charAt(o)+_.charAt(s)+_.charAt(u)+_.charAt(l)}return t?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""):n}function t(e){if(b){for(e=e.replace(/-/g,"+").replace(/_/g,"/");0!==e.length%4;)e+="=";return atob(e)}return String.fromCharCode.apply(null,n(e))}function n(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");0!==e.length%4;)e+="=";var t,n,r,a,i,o,s,u,l=[];for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),u=0;u<e.length;u+=4)a=_.indexOf(e.charAt(u)),i=_.indexOf(e.charAt(u+1)),o=_.indexOf(e.charAt(u+2)),s=_.indexOf(e.charAt(u+3)),t=a<<2|i>>4,n=(15&i)<<4|o>>2,r=(3&o)<<6|s,l.push(t),64!==o&&l.push(n),64!==s&&l.push(r);return l}function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function a(e,t){var n="";"undefined"==typeof t&&(t=!1);for(var r=0;r<e.length;r++){t&&0===r%4&&0!==r&&(n+="-");var a=e[r].toString(16).toUpperCase();1===a.length&&(n+="0"),n+=a}return n}function i(e,t){return t=t||0,e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function o(e){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}function s(e){e=e.replace(/\-/g,"");for(var t=[];e.length>=2;)t.push(parseInt(e.substring(0,2),16)),e=e.substring(2,e.length);return t}function u(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function l(e,t,r){var a,i=n(e),o=[];if(isNaN(t))return i;for(a=0;a<i.length;a+=t)o.push(i.slice(a,a+t));if(r)for(a=0;a<o.length;a++)o[a]=(o[a][0]<<24)+(o[a][1]<<16)+(o[a][2]<<8)+o[a][3];return o}function c(e){return[255&e>>>24,255&e>>>16,255&e>>>8,255&e]}function d(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(c(e[n]));return t}function p(e,t){for(var n=Math.min(e.length,t.length),r=new Array(n),a=0;n>a;a+=1)r[a]=e[a]^t[a];return r}function m(e,t){t||(t=0);for(var n=new Array(e),r=0;e>r;r+=1)n[r]=t;return n}function f(e){function t(){var t=6e4,n=[],r=[];if(e.length<=t)return Array.apply(null,e);for(var a=0,i=e.length;i>a;a+=t)n.push(e.subarray(a,a+t));return n.forEach(function(e){r=r.concat(Array.apply(null,e))}),r}return e.pop?e:1===e.length?[e[0]]:t()}function h(e,t,n){for(;e.length<n;)e.push(t);return e}function g(e,t,n){for(;e.length<n;)e.unshift(t);return e}function v(e,t){var n=!0;e.length!==t.length&&(n=!1);for(var r=0;r<e.length;r++)e[r]!==t[r]&&(n=!1);return n}function y(e){if("Array"!==r(e))return!1;for(var t,n=0;n<e.length;n++)if(t=e[n],isNaN(t)||0>t||t>255)return!1;return!0}var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b="undefined"!=typeof btoa;return{toBase64:e,base64ToString:t,base64ToBytes:n,getObjectType:r,bytesToHexString:a,bytesToInt32:i,stringToBytes:o,unpackData:l,hexToBytesArray:s,int32ToBytes:c,int32ArrayToBytes:d,toArray:f,arraysEqual:v,clone:u,xorVectors:p,padEnd:h,padFront:g,getVector:m,verifyByteArray:y}}(),h=function(){function e(e){return u&&self.postMessage(e),e}return{jsCryptoRunner:function(t){var r,a=t.data.operationType;if(!n.exists(a,t.data.algorithm.name))throw new Error("unregistered algorithm.");var i=n[a][t.data.algorithm.name],o=t.data;return"process"===o.operationSubType?(i(o),r=e({type:"process"})):r=e(i(o)),r}}}();u&&(self.onmessage=function(e){if(e.data.prngSeed){var t=e.data.prngSeed;return S.init(t),void 0}h.jsCryptoRunner(e)});var g=function(){function e(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return 0===t[t.length-1]&&t.pop(),t}function t(e){var t=e.algorithm.name.slice(0,3).toLowerCase();return"rsa"===t?"RSA":"ecd"===t?"EC":"oct"}function n(n,r){var i={};if(i.kty=t(n),i.extractable=n.extractable,r.pop)i.k=a.toBase64(r,!0);else for(var o in r)r[o].pop&&(i[o]=a.toBase64(r[o],!0));n.algorithm.namedCurve&&(i.crv=n.algorithm.namedCurve);var s=JSON.stringify(i,null,"	");return e(s)}function r(e,t,n){for(var r=String.fromCharCode.apply(null,e),i=JSON.parse(r),o=0;o<n.length;o+=1){var s=i[n[o]];s&&(i[n[o]]=a.base64ToBytes(s))}return i}var a=f;return{keyToJwk:n,jwkToKey:r}}(),v=function(e,t,n,r,a,i,o){function s(e){for(var t=Math.floor(e.length/a),n=0;t>n;n++)i(e,n,h,r,g);return y+=t,e.slice(t*a)}function u(){for(var e=[],t=0;t<h.length;t++)e=e.concat(m.int32ToBytes(h[t]));return e.length=o/8,e}function l(e){var t=a-e.length%a;a/8>=t&&(t+=a);var n=m.getVector(t);n[0]=128;var r=8*(e.length+y*a);return n[t-4]=255&r>>>24,n[t-3]=255&r>>>16,n[t-2]=255&r>>>8,n[t-1]=255&r,e.concat(n)}function c(e){return v=s(e),p()}function d(e){v=v.concat(e),v.length>=a&&(v=s(v))}function p(){if(0!==s(l(v)).length)throw new Error("buffer.length !== 0");var e=u();return v=[],h=n.slice(),y=0,e}var m=f,h=n.slice(),g=new Array(a),v=[],y=0;return{name:e,computeHash:c,process:d,finish:p,der:t,hashLen:o,maxMessageSize:4294967295}},y=function(){function e(e,t,n,r,a){var i,s,u,l,c,d=64,p=4294967295,m=n[0],f=n[1],h=n[2],g=n[3],v=n[4],y=n[5],_=n[6],b=n[7];for(s=0;16>s;s++)a[s]=o.bytesToInt32(e,t*d+4*s);for(i=16;64>i;i++)l=a[i-15],c=a[i-2],a[i]=((c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10)+a[i-7]+((l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3)+a[i-16],a[i]=a[i]&p;for(s=0;64>s;s++)u=b+((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&y^~v&_)+r[s]+a[s],g+=u,u+=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&(f^h)^f&h),b=_,_=y,y=v,v=g,g=h,h=f,f=m,m=u;return n[0]+=m&p,n[1]+=f&p,n[2]+=h&p,n[3]+=g&p,n[4]+=v&p,n[5]+=y&p,n[6]+=_&p,n[7]+=b&p,n}var t,n,r,a,i,o=f,s=o.unpackData;return n=s("wQWe2DZ81QcwcN0X9w5ZOf/ACzFoWBURZPmPp776T6Q",4,1),r=s("agnmZ7tnroU8bvNypU/1OlEOUn+bBWiMH4PZq1vgzRk",4,1),t=s("QoovmHE3RJG1wPvP6bXbpTlWwltZ8RHxkj+CpKscXtXYB6qYEoNbASQxhb5VDH3Dcr5ddIDesf6b3AanwZvxdOSbacHvvkeGD8GdxiQMocwt6SxvSnSEqlywqdx2+YjamD5RUqgxxm2wAyfIv1l/x8bgC/PVp5FHBspjURQpKWcntwqFLhshOE0sbfxTOA0TZQpzVHZqCruBwskuknIshaK/6KGoGmZLwkuLcMdsUaPRkugZ1pkGJPQONYUQaqBwGaTBFh43bAgnSHdMNLC8tTkcDLNO2KpKW5zKT2gub/N0j4LueKVjb4TIeBSMxwIIkL7/+qRQbOu++aP3xnF48g",4,1),a=s("MC0wDQYJYIZIAWUDBAIEBQAEHA"),i=s("MDEwDQYJYIZIAWUDBAIBBQAEIA"),{sha224:v("SHA-224",a,n,t,64,e,224),sha256:v("SHA-256",i,r,t,64,e,256)}}();"undefined"!=typeof n&&(y.hash256=function(e){return"process"===e.operationSubType?(y.sha256.process(e.buffer),void 0):"finish"===e.operationSubType?y.sha256.finish():y.sha256.computeHash(e.buffer)},y.hash224=function(e){return"process"===e.operationSubType?(y.sha224.process(e.buffer),void 0):"finish"===e.operationSubType?y.sha224.finish():y.sha224.computeHash(e.buffer)},n.register("digest","sha-224",y.hash224),n.register("digest","sha-256",y.hash256)),m["sha-224"]=y.sha224,m["sha-256"]=y.sha256;var _=function(){var e,t,n,r,a,i,o,s,u,l;return{aes:function(c){e||(e=f.unpackData("AAIEBggKDA4QEhQWGBocHiAiJCYoKiwuMDI0Njg6PD5AQkRGSEpMTlBSVFZYWlxeYGJkZmhqbG5wcnR2eHp8foCChIaIioyOkJKUlpianJ6goqSmqKqsrrCytLa4ury+wMLExsjKzM7Q0tTW2Nrc3uDi5Obo6uzu8PL09vj6/P4bGR8dExEXFQsJDw0DAQcFOzk/PTMxNzUrKS8tIyEnJVtZX11TUVdVS0lPTUNBR0V7eX99c3F3dWtpb21jYWdlm5mfnZORl5WLiY+Ng4GHhbu5v72zsbe1q6mvraOhp6Xb2d/d09HX1cvJz83DwcfF+/n//fPx9/Xr6e/t4+Hn5QADBgUMDwoJGBseHRQXEhEwMzY1PD86OSgrLi0kJyIhYGNmZWxvaml4e359dHdycVBTVlVcX1pZSEtOTURHQkHAw8bFzM/Kydjb3t3U19LR8PP29fz/+vno6+7t5Ofi4aCjpqWsr6qpuLu+vbS3srGQk5aVnJ+amYiLjo2Eh4KBm5idnpeUkZKDgIWGj4yJiquora6npKGis7C1tr+8ubr7+P3+9/Tx8uPg5ebv7Onqy8jNzsfEwcLT0NXW39zZ2ltYXV5XVFFSQ0BFRk9MSUpraG1uZ2RhYnNwdXZ/fHl6Ozg9Pjc0MTIjICUmLywpKgsIDQ4HBAECExAVFh8cGRoADhwSODYkKnB+bGJIRlRa4O788tjWxMqQnoyCqKa0utvVx8nj7f/xq6W3uZOdj4E7NScpAw0fEUtFV1lzfW9hraOxv5WbiYfd08HP5ev5901DUV91e2lnPTMhLwULGRd2eGpkTkBSXAYIGhQ+MCIslpiKhK6gsrzm6Pr03tDCzEFPXVN5d2VrMT8tIwkHFRuhr72zmZeFi9HfzcPp5/X7mpSGiKKsvrDq5Pb40tzOwHp0ZmhCTF5QCgQWGDI8LiDs4vD+1NrIxpySgI6kqri2DAIQHjQ6KCZ8cmBuREpYVjc5KyUPARMdR0lbVX9xY23X2cvF7+Hz/aepu7WfkYONAA0aFzQ5LiNoZXJ/XFFGS9Ddysfk6f7zuLWir4yBlpu7tqGsj4KVmNPeycTn6v3wa2ZxfF9SRUgDDhkUNzotIG1gd3pZVENOBQgfEjE8Kya9sKeqiYSTntXYz8Lh7Pv21tvMweLv+PW+s6SpioeQnQYLHBEyPyglbmN0eVpXQE3a18DN7uP0+bK/qKWGi5yRCgcQHT4zJClib3h1VltMQWFse3ZVWE9CCQQTHj0wJyqxvKumhYifktnUw87t4Pf6t7qtoIOOmZTf0sXI6+bx/GdqfXBTXklEDwIVGDs2ISwMARYbODUiL2RpfnNQXUpH3NHGy+jl8v+0ua6jgI2alwALFh0sJzoxWFNORXR/Ymmwu6atnJeKgejj/vXEz9LZe3BtZldcQUojKDU+DwQZEsvA3dbn7PH6k5iFjr+0qaL2/eDr2tHMx66luLOCiZSfRk1QW2phfHceFQgDMjkkL42Gm5Chqre81d7DyPny7+Q9NisgERoHDGVuc3hJQl9U9/zh6tvQzcavpLmyg4iVnkdMUVprYH12HxQJAjM4JS6Mh5qRoKu2vdTfwsn48+7lPDcqIRAbBg1kb3J5SENeVQEKFxwtJjswWVJPRHV+Y2ixuqesnZaLgOni//TFztPYenFsZ1ZdQEsiKTQ/DgUYE8rB3Nfm7fD7kpmEj761qKMACRIbJC02P0hBWlNsZX53kJmCi7S9pq/Y0crD/PXu5zsyKSAfFg0Ec3phaFdeRUyrormwj4adlOPq8fjHztXcdn9kbVJbQEk+NywlGhMIAebv9P3Cy9DZrqe8tYqDmJFNRF9WaWB7cgUMFx4hKDM63dTPxvnw6+KVnIeOsbijquzl/vfIwdrTpK22v4CJkpt8dW5nWFFKQzQ9Ji8QGQIL197FzPP64eiflo2Eu7KpoEdOVVxjanF4DwYdFCsiOTCak4iBvrespdLbwMn2/+TtCgMYES4nPDVCS1BZZm90faGos7qFjJee6eD78s3E39YxOCMqFRwHDnlwa2JdVE9GY3x3e/Jrb8UwAWcr/terdsqCyX36WUfwrdSir5ykcsC3/ZMmNj/3zDSl5fFx2DEVBMcjwxiWBZoHEoDi6yeydQmDLBobblqgUjvWsynjL4RT0QDtIPyxW2rLvjlKTFjP0O+q+0NNM4VF+QJ/UDyfqFGjQI+SnTj1vLbaIRD/89LNDBPsX5dEF8Snfj1kXRlzYIFP3CIqkIhG7rgU3l4L2+AyOgpJBiRcwtOsYpGV5HnnyDdtjdVOqWxW9Opleq4IunglLhymtMbo3XQfS72LinA+tWZIA/YOYTVXuYbBHZ7h+JgRadmOlJseh+nOVSjfjKGJDb/mQmhBmS0PsFS7FlIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH2NAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuNAQIECBAgQIAbNmzYq02aL168Y8aXNWrUs33678WROXLk071hwp8lSpQzZsyDHTp06MuN",256,!1),t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],l=e[8]);var d,p,m,h,g=128,v=4;switch(8*c.length){case 128:d=128,p=4,m=10;break;case 192:d=192,p=6,m=12;break;case 256:d=256,p=8,m=14;break;default:throw new Error("Unsupported keyLength")}var y=function(e){var t=e[1];e[1]=e[5],e[5]=e[9],e[9]=e[13],e[13]=t,t=e[2],e[2]=e[10],e[10]=t,t=e[6],e[6]=e[14],e[14]=t,t=e[15],e[15]=e[11],e[11]=e[7],e[7]=e[3],e[3]=t},_=function(e){var t=e[13];e[13]=e[9],e[9]=e[5],e[5]=e[1],e[1]=t,t=e[10],e[10]=e[2],e[2]=t,t=e[14],e[14]=e[6],e[6]=t,t=e[3],e[3]=e[7],e[7]=e[11],e[11]=e[15],e[15]=t},b=function(e){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=e[9],m=e[10],f=e[11],h=e[12],g=e[13],v=e[14],y=e[15];e[0]=t[r]^n[a]^i^o,e[1]=r^t[a]^n[i]^o,e[2]=r^a^t[i]^n[o],e[3]=n[r]^a^i^t[o],e[4]=t[s]^n[u]^l^c,e[5]=s^t[u]^n[l]^c,e[6]=s^u^t[l]^n[c],e[7]=n[s]^u^l^t[c],e[8]=t[d]^n[p]^m^f,e[9]=d^t[p]^n[m]^f,e[10]=d^p^t[m]^n[f],e[11]=n[d]^p^m^t[f],e[12]=t[h]^n[g]^v^y,e[13]=h^t[g]^n[v]^y,e[14]=h^g^t[v]^n[y],e[15]=n[h]^g^v^t[y]},w=function(e){var t=e[0],n=e[1],s=e[2],u=e[3],l=e[4],c=e[5],d=e[6],p=e[7],m=e[8],f=e[9],h=e[10],g=e[11],v=e[12],y=e[13],_=e[14],b=e[15];e[0]=r[t]^i[n]^a[s]^o[u],e[1]=o[t]^r[n]^i[s]^a[u],e[2]=a[t]^o[n]^r[s]^i[u],e[3]=i[t]^a[n]^o[s]^r[u],e[4]=r[l]^i[c]^a[d]^o[p],e[5]=o[l]^r[c]^i[d]^a[p],e[6]=a[l]^o[c]^r[d]^i[p],e[7]=i[l]^a[c]^o[d]^r[p],e[8]=r[m]^i[f]^a[h]^o[g],e[9]=o[m]^r[f]^i[h]^a[g],e[10]=a[m]^o[f]^r[h]^i[g],e[11]=i[m]^a[f]^o[h]^r[g],e[12]=r[v]^i[y]^a[_]^o[b],e[13]=o[v]^r[y]^i[_]^a[b],e[14]=a[v]^o[y]^r[_]^i[b],e[15]=i[v]^a[y]^o[_]^r[b]},k=function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},M=function(e,t,n){for(var r=0;r<e.length;r+=1)e[r]^=t[r+n]},S=function(e){var t=e[0];e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=t},T=function(e){for(var t=0;t<e.length;t+=1)e[t]=s[e[t]]},L=function(e){for(var t=0;t<e.length;t+=1)e[t]=u[e[t]]},C=function(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]},j=function(e,t,n,r){e[4*n]=t[4*r],e[4*n+1]=t[4*r+1],e[4*n+2]=t[4*r+2],e[4*n+3]=t[4*r+3]},x=function(e){for(var t,n=[],r=0;4*p>r;)n.push(e[r++]);for(r=p;v*(m+1)>r;){if(t=C(n,r-1),0===r%p){var a=r/p,i=[l[a],0,0,0];S(t),T(t),t=k(t,i)}else p>6&&4===r%p&&T(t);var o=k(C(n,r-p),t);j(n,o,r,0),r+=1}return n};return h=x(c),{encrypt:function(e){var t,n=e;for(M(n,h,0),t=1;m-1>=t;t+=1)T(n),y(n),b(n),M(n,h,4*t*v);return T(n),y(n),M(n,h,4*m*v),n},decrypt:function(e){var t,n=e;for(M(n,h,4*m*v),t=m-1;t>=1;t-=1)_(n),L(n),M(n,h,4*t*v),w(n);return _(n),L(n),M(n,h,0),n},clear:function(){},keyLength:d,blockSize:g}}}}(),b=b||{};b.pkcsv7=function(e){function t(t){var n=t.length-1>=0?t.length-1:0,r=t[n],a=r.length,i=a===e;if(i){var o,s=[];for(o=0;e>o;o+=1)s.push(e);t.push(s)}else for(var u=255&e-a;r.length!==e;)r.push(u)}function n(t){var n=!0;0!==t.length%e&&(n=!1);for(var r=t.slice(-e),a=r[r.length-1],i=0;e>i;i++){var o=a>=e-i,s=r[i]===a;n=(o?s:!0)&&n}var u=n?a:0;return t.length-=u,n}return{pad:t,unpad:n}};var w=function(e){function t(e){var t=[];l=l.concat(e);for(var n=Math.floor(l.length/o),r=0;n>r;r++)t.push(l.slice(r*o,(r+1)*o));return l=l.slice(n*o),t}function n(t){for(var n,r=[],a=0;a<t.length;a++)n=f.xorVectors(i,t[a]),r.push(e.encrypt(n)),i=r[a];return r}function r(t){for(var n,r,a=[],o=0;o<t.length;o+=1)n=t[o].slice(0,t[o].length),r=e.decrypt(n),a.push(f.xorVectors(i,r)),i=t[o];return a}function a(){l=[],c=[],i=null}var i,o=e.blockSize/8,s=b.pkcsv7(o),u=function(e){var t,n,r=[];for(t=0;t<e.length;t+=1){var a=e[t];for(n=0;n<a.length;n+=1)r.push(a[n])}return r},l=[],c=[];return{init:function(e){if(e.length!==o)throw new Error("Invalid iv size");i=e.slice()},encrypt:function(e){return this.processEncrypt(e),this.finishEncrypt()},processEncrypt:function(e){var r=n(t(e));c=c.concat(u(r))},finishEncrypt:function(){var e=1===l.length?[[l[0]]]:[l];s.pad(e);var t=c.concat(u(n(e)));return a(),t},decrypt:function(e){return this.processDecrypt(e),this.finishDecrypt()},processDecrypt:function(e){var n=r(t(e));c=c.concat(u(n))},finishDecrypt:function(){var e=c;return s.unpad(e),a(),e}}},k=null;"undefined"!=typeof n&&(w.workerEncrypt=function(e){var t;return k||(k=w(_.aes(e.keyData)),k.init(e.algorithm.iv)),"process"===e.operationSubType?(k.processEncrypt(e.buffer),void 0):"finish"===e.operationSubType?(t=k.finishEncrypt(),k=null,t):(t=k.encrypt(e.buffer),k=null,t)},w.workerDecrypt=function(e){var t;return k||(k=w(_.aes(e.keyData)),k.init(e.algorithm.iv)),"process"===e.operationSubType?(k.processDecrypt(e.buffer),void 0):"finish"===e.operationSubType?(t=k.finishDecrypt(),k=null,t):(t=k.decrypt(e.buffer),k=null,t)},w.generateKey=function(e){if(0!==e.algorithm.length%8)throw new Error;return{type:"keyGeneration",keyData:S.getBytes(Math.floor(e.algorithm.length/8)),keyHandle:{algorithm:e.algorithm,extractable:e.extractable,keyUsage:null||e.keyUsage,type:"secret"}}},w.importKey=function(e){var t=g.jwkToKey(e.keyData,e.algorithm,["k"]);return{type:"keyImport",keyData:t.k,keyHandle:{algorithm:e.algorithm,extractable:e.extractable||t.extractable,keyUsage:null||e.keyUsage,type:"secret"}}},w.exportKey=function(e){var t=g.keyToJwk(e.keyHandle,e.keyData);return{type:"keyExport",keyHandle:t}},n.register("importKey","aes-cbc",w.importKey),n.register("exportKey","aes-cbc",w.exportKey),n.register("generateKey","aes-cbc",w.generateKey),n.register("encrypt","aes-cbc",w.workerEncrypt),n.register("decrypt","aes-cbc",w.workerDecrypt));var M,S=new e;u||(M=function(){function e(){function e(e){try{t=h.jsCryptoRunner({data:e}),e.operationSubType&&"process"===e.operationSubType||this.onmessage({data:t})}catch(n){this.onerror({data:n.description,type:"error"})}}var t;return{postMessage:e,onmessage:null,onerror:null,terminate:function(){}}}function t(e){function t(){}function n(){}function r(e){l=e,this.result&&l({target:this})}function a(e){c=e}function i(){return l}function o(){return c}function s(t){return"error"===t.type?(this.onerror&&this.onerror(t),void 0):("process"!==t.type&&(this.result=e(t.data),this.oncomplete&&this.oncomplete({target:this})),void 0)}var u,l=null,c=null;return u={dispatchEvent:s,addEventListener:t,removeEventListener:n,result:null},p(u,"oncomplete",null,i,r),p(u,"onerror",null,o,a),u}function r(){function e(e){switch(e.type){case"keyGeneration":case"keyImport":case"keyDerive":return v.add(e.keyHandle,e.keyData),e.keyHandle;case"keyExport":return o(e.keyHandle);case"keyPairGeneration":return v.add(e.keyPair.publicKey.keyHandle,e.keyPair.publicKey.keyData),v.add(e.keyPair.privateKey.keyHandle,e.keyPair.privateKey.keyData),{publicKey:e.keyPair.publicKey.keyHandle,privateKey:e.keyPair.privateKey.keyHandle};default:throw new Error("Unknown key operation")}}return t(e)}function i(e){function n(e){return e=o(e)}var r=t(n);return r.process=function(t){e.operationSubType="process",e.buffer=_.toArray(t),y.continueJob(this,_.clone(e))},r.finish=function(){e.operationSubType="finish",e.buffer=[],y.continueJob(this,_.clone(e))},r.abort=function(){y.abortJob(this)},r.onabort=null,r.onprogress=null,r.algorithm=e.algorithm||null,r.key=e.keyHandle||null,r}function o(e){return l&&e.pop?new Uint8Array(e).buffer:e}function u(e,t){if(!n.exists(e,t))throw new Error("unsupported algorithm")}function c(e){var t=v.lookup(e);if(!t)throw new Error("key not found");return t}function m(e,t){for(var n={operationType:e},r=w[e],a=0;a<r.length;a+=1){var i=b[r[a]],o=t[a];if(o){if(o.subarray&&(o=_.toArray(o)),f.getObjectType(o)!==i.type)throw new Error(i.name);"algorithm"===i.name&&(o.name=o.name.toLowerCase(),o.iv&&(o.iv=_.toArray(o.iv)),o.salt&&(o.salt=_.toArray(o.salt)),o.additionalData&&(o.additionalData=_.toArray(o.additionalData)),o.hash&&!o.hash.name&&"String"===f.getObjectType(o.hash)&&(o.hash={name:o.hash})),n.hasOwnProperty(i.name)?n[i.name+"1"]=o:n[i.name]=o}else if(i.required)throw new Error(i.name)}return n}function g(e,t,n){var a=m(e,t);u(e,a.algorithm.name),a.keyHandle&&(a.keyData=c(a.keyHandle)),a.keyHandle1&&(a.keyData1=c(a.keyHandle1)),a.algorithm&&a.algorithm.publicKey&&(a.additionalKeyData=c(a.algorithm.publicKey));var o=n?r(a):i(a);return(n||a.buffer||"deriveBits"===e||"wrapKey"===e)&&y.runJob(o,a),o}var v=[];v.add=function(e,t){v.push({keyHandle:e,keyData:t})},v.remove=function(e){for(var t=0;t<v.length;t++)if(v[t].keyHandle===e)return v=v.splice(t,1),void 0},v.lookup=function(e){for(var t=0;t<v.length;t++)if(v[t].keyHandle===e)return v[t].keyData;return null};var y=function(){function t(){n(!d);for(var e=0;e<_.length;e++)if(!_[e].busy)return _[e];return null}function n(e){for(var t=_.length-1;t>=0;t-=1)_[t].isWebWorker===e&&(_[t].terminate(),_.splice(t,1))}function r(){for(var e=0,t=0;t<_.length;t++)_[t].busy||(e+=1);return e}function i(e){_.push(e)}function o(e){for(var t=0;t<_.length;t++)if(_[t]===e)return e.terminate(),_.splice(t,1),void 0}function u(e){for(var t=0;t<_.length;t++)if(_[t].operation===e)return _[t];return null}function l(e,t){b.push({operation:e,data:t,id:w++})}function c(e){if(e.busy=!1,e.operation=null,d)if(b.length>0){var t=b.shift();h(t.operation,t.data)}else r()>y&&o(e)}function p(t){var n;if(d)try{n=new Worker(a),n.postMessage({prngSeed:S.getBytes(48)}),n.isWebWorker=!0}catch(r){d=!1,k.forceSync=!0,n=e(),n.isWebWorker=!1}else n=e(),n.isWebWorker=!1;return n.operation=t,n.busy=!1,n.onmessage=function(e){for(var t=n.operation,r=0;r<b.length;r++)if(b[r].operation===n.operation){var a=b[r];return b.splice(r,1),g(n,a.data),void 0}t&&"process"!==e.data.type&&(c(n),t.dispatchEvent(e))},n.onerror=function(e){var t=n.operation;c(n),t.dispatchEvent(e)},i(n),n}function m(e){var t=u(e);t&&o(t)}function f(e,n){var r=null;if(d=s&&!k.forceSync,r=t(),d&&null===r&&_.length>=v)return l(e,n),void 0;if(null===r&&(r=p(e)),null===r)throw l(e,n),new Error("could not create new worker");r.operation=e,r.busy=!0,g(r,n)}function h(e,t){var n=u(e);return n?(g(n,t),void 0):(f(e,t),void 0)}function g(e,t){d?(e.data=t,e.postMessage(t)):setTimeout(function(){e.postMessage(t)},0)}var v=15,y=4,_=[],b=[],w=0;return{runJob:f,continueJob:h,abortJob:m}}(),_=f,b=[{name:"algorithm",type:"Object",required:!0},{name:"keyHandle",type:"Object",required:!0},{name:"buffer",type:"Array",required:!1},{name:"signature",type:"Array",required:!0},{name:"format",type:"String",required:!0},{name:"keyData",type:"Array",required:!0},{name:"extractable",type:"Boolean",required:!1},{name:"keyUsages",type:"Array",required:!1},{name:"derivedKeyType",type:"Object",required:!0},{name:"length",type:"Number",required:!1}],w={encrypt:[0,1,2],decrypt:[0,1,2],sign:[0,1,2],verify:[0,1,3,2],digest:[0,2],generateKey:[0,6,7],importKey:[4,5,0,6,7],exportKey:[0,4,1,6,7],deriveKey:[0,1,8,6,7],deriveBits:[0,1,9],wrapKey:[1,1,0],unwrapKey:[2,0,1,6,7]},k={encrypt:function(){return g("encrypt",arguments,0)},decrypt:function(){return g("decrypt",arguments,0)},sign:function(){return g("sign",arguments,0)},verify:function(){return g("verify",arguments,0)},digest:function(){return g("digest",arguments,0)},generateKey:function(){return g("generateKey",arguments,1)},deriveKey:function(){return g("deriveKey",arguments,1)},deriveBits:function(){return g("deriveBits",arguments,0)},importKey:function(){return g("importKey",arguments,1)},exportKey:function(e,t){return g("exportKey",[t.algorithm,e,t],1)},wrapKey:function(){return g("wrapKey",arguments,0)},unwrapKey:function(){return g("unwrapKey",arguments,1)}};return k}());var T={subtle:M,getRandomValues:function(e){var t,n=S.getBytes(e.length);for(t=0;t<e.length;t+=1)e[t]=n[t];return e},initPrng:function(e){var t=Object.prototype.toString.call(e);if("[object Array]"!==t&&"[object Uint8Array]"!==t)throw new Error("entropyData must be a Array or Uint8Array");L&&L.reseed(e),S.reseed(L.read(48)),o=!0},toBase64:function(e){return f.toBase64(e,!1)},base64ToString:function(e){return f.base64ToString(e)},utilities:f,sha256:y.sha256,url:i};"undefined"!=typeof cryptoMath&&(T.cryptoMath=cryptoMath),"undefined"!=typeof testInterface&&(T.testInterface=testInterface);var L;if(!u){L=L||new t,L.init();var C=L.read(48);S.init(C)}return T}();return e}();var selectionUtil={};selectionUtil.restoreSelection=function(){return window.getSelection?function(e){var t=window.getSelection();t.removeAllRanges();for(var n=0,r=e.length;r>n;++n)t.addRange(e[n])}:document.selection&&document.selection.createRange?function(e){e&&e.select()}:void 0}(),selectionUtil.saveSelection=function(){return window.getSelection?function(){var e=window.getSelection(),t=[];if(e.rangeCount)for(var n=0,r=e.rangeCount;r>n;++n)t.push(e.getRangeAt(n));return t}:document.selection&&document.selection.createRange?function(){var e=document.selection;return"none"!==e.type.toLowerCase()?e.createRange():null}:void 0}(),selectionUtil.replaceSelection=function(){return window.getSelection?function(e){var t,n=window.getSelection(),r="string"==typeof e?document.createTextNode(e):e;n.getRangeAt&&n.rangeCount&&(t=n.getRangeAt(0),t.deleteContents(),t.insertNode(document.createTextNode(" ")),t.insertNode(r),t.setStart(r,0),window.setTimeout(function(){t=document.createRange(),t.setStartAfter(r),t.collapse(!0),n.removeAllRanges(),n.addRange(t)},0))}:document.selection&&document.selection.createRange?function(e){var t=document.selection.createRange();"string"==typeof e?t.text=e:t.pasteHTML(e.outerHTML)}:void 0}(),selectionUtil.insertAtCursor=function(e,t){e=" "+e;var n,r,a,i=t.value;"undefined"!=typeof t.selectionStart&&"undefined"!=typeof t.selectionEnd?(r=t.selectionStart,n=t.selectionEnd,t.value=i.substring(0,r)+e+i.substring(t.selectionEnd),t.selectionStart=t.selectionEnd=r+e.length):"undefined"!=typeof document.selection&&"undefined"!=typeof document.selection.createRange&&(t.focus(),a=document.selection.createRange(),a.text=e,a.select())},selectionUtil.extend=function(e,t){if("undefined"!=typeof e&&e||(e={}),"object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},selectionUtil.escapeRegex=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},selectionUtil.htmlEntities=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};//  Copyright 2009, 2010 Dan Dean. All rights reserved.
//  The above copyright notice and this permission notice shall be included in
//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
var validator=new RegExp("^[a-z0-9]{32}$","i");Object.defineProperty(Uuid,"EMPTY",{value:"00000000000000000000000000000000"}),Uuid.isUuid=function(e){return e&&(e instanceof Uuid||validator.test(e.toString()))},Uuid.create=function(){return new Uuid(gen(8))},Uuid.raw=function(){return gen(8)},function(){"use strict";var e=angular.module("pasvaz.bindonce",[]);e.directive("bindonce",function(){var e=function(e){if(e&&0!==e.length){var t=angular.lowercase(""+e);e=!("f"===t||"0"===t||"false"===t||"no"===t||"n"===t||"[]"===t)}else e=!1;return e},t=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(t)&&(t=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var n={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(n,r,a,i){var o=function(t,n,r){var a="show"===n?"":"none",i="hide"===n?"":"none";t.css("display",e(r)?a:i)},s=function(e,t){if(angular.isObject(t)&&!angular.isArray(t)){var n=[];angular.forEach(t,function(e,t){e&&n.push(t)}),t=n}t&&e.addClass(angular.isArray(t)?t.join(" "):t)},u=function(e,t){e.transclude(t,function(t){var n=e.element.parent(),r=e.element&&e.element[e.element.length-1],a=n&&n[0]||r&&r.parentNode,i=r&&r.nextSibling||null;angular.forEach(t,function(e){a.insertBefore(e,i)})})},l={watcherRemover:void 0,binders:[],group:a.boName,element:r,ran:!1,addBinder:function(e){this.binders.push(e),this.ran&&this.runBinders()},setupWatcher:function(e){var t=this;this.watcherRemover=n.$watch(e,function(e){void 0!==e&&(t.removeWatcher(),t.checkBindonce(e))},!0)},checkBindonce:function(e){var t=this,n=e.$promise?e.$promise.then:e.then;"function"==typeof n?n(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){void 0!==this.watcherRemover&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var n=this.binders.shift();if(!this.group||this.group==n.group){var r=n.scope.$eval(n.interpolate?i(n.value):n.value);switch(n.attr){case"boIf":e(r)&&u(n,n.scope.$new());break;case"boSwitch":var a,l=n.controller[0];(a=l.cases["!"+r]||l.cases["?"])&&(n.scope.$eval(n.attrs.change),angular.forEach(a,function(e){u(e,n.scope.$new())}));break;case"boSwitchWhen":var c=n.controller[0];c.cases["!"+n.attrs.boSwitchWhen]=c.cases["!"+n.attrs.boSwitchWhen]||[],c.cases["!"+n.attrs.boSwitchWhen].push({transclude:n.transclude,element:n.element});break;case"boSwitchDefault":var c=n.controller[0];c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:n.transclude,element:n.element});break;case"hide":case"show":o(n.element,n.attr,r);break;case"class":s(n.element,r);break;case"text":n.element.text(r);break;case"html":n.element.html(r);break;case"style":n.element.css(r);break;case"disabled":n.element.prop("disabled",r);break;case"src":n.element.attr(n.attr,r),t&&n.element.prop("src",r);break;case"attr":angular.forEach(n.attrs,function(e,t){var r,a;t.match(/^boAttr./)&&n.attrs[t]&&(r=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.scope.$eval(n.attrs[t]),n.element.attr(r,a))});break;case"href":case"alt":case"title":case"id":case"value":n.element.attr(n.attr,r)}}}this.ran=!0}};angular.extend(this,l)}],link:function(e,t,n,r){var a=n.bindonce&&e.$eval(n.bindonce);void 0!==a?r.checkBindonce(a):(r.setupWatcher(n.bindonce),t.bind("$destroy",r.removeWatcher))}};return n}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(t){var n=200;return e.directive(t.directiveName,function(){var e={priority:t.priority||n,transclude:t.transclude||!1,terminal:t.terminal||!1,require:["^bindonce"].concat(t.require||[]),controller:t.controller,compile:function(e,n,r){return function(e,n,a,i){var o=i[0],s=a.boParent;if(s&&o.group!==s){var u=o.element.parent();o=void 0;for(var l;9!==u[0].nodeType&&u.length;){if((l=u.data("$bindonceController"))&&l.group===s){o=l;break}u=u.parent()}if(!o)throw new Error("No bindonce controller: "+s)}o.addBinder({element:n,attr:t.attribute||t.directiveName,attrs:a,value:a[t.directiveName],interpolate:t.interpolate,group:s,transclude:r,controller:i.slice(1),scope:e})}}};return e})})}(),function(){function e(e){function t(t,n,r,a,i,o){for(;i>=0&&o>i;i+=e){var s=a?a[i]:i;r=n(r,t[s],s,t)}return r}return function(n,r,a,i){r=_(r,i,4);var o=!L(n)&&y.keys(n),s=(o||n).length,u=e>0?0:s-1;return arguments.length<3&&(a=n[o?o[u]:u],u+=e),t(n,r,a,o,u,s)}}function t(e){return function(t,n,r){n=b(n,r);for(var a=T(t),i=e>0?0:a-1;i>=0&&a>i;i+=e)if(n(t[i],i,t))return i;return-1}}function n(e,t,n){return function(r,a,i){var o=0,s=T(r);if("number"==typeof i)e>0?o=i>=0?i:Math.max(i+s,o):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return i=n(r,a),r[i]===a?i:-1;if(a!==a)return i=t(c.call(r,o,s),y.isNaN),i>=0?i+o:-1;for(i=e>0?o:s-1;i>=0&&s>i;i+=e)if(r[i]===a)return i;return-1}}function r(e,t){var n=E.length,r=e.constructor,a=y.isFunction(r)&&r.prototype||s,i="constructor";for(y.has(e,i)&&!y.contains(t,i)&&t.push(i);n--;)i=E[n],i in e&&e[i]!==a[i]&&!y.contains(t,i)&&t.push(i)}var a=this,i=a._,o=Array.prototype,s=Object.prototype,u=Function.prototype,l=o.push,c=o.slice,d=s.toString,p=s.hasOwnProperty,m=Array.isArray,f=Object.keys,h=u.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?(this._wrapped=e,void 0):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):a._=y,y.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,i){return e.call(t,n,r,a,i)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?y.identity:y.isFunction(e)?_(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return b(e,t,1/0)};var w=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var a=1;r>a;a++)for(var i=arguments[a],o=e(i),s=o.length,u=0;s>u;u++){var l=o[u];t&&void 0!==n[l]||(n[l]=i[l])}return n}},k=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,T=M("length"),L=function(e){var t=T(e);return"number"==typeof t&&t>=0&&S>=t};y.each=y.forEach=function(e,t,n){t=_(t,n);var r,a;if(L(e))for(r=0,a=e.length;a>r;r++)t(e[r],r,e);else{var i=y.keys(e);for(r=0,a=i.length;a>r;r++)t(e[i[r]],i[r],e)}return e},y.map=y.collect=function(e,t,n){t=b(t,n);for(var r=!L(e)&&y.keys(e),a=(r||e).length,i=Array(a),o=0;a>o;o++){var s=r?r[o]:o;i[o]=t(e[s],s,e)}return i},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var r;return r=L(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,t,n){var r=[];return t=b(t,n),y.each(e,function(e,n,a){t(e,n,a)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(b(t)),n)},y.every=y.all=function(e,t,n){t=b(t,n);for(var r=!L(e)&&y.keys(e),a=(r||e).length,i=0;a>i;i++){var o=r?r[i]:i;if(!t(e[o],o,e))return!1}return!0},y.some=y.any=function(e,t,n){t=b(t,n);for(var r=!L(e)&&y.keys(e),a=(r||e).length,i=0;a>i;i++){var o=r?r[i]:i;if(t(e[o],o,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return L(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var a=r?t:e[t];return null==a?a:a.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,a,i=-1/0,o=-1/0;if(null==t&&null!=e){e=L(e)?e:y.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>i&&(i=r)}else t=b(t,n),y.each(e,function(e,n,r){a=t(e,n,r),(a>o||a===-1/0&&i===-1/0)&&(i=e,o=a)});return i},y.min=function(e,t,n){var r,a,i=1/0,o=1/0;if(null==t&&null!=e){e=L(e)?e:y.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],i>r&&(i=r)}else t=b(t,n),y.each(e,function(e,n,r){a=t(e,n,r),(o>a||1/0===a&&1/0===i)&&(i=e,o=a)});return i},y.shuffle=function(e){for(var t,n=L(e)?e:y.values(e),r=n.length,a=Array(r),i=0;r>i;i++)t=y.random(0,i),t!==i&&(a[i]=a[t]),a[t]=n[i];return a},y.sample=function(e,t,n){return null==t||n?(L(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=b(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,r){var a={};return n=b(n,r),y.each(t,function(r,i){var o=n(r,i,t);e(a,r,o)}),a}};y.groupBy=C(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=C(function(e,t,n){e[n]=t}),y.countBy=C(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):L(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:L(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=b(t,n);var r=[],a=[];return y.each(e,function(e,n,i){(t(e,n,i)?r:a).push(e)}),[r,a]},y.first=y.head=y.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var j=function(e,t,n,r){for(var a=[],i=0,o=r||0,s=T(e);s>o;o++){var u=e[o];if(L(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=j(u,t,n));var l=0,c=u.length;for(a.length+=c;c>l;)a[i++]=u[l++]}else n||(a[i++]=u)}return a};y.flatten=function(e,t){return j(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var a=[],i=[],o=0,s=T(e);s>o;o++){var u=e[o],l=n?n(u,o,e):u;t?(o&&i===l||a.push(u),i=l):n?y.contains(i,l)||(i.push(l),a.push(u)):y.contains(a,u)||a.push(u)}return a},y.union=function(){return y.uniq(j(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,a=T(e);a>r;r++){var i=e[r];if(!y.contains(t,i)){for(var o=1;n>o&&y.contains(arguments[o],i);o++);o===n&&t.push(i)}}return t},y.difference=function(e){var t=j(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,T).length||0,n=Array(t),r=0;t>r;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,a=T(e);a>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,r){n=b(n,r,1);for(var a=n(t),i=0,o=T(e);o>i;){var s=Math.floor((i+o)/2);n(e[s])<a?i=s+1:o=s}return i},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),a=Array(r),i=0;r>i;i++,e+=n)a[i]=e;return a};var x=function(e,t,n,r,a){if(!(r instanceof t))return e.apply(n,a);var i=k(e.prototype),o=e.apply(i,a);return y.isObject(o)?o:i};y.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return x(e,r,t,this,n.concat(c.call(arguments)))};return r},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var r=0,a=t.length,i=Array(a),o=0;a>o;o++)i[o]=t[o]===y?arguments[r++]:t[o];for(;r<arguments.length;)i.push(arguments[r++]);return x(e,n,this,this,i)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var a=n.cache,i=""+(t?t.apply(this,arguments):r);return y.has(a,i)||(a[i]=e.apply(this,arguments)),a[i]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,a,i,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:y.now(),o=null,i=e.apply(r,a),o||(r=a=null)};return function(){var l=y.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,a=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),s=l,i=e.apply(r,a),o||(r=a=null)):o||n.trailing===!1||(o=setTimeout(u,c)),i}},y.debounce=function(e,t,n){var r,a,i,o,s,u=function(){var l=y.now()-o;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(i,a),r||(i=a=null)))};return function(){i=this,a=arguments,o=y.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(i,a),i=a=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return D&&r(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&r(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),a=0;n>a;a++)r[a]=e[t[a]];return r},y.mapObject=function(e,t,n){t=b(t,n);for(var r,a=y.keys(e),i=a.length,o={},s=0;i>s;s++)r=a[s],o[r]=t(e[r],r,e);return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),a=0;n>a;a++)r[a]=[t[a],e[t[a]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,a=n.length;a>r;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(e,t,n){t=b(t,n);for(var r,a=y.keys(e),i=0,o=a.length;o>i;i++)if(r=a[i],t(e[r],r,e))return r},y.pick=function(e,t,n){var r,a,i={},o=e;if(null==o)return i;y.isFunction(t)?(a=y.allKeys(o),r=_(t,n)):(a=j(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,u=a.length;u>s;s++){var l=a[s],c=o[l];r(c,l,o)&&(i[l]=c)}return i},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(j(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=w(y.allKeys,!0),y.create=function(e,t){var n=k(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var a=Object(e),i=0;r>i;i++){var o=n[i];if(t[o]!==a[o]||!(o in a))return!1}return!0};var A=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var a=d.call(e);if(a!==d.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var i="[object Array]"===a;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(y.isFunction(o)&&o instanceof o&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!A(e[u],t[u],n,r))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(t,l)||!A(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return A(e,t)},y.isEmpty=function(e){return null==e?!0:L(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=m||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&p.call(e,t)},y.noConflict=function(){return a._=i,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=M,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var a=0;e>a;a++)r[a]=t(a);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=y.invert(Y),$=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),a=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(a,t):e}};y.escape=$(Y),y.unescape=$(P),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var I=0;y.uniqueId=function(e){var t=++I+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+U[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),a=0,i="__p+='";e.replace(r,function(t,n,r,o,s){return i+=e.slice(a,s).replace(R,B),a=s+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(s){throw s.source=i,s}var u=function(e){return o.call(this,e,y)},l=t.variable||"obj";return u.source="function("+l+"){\n"+i+"}",u},y.chain=function(e){var t=y(e);return t._chain=!0,t};var N=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),N(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],N(this,n)}}),y.each(["concat","join","slice"],function(e){var t=o[e];y.prototype[e]=function(){return N(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,r){function a(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(i)}function i(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(r.collapse,function(e){e?o():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var a=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;a&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,a){r.setHeading(a(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,a){e(function(){a.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,r,a){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),r.addClass("ng-binding").data("$binding",a.bindHtmlUnsafe),n.$watch(a.bindHtmlUnsafe,function(e){r.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,r){var a=r[0],i=r[1];t.find("input").css({display:"none"}),i.$render=function(){t.toggleClass(a.activeClass,angular.equals(i.$modelValue,e.$eval(n.btnRadio)))},t.bind(a.toggleEvent,function(){if(!n.disabled){var r=t.hasClass(a.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){i.$setViewValue(r?null:e.$eval(n.btnRadio)),i.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,r,a){function i(){return s(r.btnCheckboxTrue,!0)}function o(){return s(r.btnCheckboxFalse,!1)}function s(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var u=a[0],l=a[1];n.find("input").css({display:"none"}),l.$render=function(){n.toggleClass(u.activeClass,angular.equals(l.$modelValue,i()))},n.bind(u.toggleEvent,function(){r.disabled||t.$apply(function(){l.$setViewValue(n.hasClass(u.activeClass)?o():i()),l.$render()})}),n.on("keypress",function(a){r.disabled||32!==a.which||e[0].activeElement!==n[0]||t.$apply(function(){l.$setViewValue(n.hasClass(u.activeClass)?o():i()),l.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,r){function a(t,n,a){v||(angular.extend(t,{direction:a,active:!0}),angular.extend(d.currentSlide||{},{direction:a,active:!1}),r.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(h,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(h,t.direction),e.$currentTransition=!0,m?r.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,g=n,o())}function i(e){if(angular.isUndefined(p[e].index))return p[e];var t;for(p.length,t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function o(){s();var t=+e.interval;!isNaN(t)&&t>0&&(l=n(u,t))}function s(){l&&(n.cancel(l),l=null)}function u(){var t=+e.interval;c&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var l,c,d=this,p=d.slides=e.slides=[],m=angular.version.minor>=4,f="uib-noTransition",h="uib-slideDirection",g=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var r=e.indexOfSlide(t);void 0===n&&(n=r>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&a(t,r,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:g},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?(e.pause(),void 0):d.select(i(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?(e.pause(),void 0):d.select(i(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",o),e.$on("$destroy",s),e.play=function(){c||(c=!0,o())},e.pause=function(){e.noPause||(c=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?d.select(p[t-1]):d.select(p[t]):g>t&&g--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(f,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var r="uib-noTransition",a="uib-slideDirection",i=null;return e.has("$animateCss")&&(i=e.get("$animateCss")),{beforeAddClass:function(e,o,s){if("active"==o&&e.parent()&&!e.parent().data(r)){var u=!1,l=e.data(a),c="next"==l?"left":"right",d=n.bind(this,e,c+" "+l,s);return e.addClass(l),i?i(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){u||d(),s()}),function(){u=!0}}s()},beforeRemoveClass:function(e,o,s){if("active"===o&&e.parent()&&!e.parent().data(r)){var u=!1,l=e.data(a),c="next"==l?"left":"right",d=n.bind(this,e,c,s);return i?i(e,{addClass:c}).start().done(d):t.addClass(e,c).then(function(){u||d(),s()}),function(){u=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function r(e){var t=[],r=e.split("");return angular.forEach(o,function(n,a){var i=e.indexOf(a);if(i>-1){e=e.split(""),r[i]="("+n.regex+")",e[i]="$";for(var o=i+1,s=i+a.length;s>o;o++)r[o]="",e[o]="$";e=e.join(""),t.push({index:i,apply:n.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}function a(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(0===e%4&&0!==e%100||0===e%400):3===t||5===t||8===t||10===t?31>n:!0}var i=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)
}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,o,s){if(!angular.isString(n)||!o)return n;o=t.DATETIME_FORMATS[o]||o,o=o.replace(i,"\\$&"),this.parsers[o]||(this.parsers[o]=r(o));var u=this.parsers[o],l=u.regex,c=u.map,d=n.match(l);if(d&&d.length){var p,m;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,h=d.length;h>f;f++){var g=c[f-1];g.apply&&g.apply.call(p,d[f])}return a(p.year,p.month,p.date)&&(m=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),m}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var a=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&r(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},i=a(t[0]);i!=e[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var a,i,o,s,u=n.split("-"),l=u[0],c=u[1]||"center";a=r?this.offset(e):this.position(e),i=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return a.left+a.width/2-i/2},left:function(){return a.left},right:function(){return a.left+a.width}},p={center:function(){return a.top+a.height/2-o/2},top:function(){return a.top},bottom:function(){return a.top+a.height}};switch(l){case"right":s={top:p[c](),left:d[l]()};break;case"left":s={top:p[c](),left:a.left-i};break;case"bottom":s={top:p[l](),left:d[c]()};break;default:s={top:a.top-o,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,r,a,i,o,s){var u=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,a){u[n]=angular.isDefined(t[n])?6>a?r(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){u[r]=e?new Date(e):null,u.refreshView()}):u[r]=o[r]?new Date(o[r]):null}),angular.forEach(["minMode","maxMode"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(n){u[r]=angular.isDefined(n)?n:t[r],e[r]=u[r],("minMode"==r&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[r])||"maxMode"==r&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[r]))&&(e.datepickerMode=u[r])}):(u[r]=o[r]||null,e[r]=u[r])}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(u.activeDate=e,u.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){l=e,l.$render=function(){u.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:i(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===u.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){u.element[0].focus()};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var a=r[0],i=r[1];a.init(i)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,a){function i(e,t){return 1!==t||0!==e%4||0===e%100&&0!==e%400?u[t]:29}function o(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),a.fixTimeZone(n),r[o++]=n,i.setDate(i.getDate()+1);return r}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=a.showWeeks,a.step={months:1},a.element=n;var u=[31,28,31,30,31,30,31,31,30,31,30,31];a._refreshView=function(){var n=a.activeDate.getFullYear(),r=a.activeDate.getMonth(),i=new Date(n,r,1),u=a.startingDay-i.getDay(),l=u>0?7-u:-u,c=new Date(i);l>0&&c.setDate(-l+1);for(var d=o(c,42),p=0;42>p;p++)d[p]=angular.extend(a.createDateObject(d[p],a.formatDay),{secondary:d[p].getMonth()!==r,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var m=0;7>m;m++)t.labels[m]={abbr:e(d[m].date,a.formatDayHeader),full:e(d[m].date,"EEEE")};if(t.title=e(a.activeDate,a.formatDayTitle),t.rows=a.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=(11-a.startingDay)%7,h=t.rows.length,g=0;h>g;g++)t.weekNumbers.push(s(t.rows[g][f].date))}},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},a.handleKeyDown=function(e){var t=a.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getMonth()+("pageup"===e?-1:1);a.activeDate.setMonth(n,1),t=Math.min(i(a.activeDate.getFullYear(),a.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=i(a.activeDate.getFullYear(),a.activeDate.getMonth()));a.activeDate.setDate(t)},a.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,a){a.step={years:1},a.element=n,a._refreshView=function(){for(var n,r=new Array(12),i=a.activeDate.getFullYear(),o=0;12>o;o++)n=new Date(i,o,1),a.fixTimeZone(n),r[o]=angular.extend(a.createDateObject(n,a.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(a.activeDate,a.formatMonthTitle),t.rows=a.split(r,3)},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},a.handleKeyDown=function(e){var t=a.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getFullYear()+("pageup"===e?-1:1);a.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);a.activeDate.setMonth(t)},a.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function a(e){return parseInt((e-1)/i,10)*i+1}var i=r.yearRange;r.step={years:i},r.element=t,r._refreshView=function(){for(var t,n=new Array(i),o=0,s=a(r.activeDate.getFullYear());i>o;o++)t=new Date(s+o,0,1),r.fixTimeZone(t),n[o]=angular.extend(r.createDateObject(t,r.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=r.split(n,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=a(r.activeDate.getFullYear()):"end"===e&&(t=a(r.activeDate.getFullYear())+i-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,r,a,i,o,s,u){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,c,d,p){function m(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function f(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,g,l.date);return isNaN(t)?void 0:t}return void 0}return null}function h(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var r=o.parse(n,g);return!isNaN(r)}return!1}return!0}var g,v=angular.isDefined(d.closeOnDateSelection)?l.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,y=angular.isDefined(d.datepickerAppendToBody)?l.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,_=angular.isDefined(d.onOpenFocus)?l.$parent.$eval(d.onOpenFocus):s.onOpenFocus,b=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,k={};l.showButtonBar=angular.isDefined(d.showButtonBar)?l.$parent.$eval(d.showButtonBar):s.showButtonBar,l.getText=function(e){return l[e+"Text"]||s[e+"Text"]},l.isDisabled=function(e){return"today"===e&&(e=new Date),l.watchData.minDate&&l.compare(e,k.minDate)<0||l.watchData.maxDate&&l.compare(e,k.maxDate)>0},l.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var M=!1;if(s.html5Types[d.type]?(g=s.html5Types[d.type],M=!0):(g=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==g&&(g=t,p.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(M&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var S=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");S.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":b});var T=angular.element(S.children()[0]);if(T.attr("template-url",w),M&&"month"===d.type&&(T.attr("datepicker-mode",'"month"'),T.attr("min-mode","month")),d.datepickerOptions){var L=l.$parent.$eval(d.datepickerOptions);L&&L.initDate&&(l.initDate=L.initDate,T.attr("init-date","initDate"),delete L.initDate),angular.forEach(L,function(e,t){T.attr(m(t),e)})}l.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(k[e]=new Date(t))}),T.attr(m(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;l.$watch("watchData."+e,function(e,t){angular.isFunction(r)&&e!==t&&r(l.$parent,e)})}}}),d.dateDisabled&&T.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&T.attr("show-weeks",d.showWeeks),d.customClass&&T.attr("custom-class","customClass({ date: date, mode: mode })"),M?p.$formatters.push(function(e){return l.date=e,e}):(p.$$parserName="date",p.$validators.date=h,p.$parsers.unshift(f),p.$formatters.push(function(e){return l.date=e,p.$isEmpty(e)?e:i(e,g)})),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e);var t=l.date?i(l.date,g):null;c.val(t),p.$setViewValue(t),v&&(l.isOpen=!1,c[0].focus())},p.$viewChangeListeners.push(function(){l.date=o.parse(p.$viewValue,g,l.date)});var C=function(e){!l.isOpen||c[0].contains(e.target)||S[0].contains(e.target)||l.$apply(function(){l.isOpen=!1})},j=function(e){27===e.which&&l.isOpen?(e.preventDefault(),e.stopPropagation(),l.$apply(function(){l.isOpen=!1}),c[0].focus()):40!==e.which||l.isOpen||(e.preventDefault(),e.stopPropagation(),l.$apply(function(){l.isOpen=!0}))};c.bind("keydown",j),l.keydown=function(e){27===e.which&&(l.isOpen=!1,c[0].focus())},l.$watch("isOpen",function(e){e?(l.position=y?a.offset(c):a.position(c),l.position.top=l.position.top+c.prop("offsetHeight"),u(function(){_&&l.$broadcast("datepicker.focus"),n.bind("click",C)},0,!1)):n.unbind("click",C)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.date)?(e=new Date(l.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,c[0].focus()};var x=e(S)(l);S.remove(),y?n.find("body").append(x):c.after(x),l.$on("$destroy",function(){l.isOpen===!0&&(r.$$phase||l.$apply(function(){l.isOpen=!1})),x.remove(),c.unbind("keydown",j),n.unbind("click",C)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",a)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",a))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var a=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&a&&a[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},a=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,r,a,i,o,s,u,l){var c,d,p=this,m=e.$new(),f=r.openClass,h=angular.noop,g=t.onToggle?n(t.onToggle):angular.noop,v=!1,y=!1,_=s.find("body");this.init=function(r){p.$element=r,t.isOpen&&(d=n(t.isOpen),h=d.assign,e.$watch(d,function(e){m.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),y=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(_.append(p.dropdownMenu),_.addClass("dropdown"),r.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return p.toggleElement},m.getAutoClose=function(){return t.autoClose||"always"},m.getElement=function(){return p.$element},m.isKeynavEnabled=function(){return y},m.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:t.length-1}t[p.selectedOption].focus()},m.getDropdownElement=function(){return p.dropdownMenu},m.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},m.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var r=o.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(r.left+p.$element.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var y=v?_:p.$element;if(i[t?"addClass":"removeClass"](y,f).then(function(){angular.isDefined(t)&&t!==n&&g(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&l(p.dropdownMenuTemplateUrl).then(function(e){c=m.$new(),u(e.trim())(c,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),m.focusToggleElement(),a.open(m);else{if(p.dropdownMenuTemplateUrl){c&&c.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(b),p.dropdownMenu=b}a.close(m),p.selectedOption=null}angular.isFunction(h)&&h(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)});var b=e.$on("$destroy",function(){m.$destroy()});m.$on("$destroy",b)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,r){if(r){var a=n.templateUrl;a&&(r.dropdownMenuTemplateUrl=a),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,r){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:r.selectedOption=angular.isNumber(r.selectedOption)?r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:0;break;case 38:r.selectedOption=angular.isNumber(r.selectedOption)?0===r.selectedOption?0:r.selectedOption-1:t.length-1}t[r.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var a=function(a){a.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",a),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",a)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var a=r.indexOf(n);-1!==a&&r.splice(a,1),r.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(a?a(r,{addClass:i.modalInClass}).start():e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var o=n();a?a(r,{removeClass:i.modalInClass}).start().then(o):e.removeClass(r,i.modalInClass).then(o)}))}var a=null;return t.has("$animateCss")&&(a=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,r){var a=null;return r.has("$animateCss")&&(a=r.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,i,o){i.addClass(o.windowClass||""),r.size=o.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},r.$isRendered=!0;var s=t.defer();o.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=a?a(i,{addClass:o.modalInClass}).start():n.addClass(i,o.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();a?a(i,{removeClass:o.modalInClass}).start().then(r):n.removeClass(i,o.modalInClass).then(r)})),t.when(s).then(function(){var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus()});var u=e.getTop();u&&e.modalRendered(u.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,a){a(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,r,a,i,o,s,u){function l(){for(var e=-1,t=_.keys(),n=0;n<t.length;n++)_.get(t[n]).value.backdrop&&(e=n);return e}function c(e,t){var r=n.find("body").eq(0),a=_.get(e).value;_.remove(e),p(a.modalDomEl,a.modalScope,function(){var t=a.openedClass||y;b.remove(t,e),r.toggleClass(t,b.hasKey(t))}),d(),t&&t.focus?t.focus():r.focus()}function d(){if(h&&-1==l()){var e=g;p(h,g,function(){e=null}),h=void 0,g=void 0}}function p(t,n,r){function a(){a.done||(a.done=!0,f?f(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),r&&r())}var o,s=null,u=function(){return o||(o=i.defer(),s=o.promise),function(){o.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,u),i.when(s).then(a)}function m(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var f=null;o.has("$animateCss")&&(f=o.get("$animateCss"));var h,g,v,y="modal-open",_=u.createNew(),b=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,M="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return a.$watch(l,function(e){g&&(g.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=_.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),a.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var i=n[0].activeElement,o=t.openedClass||y;_.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),b.put(o,e);var s=n.find("body").eq(0),u=l();if(u>=0&&!h){g=a.$new(!0),g.index=u;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),h=r(c)(g),s.append(h)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:_.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=r(d)(t.scope);_.top().value.modalDomEl=p,_.top().value.modalOpener=i,s.append(p),s.addClass(o),w.clearFocusListCache()},w.close=function(e,t){var n=_.get(e);return n&&m(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=_.get(e);return n&&m(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return _.top()},w.modalRendered=function(e){var t=_.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],k=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(M))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,r,a,i,o){function s(e){return e.template?r.when(e.template):a(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function u(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(r.when(t.invoke(e))):angular.isString(e)?n.push(r.when(t.get(e))):n.push(r.when(e))}),n}var l={},c=null;return l.getPromiseChain=function(){return c},l.open=function(t){var a=r.defer(),l=r.defer(),d=r.defer(),p={result:a.promise,opened:l.promise,rendered:d.promise,close:function(e){return o.close(p,e)},dismiss:function(e){return o.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,f=r.all([s(t)].concat(u(t.resolve)));return m=c=r.all([c]).then(function(){return f},function(){return f}).then(function(e){var r=(t.scope||n).$new();r.$close=p.close,r.$dismiss=p.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,u={},c=1;t.controller&&(u.$scope=r,u.$modalInstance=p,angular.forEach(t.resolve,function(t,n){u[n]=e[c++]}),s=i(t.controller,u),t.controllerAs&&(t.bindToController&&angular.extend(s,r),r[t.controllerAs]=s)),o.open(p,{scope:r,deferred:a,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),l.resolve(!0)},function(e){l.reject(e),a.reject(e)}).finally(function(){c===m&&(c=null)}),p},l}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,a={$setViewValue:angular.noop},i=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){a=o,this.config=s,a.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){i(e.$parent,t),e.page>t?e.selectPage(t):a.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(a.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var r=!e.ngDisabled||!n;r&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),a.$setViewValue(t),a.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,a,i){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,a=t,i=angular.isDefined(c)&&t>c;i&&(d?(r=Math.max(e-Math.floor(c/2),1),a=r+c-1,a>t&&(a=t,r=a-c+1)):(r=(Math.ceil(e/c)-1)*c+1,a=Math.min(r+c-1,t)));for(var s=r;a>=s;s++){var u=o(s,s,s===e);n.push(u)}if(i&&!d){if(r>1){var l=o(r-1,"...",!1);n.unshift(l)}if(t>a){var p=o(a+1,"...",!1);n.push(p)}}return n}var u=i[0],l=i[1];if(l){var c=angular.isDefined(a.maxSize)?n.$parent.$eval(a.maxSize):t.maxSize,d=angular.isDefined(a.rotate)?n.$parent.$eval(a.rotate):t.rotate;n.boundaryLinks=angular.isDefined(a.boundaryLinks)?n.$parent.$eval(a.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(a.directionLinks)?n.$parent.$eval(a.directionLinks):t.directionLinks,u.init(l,t),a.maxSize&&n.$parent.$watch(e(a.maxSize),function(e){c=parseInt(e,10),u.render()});var p=u.render;u.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))
}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,r,a){var i=a[0],o=a[1];o&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,i.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(a,i,o,s,u,l,c,d){return function(a,p,m,f){function h(e){var t=(e||f.trigger||m).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}f=angular.extend({},t,r,f);var g=e(a),v=l.startSymbol(),y=l.endSymbol(),_="<div "+g+"-popup "+'title="'+v+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" '+'popup-class="'+v+"popupClass"+y+'" '+'animation="animation" '+'is-open="isOpen"'+'origin-scope="origScope" '+">"+"</div>";return{restrict:"EA",compile:function(){var e=i(_);return function(t,n,r){function i(){Y.isOpen?m():l()}function l(){(!A||t.$eval(r[p+"Enable"]))&&(b(),Y.popupDelay?j||(j=o(g,Y.popupDelay,!1)):g())}function m(){v(),c.$$phase||c.$digest()}function g(){return j=null,C&&(o.cancel(C),C=null),(f.useContentExp?Y.contentExp():Y.content)?(y(),Y.isOpen=!0,$&&$.assign(Y.origScope,Y.isOpen),c.$$phase||Y.$apply(),T.css({display:"block"}),I(),void 0):angular.noop}function v(){Y.isOpen=!1,$&&$.assign(Y.origScope,Y.isOpen),o.cancel(j),j=null,o.cancel(x),x=null,Y.animation?C||(C=o(_,500)):_()}function y(){T&&_(),L=Y.$new(),T=e(L,function(e){D?s.find("body").append(e):n.after(e)}),f.useContentExp&&(L.$watch("contentExp()",function(e){!e&&Y.isOpen&&v()}),L.$watch(function(){P||(P=!0,L.$$postDigest(function(){P=!1,Y.isOpen&&I()}))}))}function _(){C=null,T&&(T.remove(),T=null),L&&(L.$destroy(),L=null)}function b(){w(),k(),M()}function w(){Y.popupClass=r[p+"Class"]}function k(){var e=r[p+"Placement"];Y.placement=angular.isDefined(e)?e:f.placement}function M(){var e=r[p+"PopupDelay"],t=parseInt(e,10);Y.popupDelay=isNaN(t)?f.popupDelay:t}function S(){var e=r[p+"Trigger"];O(),E=h(e),"none"!==E.show&&E.show.forEach(function(e,t){e===E.hide[t]?n[0].addEventListener(e,i):e&&(n[0].addEventListener(e,l),n[0].addEventListener(E.hide[t],m))})}var T,L,C,j,x,D=angular.isDefined(f.appendToBody)?f.appendToBody:!1,E=h(void 0),A=angular.isDefined(r[p+"Enable"]),Y=t.$new(!0),P=!1,$=angular.isDefined(r[p+"IsOpen"])?d(r[p+"IsOpen"]):!1,I=function(){T&&(x||(x=o(function(){T.css({top:0,left:0,width:"auto",height:"auto"});var e=u.position(T),t=u.positionElements(n,T,Y.placement,D);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",T.css(t),x=null},0,!1)))};Y.origScope=t,Y.isOpen=!1,Y.contentExp=function(){return t.$eval(r[a])},f.useContentExp||r.$observe(a,function(e){Y.content=e,!e&&Y.isOpen?v():I()}),r.$observe("disabled",function(e){j&&e&&(o.cancel(j),j=null),e&&Y.isOpen&&v()}),r.$observe(p+"Title",function(e){Y.title=e,I()}),r.$observe(p+"Placement",function(){Y.isOpen&&(k(),I())}),$&&t.$watch($,function(e){e!==Y.isOpen&&i()});var O=function(){E.show.forEach(function(e){n.unbind(e,l)}),E.hide.forEach(function(e){n.unbind(e,m)})};S();var U=t.$eval(r[p+"Animation"]);Y.animation=angular.isDefined(U)?!!U:f.animation;var R=t.$eval(r[p+"AppendToBody"]);D=angular.isDefined(R)?R:D,D&&t.$on("$locationChangeSuccess",function(){Y.isOpen&&v()}),t.$on("$destroy",function(){o.cancel(C),o.cancel(j),o.cancel(x),O(),_(),Y=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(a,i,o){var s,u,l,c=a.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){u&&(u.remove(),u=null),s&&(s.$destroy(),s=null),l&&(e.leave(l).then(function(){u=null}),u=l,l=null)};a.$watch(t.parseAsResourceUrl(o.tooltipTemplateTransclude),function(t){var o=++d;t?(r(t,!0).then(function(r){if(o===d){var a=c.$new(),u=r,m=n(u)(a,function(t){p(),e.enter(t,i)});s=a,l=m,s.$emit("$includeContentLoaded",t)}},function(){o===d&&(p(),a.$emit("$includeContentError",t))}),a.$emit("$includeContentRequested",t)):p()}),a.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){a||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=r.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){r.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,a,i){t&&e.warn("bar is now deprecated. Use uib-bar instead"),i.addBar(n,r)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(a){r=a,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var i=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(i)&&i.length>0?i:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var a=r[0],i=r[1];a.init(i)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var a=n.indexOf(e);if(e.active&&n.length>1&&!r){var i=a==n.length-1?a-1:a+1;t.select(n[i])}n.splice(a,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,r,a,i,o){n.$watch("active",function(e){e&&i.select(n)}),n.disabled=!1,a.disable&&n.$parent.$watch(e(a.disable),function(e){n.disabled=!!e}),a.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(a.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},i.addTab(n),n.$on("$destroy",function(){i.removeTab(n)}),n.$transcludeFn=o}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var a=t.$eval(r.tabContentTransclude);a.$transcludeFn(a.$parent,function(t){angular.forEach(t,function(t){e(t)?a.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,a,i){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function l(e){c(),h.$setViewValue(new Date(f)),d(e)}function c(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),r=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n),"m"!==t&&(e.minutes=u(r)),e.meridian=f.getHours()<12?g[0]:g[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes()),r}function m(e){f=p(f,e),l()}var f=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):i.meridians||a.DATETIME_FORMATS.AMPMS;this.init=function(n,r){h=n,h.$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var a=r.eq(0),o=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):i.mousewheel;s&&this.setupMousewheelEvents(a,o);var u=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):i.arrowkeys;u&&this.setupArrowkeyEvents(a,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):i.readonlyInput,this.setupInputEvents(a,o)};var v=i.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var y=i.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){y=parseInt(e,10)});var _;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);_=isNaN(t)?void 0:t});var b;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);b=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(f,60*v);return e>b||f>e&&_>e},e.noDecrementHours=function(){var e=p(f,60*-v);return _>e||e>f&&e>b},e.noIncrementMinutes=function(){var e=p(f,y);return e>b||f>e&&_>e},e.noDecrementMinutes=function(){var e=p(f,-y);return _>e||e>f&&e>b},e.noToggleMeridian=function(){return f.getHours()<13?p(f,720)>b:p(f,-720)<_},e.showMeridian=i.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,h.$error.time){var n=o(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(f.setHours(n),l())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var r=function(t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(f.setHours(e),_>f||f>b?r(!0):l("h")):r(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours)})}),e.updateMinutes=function(){var e=s(),t=o();angular.isDefined(e)&&angular.isDefined(t)?(f.setMinutes(e),_>f||f>b?r(void 0,!0):l("m")):r(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})})},this.render=function(){var t=h.$viewValue;isNaN(t)?(h.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),_>f||f>b?(h.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):c(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):i.showSpinners,e.incrementHours=function(){e.noIncrementHours()||m(60*v)},e.decrementHours=function(){e.noDecrementHours()||m(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||m(y)},e.decrementMinutes=function(){e.noDecrementMinutes()||m(-y)},e.toggleMeridian=function(){e.noToggleMeridian()||m(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,r){var a=r[0],i=r[1];i&&a.init(i,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,r,a){function i(e){for(var t in e)if(void 0!==s.style[t])return e[t]}a||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(r,a,i){i=i||{};var s=e.defer(),u=o[i.animation?"animationEndEventName":"transitionEndEventName"],l=function(){n.$apply(function(){r.unbind(u,l),s.resolve(r)})};return u&&r.bind(u,l),t(function(){angular.isString(a)?r.addClass(a):angular.isFunction(a)?a(r):angular.isObject(a)&&r.css(a),u||s.resolve(r)}),s.promise.cancel=function(){u&&r.unbind(u,l),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=i(u),o.animationEndEventName=i(l),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,r,a,i,o,s,u){var l=[9,13,27,38,40],c=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,m,f){function h(){I.moveInProgress||(I.moveInProgress=!0,I.$digest()),W&&r.cancel(W),W=r(function(){I.matches.length&&g(),I.moveInProgress=!1,I.$digest()},c)}function g(){I.position=x?s.offset(p):s.position(p),I.position.top+=p.prop("offsetHeight")}var v=f[0],y=f[1],_=d.$eval(m.typeaheadMinLength);_||0===_||(_=1);var b,w,k=d.$eval(m.typeaheadWaitMs)||0,M=d.$eval(m.typeaheadEditable)!==!1,S=t(m.typeaheadLoading).assign||angular.noop,T=t(m.typeaheadOnSelect),L=angular.isDefined(m.typeaheadSelectOnBlur)?d.$eval(m.typeaheadSelectOnBlur):!1,C=t(m.typeaheadNoResults).assign||angular.noop,j=m.typeaheadInputFormatter?t(m.typeaheadInputFormatter):void 0,x=m.typeaheadAppendToBody?d.$eval(m.typeaheadAppendToBody):!1,D=d.$eval(m.typeaheadFocusFirst)!==!1,E=m.typeaheadSelectOnExact?d.$eval(m.typeaheadSelectOnExact):!1,A=t(m.ngModel),Y=t(m.ngModel+"($$$p)"),P=function(e,t){return angular.isFunction(A(d))&&y&&y.$options&&y.$options.getterSetter?Y(e,{$$$p:t}):A.assign(e,t)},$=u.parse(m.typeahead),I=d.$new(),O=d.$on("$destroy",function(){I.$destroy()});I.$on("$destroy",O);var U="typeahead-"+I.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var R=angular.element("<div typeahead-popup></div>");R.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(m.typeaheadTemplateUrl)&&R.attr("template-url",m.typeaheadTemplateUrl),angular.isDefined(m.typeaheadPopupTemplateUrl)&&R.attr("popup-template-url",m.typeaheadPopupTemplateUrl);var B=function(){I.matches=[],I.activeIdx=-1,p.attr("aria-expanded",!1)},N=function(e){return U+"-option-"+e};I.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",N(e))});var F=function(e,t){return I.matches.length>t&&e?e.toUpperCase()===I.matches[t].label.toUpperCase():!1},H=function(e){var t={$viewValue:e};S(d,!0),C(d,!1),n.when($.source(d,t)).then(function(n){var r=e===v.$viewValue;if(r&&b)if(n&&n.length>0){I.activeIdx=D?0:-1,C(d,!1),I.matches.length=0;for(var a=0;a<n.length;a++)t[$.itemName]=n[a],I.matches.push({id:N(a),label:$.viewMapper(I,t),model:n[a]});I.query=e,g(),p.attr("aria-expanded",!0),E&&1===I.matches.length&&F(e,0)&&I.select(0)}else B(),C(d,!0);r&&S(d,!1)},function(){B(),S(d,!1),C(d,!0)})};x&&(angular.element(i).bind("resize",h),a.find("body").bind("scroll",h));var W;I.moveInProgress=!1,B(),I.query=void 0;var G,z=function(e){G=r(function(){H(e)},k)},q=function(){G&&r.cancel(G)};v.$parsers.unshift(function(e){return b=!0,0===_||e&&e.length>=_?k>0?(q(),z(e)):H(e):(S(d,!1),q(),B()),M?e:e?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,r={};return M||v.$setValidity("editable",!0),j?(r.$model=e,j(d,r)):(r[$.itemName]=e,t=$.viewMapper(d,r),r[$.itemName]=void 0,n=$.viewMapper(d,r),t!==n?t:e)}),I.select=function(e){var t,n,a={};w=!0,a[$.itemName]=n=I.matches[e].model,t=$.modelMapper(d,a),P(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),T(d,{$item:n,$model:t,$label:$.viewMapper(d,a)}),B(),I.$eval(m.typeaheadFocusOnSelect)!==!1&&r(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==I.matches.length&&-1!==l.indexOf(e.which)){if(-1===I.activeIdx&&(9===e.which||13===e.which))return B(),I.$digest(),void 0;e.preventDefault(),40===e.which?(I.activeIdx=(I.activeIdx+1)%I.matches.length,I.$digest()):38===e.which?(I.activeIdx=(I.activeIdx>0?I.activeIdx:I.matches.length)-1,I.$digest()):13===e.which||9===e.which?I.$apply(function(){I.select(I.activeIdx)}):27===e.which&&(e.stopPropagation(),B(),I.$digest())}}),p.bind("blur",function(){L&&I.matches.length&&-1!==I.activeIdx&&!w&&(w=!0,I.$apply(function(){I.select(I.activeIdx)})),b=!1,w=!1});var V=function(e){p[0]!==e.target&&3!==e.which&&0!==I.matches.length&&(B(),o.$$phase||I.$digest())};a.bind("click",V),d.$on("$destroy",function(){a.unbind("click",V),x&&K.remove(),R.remove()});var K=e(R)(I);x?a.find("body").append(K):p.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,a,i){var o=n(i.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(o).then(function(e){t(e.trim())(r,function(e){a.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function a(e){return/<.*>/g.test(e)}var i;return i=t.has("$sanitize"),function(t,o){return!i&&a(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(r(o),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')
}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');var twemoji=function(){"use strict";function e(e){return document.createTextNode(e)}function t(e){return e.replace(y,s)}function n(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function r(e,t){for(var n,a,i=e.childNodes,o=i.length;o--;)n=i[o],a=n.nodeType,3===a?t.push(n):1!==a||_.test(n.nodeName)||r(n,t);return t}function a(e,t){return f("️"===t?e.slice(0,-1):3===e.length&&"️"===e.charAt(1)?e.charAt(0)+e.charAt(2):e)}function i(t,n){for(var i,o,s,u,l,c,d,p,m,f,h,g,y,_,b=r(t,[]),w=b.length;w--;){for(s=!1,u=document.createDocumentFragment(),l=b[w],c=l.nodeValue,p=0;d=v.exec(c);){if(m=d.index,m!==p&&u.appendChild(e(c.slice(p,m))),h=d[0],g=d[1],y=d[2],p=m+h.length,"︎"!==y&&(_=n.callback(a(g,y),n,y))){f=new Image,f.onerror=n.onerror,f.setAttribute("draggable","false"),i=n.attributes(g,y);for(o in i)i.hasOwnProperty(o)&&0!==o.indexOf("on")&&!f.hasAttribute(o)&&f.setAttribute(o,i[o]);f.className=n.className,f.alt=h,f.src=_,s=!0,u.appendChild(f)}f||u.appendChild(e(h)),f=null}s&&(p<c.length&&u.appendChild(e(c.slice(p))),l.parentNode.replaceChild(u,l))}return t}function o(e,n){return p(e,function(e,r,i){var o,s,u,l=e;if("︎"!==i&&(u=n.callback(a(r,i),n,i))){l="<img ".concat('class="',n.className,'" ','draggable="false" ','alt="',e,'"',' src="',u,'"'),o=n.attributes(r,i);for(s in o)o.hasOwnProperty(s)&&0!==s.indexOf("on")&&-1===l.indexOf(" "+s+"=")&&(l=l.concat(" ",s,'="',t(o[s]),'"'));l=l.concat(">")}return l})}function s(e){return g[e]}function u(){return null}function l(e){return"number"==typeof e?e+"x"+e:e}function c(e){var t="string"==typeof e?parseInt(e,16):e;return 65536>t?b(t):(t-=65536,b(55296+(t>>10),56320+(1023&t)))}function d(e,t){return t&&"function"!=typeof t||(t={callback:t}),("string"==typeof e?o:i)(e,{callback:t.callback||n,attributes:"function"==typeof t.attributes?t.attributes:u,base:"string"==typeof t.base?t.base:h.base,ext:t.ext||h.ext,size:t.folder||l(t.size||h.size),className:t.className||h.className,onerror:t.onerror||h.onerror})}function p(e,t){return String(e).replace(v,t)}function m(e){v.lastIndex=0;var t=v.test(e);return v.lastIndex=0,t}function f(e,t){for(var n=[],r=0,a=0,i=0;i<e.length;)r=e.charCodeAt(i++),a?(n.push((65536+(a-55296<<10)+(r-56320)).toString(16)),a=0):r>=55296&&56319>=r?a=r:n.push(r.toString(16));return n.join(t||"-")}var h={base:("https:"===location.protocol?"https:":"http:")+"//twemoji.maxcdn.com/",ext:".png",size:"36x36",className:"emoji",convert:{fromCodePoint:c,toCodePoint:f},onerror:function(){this.parentNode&&this.parentNode.replaceChild(e(this.alt),this)},parse:d,replace:p,test:m},g={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},v=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd7f|\ud83c\ude02|\ud83c\ude1a|\ud83c\ude2f|\ud83c\ude37|\u3299|\u303d|\u3030|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2122|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,y=/[&<>'"]/g,_=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,b=String.fromCharCode;return h}();document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(e,t,n){var r;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),vjs.players[e])return vjs.players[e];r=vjs.el(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||new vjs.Player(r,t,n)},videojs=window.videojs=vjs;vjs.CDN_VERSION="4.8",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(e,t){return vjs.options.languages[e]=void 0!==vjs.options.languages[e]?vjs.util.mergeOptions(vjs.options.languages[e],t):t,vjs.options.languages},vjs.players={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(e){var t,n;e=e||{},t=e.init||e.init||this.prototype.init||this.prototype.init||function(){},n=function(){t.apply(this,arguments)},n.prototype=vjs.obj.create(this.prototype),n.prototype.constructor=n,n.extend=vjs.CoreObject.extend,n.create=vjs.CoreObject.create;for(var r in e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);return n},vjs.CoreObject.create=function(){var e=vjs.obj.create(this.prototype);return this.apply(e,arguments),e},vjs.on=function(e,t,n){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.on,e,t,n);var r=vjs.getData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=vjs.guid++),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t){if(!r.disabled){t=vjs.fixEvent(t);var n=r.handlers[t.type];if(n)for(var a=n.slice(0),i=0,o=a.length;o>i&&!t.isImmediatePropagationStopped();i++)a[i].call(e,t)}}),1==r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))},vjs.off=function(e,t,n){if(vjs.hasData(e)){var r=vjs.getData(e);if(r.handlers){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.off,e,t,n);var a=function(t){r.handlers[t]=[],vjs.cleanUpEvents(e,t)};if(t){var i=r.handlers[t];if(i){if(!n)return a(t),void 0;if(n.guid)for(var o=0;o<i.length;o++)i[o].guid===n.guid&&i.splice(o--,1);vjs.cleanUpEvents(e,t)}}else for(var s in r.handlers)a(s)}}},vjs.cleanUpEvents=function(e,t){var n=vjs.getData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),vjs.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),vjs.isEmpty(n)&&vjs.removeData(e)},vjs.fixEvent=function(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||window.event;e={};for(var a in r)"layerX"!==a&&"layerY"!==a&&"keyboardEvent.keyLocation"!==a&&("returnValue"==a&&r.preventDefault||(e[a]=r[a]));if(e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,e.isDefaultPrevented=t,e.defaultPrevented=!0},e.isDefaultPrevented=n,e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var i=document.documentElement,o=document.body;e.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},vjs.trigger=function(e,t){var n=vjs.hasData(e)?vjs.getData(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=vjs.fixEvent(t),n.dispatcher&&n.dispatcher.call(e,t),r&&!t.isPropagationStopped()&&t.bubbles!==!1)vjs.trigger(r,t);else if(!r&&!t.defaultPrevented){var a=vjs.getData(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented},vjs.one=function(e,t,n){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.one,e,t,n);var r=function(){vjs.off(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||vjs.guid++,vjs.on(e,t,r)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(e,t){var n;return e=e||"div",t=t||{},n=document.createElement(e),vjs.obj.each(t,function(e,t){-1!==e.indexOf("aria-")||"role"==e?n.setAttribute(e,t):n[e]=t}),n},vjs.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(e){function t(){}return t.prototype=e,new t},vjs.obj.each=function(e,t,n){for(var r in e)hasOwnProp.call(e,r)&&t.call(n||this,r,e[r])},vjs.obj.merge=function(e,t){if(!t)return e;for(var n in t)hasOwnProp.call(t,n)&&(e[n]=t[n]);return e},vjs.obj.deepMerge=function(e,t){var n,r,a;e=vjs.obj.copy(e);for(n in t)hasOwnProp.call(t,n)&&(r=e[n],a=t[n],e[n]=vjs.obj.isPlain(r)&&vjs.obj.isPlain(a)?vjs.obj.deepMerge(r,a):t[n]);return e},vjs.obj.copy=function(e){return vjs.obj.merge({},e)},vjs.obj.isPlain=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},vjs.obj.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},vjs.isNaN=function(e){return e!==e},vjs.bind=function(e,t,n){t.guid||(t.guid=vjs.guid++);var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(e){var t=e[vjs.expando];return t||(t=e[vjs.expando]=vjs.guid++,vjs.cache[t]={}),vjs.cache[t]},vjs.hasData=function(e){var t=e[vjs.expando];return!(!t||vjs.isEmpty(vjs.cache[t]))},vjs.removeData=function(e){var t=e[vjs.expando];if(t){delete vjs.cache[t];try{delete e[vjs.expando]}catch(n){e.removeAttribute?e.removeAttribute(vjs.expando):e[vjs.expando]=null}}},vjs.isEmpty=function(e){for(var t in e)if(null!==e[t])return!1;return!0
},vjs.addClass=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},vjs.removeClass=function(e,t){var n,r;if(-1!=e.className.indexOf(t)){for(n=e.className.split(" "),r=n.length-1;r>=0;r--)n[r]===t&&n.splice(r,1);e.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var e=vjs.USER_AGENT.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var e,t,n=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.setElementAttributes=function(e,t){vjs.obj.each(t,function(t,n){null===n||"undefined"==typeof n||n===!1?e.removeAttribute(t):e.setAttribute(t,n===!0?"":n)})},vjs.getElementAttributes=function(e){var t,n,r,a,i;if(t={},n=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0){r=e.attributes;for(var o=r.length-1;o>=0;o--)a=r[o].name,i=r[o].value,("boolean"==typeof e[a]||-1!==n.indexOf(","+a+","))&&(i=null!==i?!0:!1),t[a]=i}return t},vjs.getComputedDimension=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),n},vjs.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},vjs.browser={},vjs.el=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),document.getElementById(e)},vjs.formatTime=function(e,t){t=t||e;var n=Math.floor(e%60),r=Math.floor(e/60%60),a=Math.floor(e/3600),i=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||1/0===e)&&(a=r=n="-"),a=a>0||o>0?a+":":"",r=((a||i>=10)&&10>r?"0"+r:r)+":",n=10>n?"0"+n:n,a+r+n},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(e){return(e+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},vjs.createTimeRange=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},vjs.get=function(e,t,n,r){var a,i,o,s,u;n=n||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")}),i=new XMLHttpRequest,o=vjs.parseUrl(e),s=window.location,u=o.protocol+o.host!==s.protocol+s.host,!u||!window.XDomainRequest||"withCredentials"in i?(a="file:"==o.protocol||"file:"==s.protocol,i.onreadystatechange=function(){4===i.readyState&&(200===i.status||a&&0===i.status?t(i.responseText):n(i.responseText))}):(i=new window.XDomainRequest,i.onload=function(){t(i.responseText)},i.onerror=n,i.onprogress=function(){},i.ontimeout=n);try{i.open("GET",e,!0),r&&(i.withCredentials=!0)}catch(l){return n(l),void 0}try{i.send()}catch(l){n(l)}},vjs.setLocalStorage=function(e,t){try{var n=window.localStorage||!1;if(!n)return;n[e]=t}catch(r){22==r.code||1014==r.code?vjs.log("LocalStorage Full (VideoJS)",r):18==r.code?vjs.log("LocalStorage not allowed (VideoJS)",r):vjs.log("LocalStorage Error (VideoJS)",r)}},vjs.getAbsoluteURL=function(e){return e.match(/^https?:\/\//)||(e=vjs.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},vjs.parseUrl=function(e){var t,n,r,a,i;a=["protocol","hostname","port","pathname","search","hash","host"],n=vjs.createEl("a",{href:e}),r=""===n.host&&"file:"!==n.protocol,r&&(t=vjs.createEl("div"),t.innerHTML='<a href="'+e+'"></a>',n=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(t)),i={};for(var o=0;o<a.length;o++)i[a[o]]=n[a[o]];return r&&document.body.removeChild(t),i},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(e){var t,n,r,a,i,o,s,u,l;return e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),t?(n=document.documentElement,r=document.body,a=n.clientLeft||r.clientLeft||0,i=window.pageXOffset||r.scrollLeft,o=t.left+i-a,s=n.clientTop||r.clientTop||0,u=window.pageYOffset||r.scrollTop,l=t.top+u-s,{left:vjs.round(o),top:vjs.round(l)}):{left:0,top:0}},vjs.arr={},vjs.arr.forEach=function(e,t,n){if(vjs.obj.isArray(e)&&t instanceof Function)for(var r=0,a=e.length;a>r;++r)t.call(n||vjs,e[r],r,e);return e},vjs.util={},vjs.util.mergeOptions=function(e,t){var n,r,a;e=vjs.obj.copy(e);for(n in t)t.hasOwnProperty(n)&&(r=e[n],a=t[n],e[n]=vjs.obj.isPlain(r)&&vjs.obj.isPlain(a)?vjs.util.mergeOptions(r,a):t[n]);return e},vjs.Component=vjs.CoreObject.extend({init:function(e,t,n){this.player_=e,this.options_=vjs.obj.copy(this.options_),t=this.options(t),this.id_=t.id||(t.el&&t.el.id?t.el.id:e.id()+"_component_"+vjs.guid++),this.name_=t.name||null,this.el_=t.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(n),t.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(e){return void 0===e?this.options_:this.options_=vjs.util.mergeOptions(this.options_,e)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(e,t){return vjs.createEl(e,t)},vjs.Component.prototype.localize=function(e){var t=this.player_.language(),n=this.player_.languages();return n&&n[t]&&n[t][e]?n[t][e]:e},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(e){return this.childIndex_[e]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(e){return this.childNameIndex_[e]},vjs.Component.prototype.addChild=function(e,t){var n,r,a;return"string"==typeof e?(a=e,t=t||{},r=t.componentClass||vjs.capitalize(a),t.name=a,n=new window.videojs[r](this.player_||this,t)):n=e,this.children_.push(n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),a=a||n.name&&n.name(),a&&(this.childNameIndex_[a]=n),"function"==typeof n.el&&n.el()&&this.contentEl().appendChild(n.el()),n},vjs.Component.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id]=null,this.childNameIndex_[e.name]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},vjs.Component.prototype.initChildren=function(){var e,t,n,r,a;if(e=this,t=this.options().children)if(vjs.obj.isArray(t))for(var i=0;i<t.length;i++)n=t[i],"string"==typeof n?(r=n,a={}):(r=n.name,a=n),e[r]=e.addChild(r,a);else vjs.obj.each(t,function(t,n){n!==!1&&(e[t]=e.addChild(t,n))})},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(e,t){return vjs.on(this.el_,e,vjs.bind(this,t)),this},vjs.Component.prototype.off=function(e,t){return vjs.off(this.el_,e,t),this},vjs.Component.prototype.one=function(e,t){return vjs.one(this.el_,e,vjs.bind(this,t)),this},vjs.Component.prototype.trigger=function(e){return vjs.trigger(this.el_,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(e){return e&&(this.isReady_?e.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(e))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var e=this.readyQueue_;if(e&&e.length>0){for(var t=0,n=e.length;n>t;t++)e[t].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(e){return vjs.addClass(this.el_,e),this},vjs.Component.prototype.removeClass=function(e){return vjs.removeClass(this.el_,e),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(e,t){return this.dimension("width",e,t)},vjs.Component.prototype.height=function(e,t){return this.dimension("height",e,t)},vjs.Component.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},vjs.Component.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||vjs.isNaN(t))&&(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],a=r.indexOf("px");return-1!==a?parseInt(r.slice(0,a),10):parseInt(this.el_["offset"+vjs.capitalize(e)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var e,t,n,r,a,i,o,s,u;e=0,t=null,u=22,this.on("touchstart",function(n){1===n.touches.length&&(t=n.touches[0],e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){e.touches.length>1?r=!1:t&&(i=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,s=Math.sqrt(i*i+o*o),s>u&&(r=!1))}),a=function(){r=!1},this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(a){t=null,r===!0&&(n=(new Date).getTime()-e,250>n&&(a.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var e,t,n;e=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){e(),clearInterval(t),t=setInterval(e,250)}),n=function(){e(),clearInterval(t)},this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)},vjs.Button=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(e,t){var n;return t=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},t),n=vjs.Component.prototype.createEl.call(this,e,t),t.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),n.appendChild(this.contentEl_)),n},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(e){(32==e.which||13==e.which)&&(e.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),e.on(this.playerEvent,vjs.bind(this,this.update)),this.boundEvents={},this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp)}}),vjs.Slider.prototype.createEl=function(e,t){return t=t||{},t.className=t.className+" vjs-slider",t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),vjs.Component.prototype.createEl.call(this,e,t)},vjs.Slider.prototype.onMouseDown=function(e){e.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(e)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var e,t=this.getPercent(),n=this.handle,r=this.bar;if(isNaN(t)&&(t=0),e=t,n){var a=this.el_,i=a.offsetWidth,o=n.el().offsetWidth,s=o?o/i:0,u=1-s,l=t*u;e=l+s/2,n.el().style.left=vjs.round(100*l,2)+"%"}r&&(r.el().style.width=vjs.round(100*e,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(e){var t,n,r,a,i,o,s,u,l;if(t=this.el_,n=vjs.findPosition(t),i=o=t.offsetWidth,s=this.handle,this.options().vertical){if(a=n.top,l=e.changedTouches?e.changedTouches[0].pageY:e.pageY,s){var c=s.el().offsetHeight;a+=c/2,o-=c}return Math.max(0,Math.min(1,(a-l+o)/o))}if(r=n.left,u=e.changedTouches?e.changedTouches[0].pageX:e.pageX,s){var d=s.el().offsetWidth;r+=d/2,i-=d}return Math.max(0,Math.min(1,(u-r)/i))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(e){37==e.which||40==e.which?(e.preventDefault(),this.stepBack()):(38==e.which||39==e.which)&&(e.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(e,t){return t=t||{},t.className=t.className+" vjs-slider-handle",t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t),vjs.Component.prototype.createEl.call(this,"div",t)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(e){this.addChild(e),e.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var e=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(e,{className:"vjs-menu-content"});var t=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),vjs.on(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},vjs.MenuItem=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.selected(t.selected)}}),vjs.MenuItem.prototype.createEl=function(e,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},t))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(e){e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_);if(this.options().title&&e.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(e){e.preventDefault(),32==e.which||13==e.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==e.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&vjs.obj.merge(this,e),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;!function(){var e,t,n,r;for(vjs.browser.fullscreenAPI,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=e[0],r=0;r<e.length;r++)if(e[r][1]in document){n=e[r];break}if(n)for(vjs.browser.fullscreenAPI={},r=0;r<n.length;r++)vjs.browser.fullscreenAPI[t[r]]=n[r]}(),vjs.Player=vjs.Component.extend({init:function(e,t,n){this.tag=e,e.id=e.id||"vjs_video_"+vjs.guid++,this.tagAttributes=e&&vjs.getElementAttributes(e),t=vjs.obj.merge(this.getTagSettings(e),t),this.language_=t.language||vjs.options.language,this.languages_=t.languages||vjs.options.languages,this.cache_={},this.poster_=t.poster,this.controls_=t.controls,e.controls=!1,t.reportTouchActivity=!1,vjs.Component.call(this,this,t,n),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),vjs.players[this.id_]=this,t.plugins&&vjs.obj.each(t.plugins,function(e,t){this[e](t)},this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(e){return void 0===e?this.language_:(this.language_=e,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(e){var t={sources:[],tracks:[]};if(vjs.obj.merge(t,vjs.getElementAttributes(e)),e.hasChildNodes()){var n,r,a,i,o;for(n=e.childNodes,i=0,o=n.length;o>i;i++)r=n[i],a=r.nodeName.toLowerCase(),"source"===a?t.sources.push(vjs.getElementAttributes(r)):"track"===a&&t.tracks.push(vjs.getElementAttributes(r))}return t},vjs.Player.prototype.createEl=function(){var e,t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),n=this.tag;if(n.removeAttribute("width"),n.removeAttribute("height"),n.hasChildNodes()){var r,a,i,o,s,u;for(r=n.childNodes,a=r.length,u=[];a--;)o=r[a],s=o.nodeName.toLowerCase(),"track"===s&&u.push(o);for(i=0;i<u.length;i++)n.removeChild(u[i])}return e=vjs.getElementAttributes(n),vjs.obj.each(e,function(n){t.setAttribute(n,e[n])}),n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),n.parentNode&&n.parentNode.insertBefore(t,n),vjs.insertFirst(n,t),this.el_=t,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),t},vjs.Player.prototype.loadTech=function(e,t){this.tech&&this.unloadTech(),"Html5"!==e&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=e,this.isReady_=!1;var n=function(){this.player_.triggerReady()},r=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[e.toLowerCase()]);t&&(this.currentType_=t.type,t.src==this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.src=t.src),this.tech=new window.videojs[e](this,r),this.tech.ready(n)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.error(null),this.paused()?(this.hasStarted(!1),this.one("play",function(){this.hasStarted(!0)})):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing")},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var e=this.techGet("duration");e&&(0>e&&(e=1/0),this.duration(e),1/0===e?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(e,t){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[e](t)});else try{this.tech[e](t)}catch(n){throw vjs.log(n),n}},vjs.Player.prototype.techGet=function(e){if(this.tech&&this.tech.isReady_)try{return this.tech[e]()}catch(t){throw void 0===this.tech[e]?vjs.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):"TypeError"==t.name?(vjs.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady_=!1):vjs.log(t),t}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(e){return void 0!==e?(this.techCall("setCurrentTime",e),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(e){return void 0!==e?(this.cache_.duration=parseFloat(e),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var e=this.techGet("buffered");return e&&e.length||(e=vjs.createTimeRange(0,0)),e},vjs.Player.prototype.bufferedPercent=function(){var e,t,n=this.duration(),r=this.buffered(),a=0;if(!n)return 0;for(var i=0;i<r.length;i++)e=r.start(i),t=r.end(i),t>n&&(t=n),a+=t-e;return a/n},vjs.Player.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},vjs.Player.prototype.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall("setVolume",t),vjs.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},vjs.Player.prototype.muted=function(e){return void 0!==e?(this.techCall("setMuted",e),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(e){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(e)},vjs.Player.prototype.requestFullscreen=function(){var e=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),e?(vjs.on(document,e.fullscreenchange,vjs.bind(this,function(){this.isFullscreen(document[e.fullscreenElement]),this.isFullscreen()===!1&&vjs.off(document,e.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var e=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),e?document[e.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(e){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var r=vjs.capitalize(n[t]),a=window.videojs[r];if(a){if(a.isSupported())for(var i=0,o=e;i<o.length;i++){var s=o[i];if(a.canPlaySource(s))return{source:s,tech:r}}}else vjs.log.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(e){return void 0===e?this.techGet("src"):(vjs.obj.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!window.videojs[this.techName].canPlaySource(e)?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){this.techCall("src",e.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(e){var t,n=this.selectSource(e);n?n.tech===this.techName?this.src(n.source):this.loadTech(n.tech,n.source):(t=setTimeout(vjs.bind(this,function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})}),0),this.triggerReady(),this.on("dispose",function(){clearTimeout(t)}))},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(e){return void 0!==e?(this.techCall("setPreload",e),this.options_.preload=e,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(e){return void 0!==e?(this.techCall("setAutoplay",e),this.options_.autoplay=e,this):this.techGet("autoplay",e)},vjs.Player.prototype.loop=function(e){return void 0!==e?(this.techCall("setLoop",e),this.options_.loop=e,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(e){return void 0===e?this.poster_:(this.poster_=e,this.techCall("setPoster",e),this.trigger("posterchange"),void 0)},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_
},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(e){return void 0===e?this.error_:null===e?(this.error_=e,this.removeClass("vjs-error"),this):(this.error_=e instanceof vjs.MediaError?e:new vjs.MediaError(e),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var e,t,n,r,a,i,o,s,u;e=vjs.bind(this,this.reportUserActivity),t=function(t){(t.screenX!=s||t.screenY!=u)&&(s=t.screenX,u=t.screenY,e())},n=function(){e(),clearInterval(r),r=setInterval(e,250)},a=function(){e(),clearInterval(r)},this.on("mousedown",n),this.on("mousemove",t),this.on("mouseup",a),this.on("keydown",e),this.on("keyup",e),i=setInterval(vjs.bind(this,function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),clearTimeout(o);var e=this.options().inactivityTimeout;e>0&&(o=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),e))}}),250),this.on("dispose",function(){clearInterval(i),clearTimeout(o)})},vjs.Player.prototype.playbackRate=function(e){return void 0!==e?(this.techCall("setPlaybackRate",e),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.LiveDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE"),"aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.PlayToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.on("play",vjs.bind(this,this.onPlay)),e.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+vjs.formatTime(e,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+"0:00","aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.DurationDisplay.prototype.updateContent=function(){var e=this.player_.duration();e&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+vjs.formatTime(e))},vjs.TimeDivider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> "+"-0:00","aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> "+"-"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),this.controlText_.innerHTML=this.localize("Non-Fullscreen"))},vjs.ProgressControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),e.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(e,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(e){vjs.Slider.prototype.onMouseDown.call(this,e),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t==this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},vjs.SeekBar.prototype.onMouseUp=function(e){vjs.Slider.prototype.onMouseUp.call(this,e),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var e,t,n,r,a=this.player_.buffered(),i=this.player_.duration(),o=this.player_.bufferedEnd(),s=this.el_.children,u=function(e,t){var n=e/t||0;return 100*n+"%"};for(this.el_.style.width=u(o,i),e=0;e<a.length;e++)t=a.start(e),n=a.end(e),r=s[e],r||(r=this.el_.appendChild(vjs.createEl())),r.style.left=u(t,o),r.style.width=u(n-t,o);for(e=s.length;e>a.length;e--)this.el_.removeChild(s[e-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(e,t){vjs.SliderHandle.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(e,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.tech&&e.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),e.on("loadstart",vjs.bind(this,function(){e.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),e.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),e.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(e){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(e))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.on("volumechange",vjs.bind(this,this.update)),e.tech&&e.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),e.on("loadstart",vjs.bind(this,function(){e.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var n=0;4>n;n++)vjs.removeClass(this.el_,"vjs-vol-"+n);vjs.addClass(this.el_,"vjs-vol-"+t)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),e.on("volumechange",vjs.bind(this,this.update)),e.tech&&e.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),e.on("loadstart",vjs.bind(this,function(){e.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_,{contentElType:"div"}),t=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return e.addChild(t),e},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),this.updateVisibility(),this.updateLabel(),e.on("loadstart",vjs.bind(this,this.updateVisibility)),e.on("ratechange",vjs.bind(this,this.updateLabel))}}),vjs.PlaybackRateMenuButton.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+this.localize("Playback Rate")+"</span></div>"});return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player()),t=this.player().options().playbackRates;if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:t[n]+"x"}));return e},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var e=this.player().playbackRate(),t=this.player().options().playbackRates,n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(e,t){var n=this.label=t.rate,r=this.rate=parseFloat(n,10);t.label=n,t.selected=1===r,vjs.MenuItem.call(this,e,t),this.player().on("ratechange",vjs.bind(this,this.update))}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.poster()&&this.src(e.poster()),e.poster()&&e.controls()||this.hide(),e.on("posterchange",vjs.bind(this,function(){this.src(e.poster())})),e.on("play",vjs.bind(this,this.hide))}});var _backgroundSizeSupported="backgroundSize"in vjs.TEST_VID.style;if(vjs.PosterImage.prototype.createEl=function(){var e=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return _backgroundSizeSupported||e.appendChild(vjs.createEl("img")),e},vjs.PosterImage.prototype.src=function(e){var t=this.el();void 0!==e&&(_backgroundSizeSupported?t.style.backgroundImage='url("'+e+'")':t.firstChild.src=e)},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.update(),e.on("error",vjs.bind(this,this.update))}}),vjs.ErrorDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),e.appendChild(this.contentEl_),e},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},vjs.MediaTechController=vjs.Component.extend({init:function(e,t,n){t=t||{},t.reportTouchActivity=!1,vjs.Component.call(this,e,t,n),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var e,t,n,r;t=this,e=this.player();var n=function(){e.controls()&&!e.usingNativeControls()&&t.addControlsListeners()};r=vjs.bind(t,t.removeControlsListeners),this.ready(n),e.on("controlsenabled",n),e.on("controlsdisabled",r),this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var e;this.on("mousedown",this.onClick),this.on("touchstart",function(){e=this.player_.userActive()}),this.on("touchmove",function(){e&&this.player().reportUserActivity()}),this.on("touchend",function(e){e.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(e){0===e.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){var e=this.player().bufferedPercent();this.bufferedPercent_!=e&&this.player().trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.player().on("play",vjs.bind(this,this.trackCurrentTime)),this.player().on("pause",vjs.bind(this,this.stopTrackingCurrentTime)),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.player().trigger("timeupdate")}),250)},vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval),this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(e,t,n){this.featuresVolumeControl=vjs.Html5.canControlVolume(),this.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),this.movingMediaElementInDOM=!vjs.IS_IOS,this.featuresFullscreenResize=!0,this.featuresProgressEvents=!0,vjs.MediaTechController.call(this,e,t,n),this.setupTriggers();var r=t.source;r&&this.el_.currentSrc!==r.src&&(this.el_.src=r.src),vjs.TOUCH_ENABLED&&e.options().nativeControlsForTouch!==!1&&this.useNativeControls(),e.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var e,t=this.player_,n=t.tag;n&&this.movingMediaElementInDOM!==!1||(n?(e=n.cloneNode(!1),vjs.Html5.disposeMediaElement(n),n=e,t.tag=null):(n=vjs.createEl("video"),vjs.setElementAttributes(n,vjs.obj.merge(t.tagAttributes||{},{id:t.id()+"_html5_api","class":"vjs-tech"}))),n.player=t,vjs.insertFirst(n,t.el()));for(var r=["autoplay","preload","loop","muted"],a=r.length-1;a>=0;a--){var i=r[a],o={};"undefined"!=typeof t.options_[i]&&(o[i]=t.options_[i]),vjs.setElementAttributes(n,o)}return n},vjs.Html5.prototype.setupTriggers=function(){for(var e=vjs.Html5.Events.length-1;e>=0;e--)vjs.on(this.el_,vjs.Html5.Events[e],vjs.bind(this,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(e){"error"==e.type&&this.error()?this.player().error(this.error().code):(e.bubbles=!1,this.player().trigger(e))},vjs.Html5.prototype.useNativeControls=function(){var e,t,n,r,a;e=this,t=this.player(),e.setControls(t.controls()),n=function(){e.setControls(!0)},r=function(){e.setControls(!1)},t.on("controlsenabled",n),t.on("controlsdisabled",r),a=function(){t.off("controlsenabled",n),t.off("controlsdisabled",r)},e.on("dispose",a),t.on("usingcustomcontrols",a),t.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(e){this.el_.volume=e},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(e){this.el_.muted=e},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)?!1:!0},vjs.Html5.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",vjs.bind(this,function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",vjs.bind(this,function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")})),this.player_.trigger("fullscreenchange")})),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(e){return void 0===e?this.el_.src:(this.el_.src=e,void 0)},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(e){this.el_.poster=e},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(e){this.el_.preload=e},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(e){this.el_.autoplay=e},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(e){this.el_.controls=!!e},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(e){this.el_.loop=e},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(e){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(e){try{return!!vjs.TEST_VID.canPlayType(e.type)}catch(t){return""}},vjs.Html5.canControlVolume=function(){var e=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=e/2+.1,e!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var e=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=e/2+.1,e!==vjs.TEST_VID.playbackRate},function(){var e,t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,n=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(e||(e=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&t.test(n)?"maybe":e.call(this,n)}),vjs.IS_OLD_ANDROID&&(e||(e=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&n.test(t)?"maybe":e.call(this,t)})},vjs.Html5.unpatchCanPlayType=function(){var t=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=e,e=null,t},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(e){if(e){for(e.player=null,e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(e,t,n){vjs.MediaTechController.call(this,e,t,n);var r=t.source,a=t.parentEl,i=this.el_=vjs.createEl("div",{id:e.id()+"_temp_flash"}),o=e.id()+"_flash_api",s=e.options_,u=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:s.autoplay,preload:s.preload,loop:s.loop,muted:s.muted},t.flashVars),l=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),c=vjs.obj.merge({id:o,name:o,"class":"vjs-tech"},t.attributes);if(r)if(r.type&&vjs.Flash.isStreamingType(r.type)){var d=vjs.Flash.streamToParts(r.src);u.rtmpConnection=encodeURIComponent(d.connection),u.rtmpStream=encodeURIComponent(d.stream)}else u.src=encodeURIComponent(vjs.getAbsoluteURL(r.src));vjs.insertFirst(i,a),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){vjs.on(this.el(),"mousemove",vjs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))}),e.on("stageclick",e.reportUserActivity),this.el_=vjs.Flash.embed(t.swf,i,u,l,c)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(e){if(void 0===e)return this.currentSrc();if(vjs.Flash.isStreamingSrc(e)?(e=vjs.Flash.streamToParts(e),this.setRtmpConnection(e.connection),this.setRtmpStream(e.stream)):(e=vjs.getAbsoluteURL(e),this.el_.vjs_src(e)),this.player_.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(e){this.lastSeekTarget_=e,this.el_.vjs_setProperty("currentTime",e),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){var e=this.el_.vjs_getProperty("currentSrc");if(null==e){var t=this.rtmpConnection(),n=this.rtmpStream();t&&n&&(e=vjs.Flash.streamFromParts(t,n))}return e},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function e(e){var t=e.charAt(0).toUpperCase()+e.slice(1);r["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function t(e){r[e]=function(){return this.el_.vjs_getProperty(e)}}var n,r=vjs.Flash.prototype,a="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),i="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");for(n=0;n<a.length;n++)t(a[n]),e(a[n]);for(n=0;n<i.length;n++)t(i[n])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(e){var t;
return e.type?(t=e.type.replace(/;.*/,"").toLowerCase(),t in vjs.Flash.formats||t in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(e){var t,n;t=vjs.el(e),n=t&&t.parentNode&&t.parentNode.player,n&&(t.player=n,vjs.Flash.checkReady(n.tech))},vjs.Flash.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():setTimeout(function(){vjs.Flash.checkReady(e)},50))},vjs.Flash.onEvent=function(e,t){var n=vjs.el(e).player;n.trigger(t)},vjs.Flash.onError=function(e,t){var n=vjs.el(e).player,r="FLASH: "+t;"srcnotfound"==t?n.error({code:4,message:r}):n.error(r)},vjs.Flash.version=function(){var e="0,0,0";try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},vjs.Flash.embed=function(e,t,n,r,a){var i=vjs.Flash.getEmbedCode(e,n,r,a),o=vjs.createEl("div",{innerHTML:i}).childNodes[0],s=t.parentNode;t.parentNode.replaceChild(o,t);var u=s.childNodes[0];return setTimeout(function(){u.style.display="block"},1e3),o},vjs.Flash.getEmbedCode=function(e,t,n,r){var a='<object type="application/x-shockwave-flash"',i="",o="",s="";return t&&vjs.obj.each(t,function(e,t){i+=e+"="+t+"&amp;"}),n=vjs.obj.merge({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),vjs.obj.each(n,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'}),r=vjs.obj.merge({data:e,width:"100%",height:"100%"},r),vjs.obj.each(r,function(e,t){s+=e+'="'+t+'" '}),a+s+">"+o+"</object>"},vjs.Flash.streamFromParts=function(e,t){return e+"&"+t},vjs.Flash.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n,r=e.indexOf("&");return-1!==r?n=r+1:(r=n=e.lastIndexOf("/")+1,0===r&&(r=n=e.length)),t.connection=e.substring(0,r),t.stream=e.substring(n,e.length),t},vjs.Flash.isStreamingType=function(e){return e in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(e){return vjs.Flash.RTMP_RE.test(e)},vjs.MediaLoader=vjs.Component.extend({init:function(e,t,n){if(vjs.Component.call(this,e,t,n),e.options_.sources&&0!==e.options_.sources.length)e.src(e.options_.sources);else for(var r=0,a=e.options_.techOrder;r<a.length;r++){var i=vjs.capitalize(a[r]),o=window.videojs[i];if(o&&o.isSupported()){e.loadTech(i);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(e,t,n,r){var a=this.textTracks_=this.textTracks_||[];r=r||{},r.kind=e,r.label=t,r.language=n;var i=vjs.capitalize(e||"subtitles"),o=new window.videojs[i+"Track"](this,r);return a.push(o),o.dflt()&&this.ready(function(){setTimeout(function(){o.player().showTextTrack(o.id())},0)}),o},vjs.Player.prototype.addTextTracks=function(e){for(var t,n=0;n<e.length;n++)t=e[n],this.addTextTrack(t.kind,t.label,t.language,t);return this},vjs.Player.prototype.showTextTrack=function(e,t){for(var n,r,a,i=this.textTracks_,o=0,s=i.length;s>o;o++)n=i[o],n.id()===e?(n.show(),r=n):t&&n.kind()==t&&n.mode()>0&&n.disable();return a=r?r.kind():t?t:!1,a&&this.trigger(a+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.id_=t.id||"vjs_"+t.kind+"_"+t.language+"_"+vjs.guid++,this.src_=t.src,this.dflt_=t["default"]||t.dflt,this.title_=t.title,this.language_=t.srclang,this.label_=t.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullscreen()?100*1.4*(screen.width/this.player_.width())+"%":""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),("captions"===this.kind_||"subtitles"===this.kind_)&&this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(e){this.error=e,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(e){for(var t,n,r,a,i=e.split("\n"),o="",s=1,u=i.length;u>s;s++)if(o=vjs.trim(i[s])){for(-1==o.indexOf("-->")?(a=o,o=vjs.trim(i[++s])):a=this.cues_.length,t={id:a,index:this.cues_.length},n=o.split(/[\t ]+/),t.startTime=this.parseCueTime(n[0]),t.endTime=this.parseCueTime(n[2]),r=[];i[++s]&&(o=vjs.trim(i[s]));)r.push(o);t.text=r.join("<br/>"),this.cues_.push(t)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(e){var t,n,r,a,i,o=e.split(":"),s=0;return 3==o.length?(t=o[0],n=o[1],r=o[2]):(t=0,n=o[0],r=o[1]),r=r.split(/\s+/),a=r.splice(0,1)[0],a=a.split(/\.|,/),i=parseFloat(a[1]),a=a[0],s+=3600*parseFloat(t),s+=60*parseFloat(n),s+=parseFloat(a),i&&(s+=i/1e3),s},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var e=this.player_.options().trackTimeOffset||0,t=this.player_.currentTime()+e;if(void 0===this.prevChange||t<this.prevChange||this.nextChange<=t){var n,r,a,i,o=this.cues_,s=this.player_.duration(),u=0,l=!1,c=[];for(t>=this.nextChange||void 0===this.nextChange?i=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(l=!0,i=void 0!==this.lastActiveIndex?this.lastActiveIndex:o.length-1);;){if(a=o[i],a.endTime<=t)u=Math.max(u,a.endTime),a.active&&(a.active=!1);else if(t<a.startTime){if(s=Math.min(s,a.startTime),a.active&&(a.active=!1),!l)break}else l?(c.splice(0,0,a),void 0===r&&(r=i),n=i):(c.push(a),void 0===n&&(n=i),r=i),s=Math.min(s,a.endTime),u=Math.max(u,a.startTime),a.active=!0;if(l){if(0===i)break;i--}else{if(i===o.length-1)break;i++}}this.activeCues_=c,this.nextChange=s,this.prevChange=u,this.firstActiveIndex=n,this.lastActiveIndex=r,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var e=this.activeCues_,t="",n=0,r=e.length;r>n;n++)t+='<span class="vjs-tt-cue">'+e[n].text+"</span>";this.el_.innerHTML=t},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(e,t,n){vjs.Component.call(this,e,t,n),e.options_.tracks&&e.options_.tracks.length>0&&this.player_.addTextTracks(e.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t.track;t.label=n.label(),t.selected=n.dflt(),vjs.MenuItem.call(this,e,t),this.player_.on(n.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:function(){return t.kind},player:e,label:function(){return t.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,e,t),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var e,t=this.player_.textTracks(),n=0,r=t.length,a=!0;r>n;n++)e=t[n],e.kind()==this.track.kind()&&2==e.mode()&&(a=!1);this.selected(a)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var e,t=[];t.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var n=0;n<this.player_.textTracks().length;n++)e=this.player_.textTracks()[n],e.kind()===this.kind_&&t.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return t},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var e,t=[],n=0;n<this.player_.textTracks().length;n++)e=this.player_.textTracks()[n],e.kind()===this.kind_&&t.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return t},vjs.ChaptersButton.prototype.createMenu=function(){for(var e,t,n=this.player_.textTracks(),r=0,a=n.length,i=this.items=[];a>r;r++)if(e=n[r],e.kind()==this.kind_){if(0!==e.readyState()){t=e;break}e.load(),e.on("loaded",vjs.bind(this,this.createMenu))}var o=this.menu;if(void 0===o&&(o=new vjs.Menu(this.player_),o.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))),t){var s,u,l=t.cues_;for(r=0,a=l.length;a>r;r++)s=l[r],u=new vjs.ChaptersTrackMenuItem(this.player_,{track:t,cue:s}),i.push(u),o.addChild(u);this.addChild(o)}return this.items.length>0&&this.show(),o},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t.track,r=this.cue=t.cue,a=e.currentTime();t.label=r.text,t.selected=r.startTime<=a&&a<r.endTime,vjs.MenuItem.call(this,e,t),n.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(e,t){var n,r,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r=walk(a,n),void 0!==r?a[n]=r:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var e,t,n,r=document.getElementsByTagName("video");if(r&&r.length>0)for(var a=0,i=r.length;i>a;a++){if(t=r[a],!t||!t.getAttribute){vjs.autoSetupTimeout(1);break}void 0===t.player&&(e=t.getAttribute("data-setup"),null!==e&&(e=vjs.JSON.parse(e||"{}"),n=videojs(t,e)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(e){setTimeout(vjs.autoSetup,e)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(e,t){vjs.Player.prototype[e]=t},function(){var e;e=function(){function e(t){this.apiToken=t,this.baseUri=e.baseUri||"",this.subscriptions={}}return e.prototype.publish=function(e,t){return this.debug("publishing to "+e+"..."),this.client().publish(e,t)},e.prototype.subscribe=function(e,t){var n,r=this;return this.debug("subscribing to "+e+"..."),n=this.client().subscribe(e,t.message),n.callback(function(){var n;return r.debug("subscription success: "+e),t.success&&t.success(e),n=function(){return r.publish(e,{type:"subscribe"})},setTimeout(n,500)}),n.errback(function(n){return r.debug("subscription error: "+n),delete r.subscriptions[e],t.error?t.error(n):void 0}),this.subscriptions[e]={faye:n,channel:e,options:t}},e.prototype.unsubscribe=function(e){return this.debug("unsubscribing from "+e),this.subscriptions[e].faye.cancel(),delete this.subscriptions[e]},e.prototype.bindTyping=function(e,t,n){var r=this;return e.bind("keydown",function(e){var a;return a=e.target,!a.typingSince||Date.now()-a.typingSince>5e3?(r.publish(t,{type:"typing",user_id:String(n),started:Date.now()}),e.target.typingSince=Date.now()):void 0})},e.prototype.removeTyping=function(e){return e.unbind("keydown"),delete e.typingSince},e.prototype.client=function(){return this._client||(this._client=this.initClient())},e.prototype.debug=function(t){return"debug"===this.logLevel||"debug"===e.logLevel?"undefined"!=typeof console&&null!==console?console.log(t):void 0:void 0},e.prototype.initClient=function(){var e;return e=new Faye.Client(""+this.baseUri+"/faye",{timeout:30,retry:5}),e.addExtension(this),e},e.prototype.reinit=function(){var e,t,n,r,a,i;e=[],i=this.subscriptions;for(t in i)n=i[t],e.push({channel:t,options:n.options});for(n in this.subscriptions)this.unsubscribe(n);for(this.client().disconnect(),this.subscriptions={},this._client=null,r=0,a=e.length;a>r;r++)n=e[r],this.subscribe(n.channel,n.options)},e.prototype.outgoing=function(e,t){return e.channel.match(/\/meta\/(?!subscribe)/)||(e.ext={access_token:this.apiToken}),this.debug("sending message: "+JSON.stringify(e)),t(e)},e.prototype.incoming=function(e,t){return this.debug("received message: "+JSON.stringify(e)),t(e)},e}(),window.GroupmePushClient=e}.call(this),/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.5
 * @author Jon Nylander
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */
function(e){var t=function(){"use strict";var e="s",n=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},r=function(e,t,n){var r=new Date;return void 0!==e&&r.setFullYear(e),r.setMonth(t),r.setDate(n),r},a=function(e){return n(r(e,0,2))},i=function(e){return n(r(e,5,2))},o=function(e){var t=e.getMonth()>7,r=t?i(e.getFullYear()):a(e.getFullYear()),o=n(e),s=0>r,u=r-o;return s||t?0!==u:0>u},s=function(){var t=a(),n=i(),r=t-n;return 0>r?t+",1":r>0?n+",1,"+e:t+",0"},u=function(){var e=s();return new t.TimeZone(t.olson.timezones[e])},l=function(e){var t=new Date(2010,6,15,1,0,0,0),n={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":t,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":t,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return n[e]};return{determine:u,date_is_dst:o,dst_start_for:l}}();t.TimeZone=function(e){"use strict";var n={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},r=e,a=function(){for(var e=n[r],a=e.length,i=0,o=e[0];a>i;i+=1)if(o=e[i],t.date_is_dst(t.dst_start_for(o)))return r=o,void 0},i=function(){return"undefined"!=typeof n[r]};return i()&&a(),{name:function(){return r}}},t.olson={},t.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=t:e.jstz=t}(this),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Ct.call(e,t)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){wt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(e,t){var n=!0;return f(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function o(e,t){_n[e]||(a(t),_n[e]=!0)}function s(e,t){return function(n){return v(e.call(this,n),t)}}function u(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function l(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return 0>t-i?(n=e.clone().add(a-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(a+1,"months"),r=(t-i)/(n-i)),-(a+r)}function c(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function d(){}function p(e,t){t!==!1&&Y(e),h(this,e),this._d=new Date(+e._d),wn===!1&&(wn=!0,wt.updateOffset(this),wn=!1)}function m(e){var t=L(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=wt.localeData(),this._bubble()}function f(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t){var n,r,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),It.length>0)for(n in It)r=It[n],a=t[r],"undefined"!=typeof a&&(e[r]=a);return e}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,n){for(var r=""+Math.abs(e),a=e>=0;r.length<t;)r="0"+r;return(a?n?"+":"":"-")+r}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function _(e,t){var n;return t=U(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function b(e,t){return function(n,r){var a,i;return null===r||isNaN(+r)||(o(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,a=wt.duration(n,r),w(this,a,e),this}}function w(e,t,n,r){var a=t._milliseconds,i=t._days,o=t._months;r=null==r?!0:r,a&&e._d.setTime(+e._d+a*n),i&&ht(e,"Date",ft(e,"Date")+i*n),o&&mt(e,ft(e,"Month")+o*n),r&&wt.updateOffset(e,i||o)}function k(e){return"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function S(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(r=0;a>r;r++)(n&&e[r]!==t[r]||!n&&j(e[r])!==j(t[r]))&&o++;return o+i}function T(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=pn[e]||mn[t]||t}return e}function L(e){var t,r,a={};for(r in e)n(e,r)&&(t=T(r),t&&(a[t]=e[r]));return a}function C(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}wt[t]=function(a,i){var o,s,u=wt._locale[t],l=[];if("number"==typeof a&&(i=a,a=e),s=function(e){var t=wt().utc().set(r,e);return u.call(wt._locale,t,a||"")},null!=i)return s(i);for(o=0;n>o;o++)l.push(s(o));return l}}function j(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function x(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function D(e,t,n){return lt(wt([e,11,31+t-n]),t,n).week}function E(e){return A(e)?366:365}function A(e){return 0===e%4&&0!==e%100||0===e%400}function Y(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[xt]<0||e._a[xt]>11?xt:e._a[Dt]<1||e._a[Dt]>x(e._a[jt],e._a[xt])?Dt:e._a[Et]<0||e._a[Et]>24||24===e._a[Et]&&(0!==e._a[At]||0!==e._a[Yt]||0!==e._a[Pt])?Et:e._a[At]<0||e._a[At]>59?At:e._a[Yt]<0||e._a[Yt]>59?Yt:e._a[Pt]<0||e._a[Pt]>999?Pt:-1,e._pf._overflowDayOfYear&&(jt>t||t>Dt)&&(t=Dt),e._pf.overflow=t)}function P(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function $(e){return e?e.toLowerCase().replace("_","-"):e}function I(e){for(var t,n,r,a,i=0;i<e.length;){for(a=$(e[i]).split("-"),t=a.length,n=$(e[i+1]),n=n?n.split("-"):null;t>0;){if(r=O(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(a,n,!0)>=t-1)break;t--}i++}return null}function O(e){var t=null;if(!$t[e]&&Ot)try{t=wt.locale(),require("./locale/"+e),wt.locale(t)}catch(n){}return $t[e]}function U(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(wt.isMoment(e)||M(e)?+e:+wt(e))-+n,n._d.setTime(+n._d+r),wt.updateOffset(n,!1),n):wt(e).local()}function R(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(Nt);for(t=0,n=r.length;n>t;t++)r[t]=yn[r[t]]?yn[r[t]]:R(r[t]);return function(a){var i="";for(t=0;n>t;t++)i+=r[t]instanceof Function?r[t].call(a,e):r[t];return i}}function N(e,t){return e.isValid()?(t=F(t,e.localeData()),fn[t]||(fn[t]=B(t)),fn[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ft.lastIndex=0;r>=0&&Ft.test(e);)e=e.replace(Ft,n),Ft.lastIndex=0,r-=1;return e}function H(e,t){var n,r=t._strict;switch(e){case"Q":return Xt;case"DDDD":return tn;case"YYYY":case"GGGG":case"gggg":return r?nn:Gt;case"Y":case"G":case"g":return an;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?rn:zt;case"S":if(r)return Xt;case"SS":if(r)return en;case"SSS":if(r)return tn;case"DDD":return Wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Vt;case"a":case"A":return t._locale._meridiemParse;case"x":return Qt;case"X":return Zt;case"Z":case"ZZ":return Kt;case"T":return Jt;case"SSSS":return qt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?en:Ht;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ht;case"Do":return r?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Z(Q(e.replace("\\","")),"i"))}}function W(e){e=e||"";var t=e.match(Kt)||[],n=t[t.length-1]||[],r=(n+"").match(cn)||["-",0,0],a=+(60*r[1])+j(r[2]);return"+"===r[0]?a:-a}function G(e,t,n){var r,a=n._a;switch(e){case"Q":null!=t&&(a[xt]=3*(j(t)-1));break;case"M":case"MM":null!=t&&(a[xt]=j(t)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(t,e,n._strict),null!=r?a[xt]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[Dt]=j(t));break;case"Do":null!=t&&(a[Dt]=j(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=j(t));break;case"YY":a[jt]=wt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[jt]=j(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":a[Et]=j(t);break;case"m":case"mm":a[At]=j(t);break;case"s":case"ss":a[Yt]=j(t);break;case"S":case"SS":case"SSS":case"SSSS":a[Pt]=j(1e3*("0."+t));break;case"x":n._d=new Date(j(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=W(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=j(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=wt.parseTwoDigitYear(t)}}function z(e){var n,r,a,i,o,s,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,s=4,r=t(n.GG,e._a[jt],lt(wt(),1,4).year),a=t(n.W,1),i=t(n.E,1)):(o=e._locale._week.dow,s=e._locale._week.doy,r=t(n.gg,e._a[jt],lt(wt(),o,s).year),a=t(n.w,1),null!=n.d?(i=n.d,o>i&&++a):i=null!=n.e?n.e+o:o),u=ct(r,a,i,s,o),e._a[jt]=u.year,e._dayOfYear=u.dayOfYear}function q(e){var n,r,a,i,o=[];if(!e._d){for(a=K(e),e._w&&null==e._a[Dt]&&null==e._a[xt]&&z(e),e._dayOfYear&&(i=t(e._a[jt],a[jt]),e._dayOfYear>E(i)&&(e._pf._overflowDayOfYear=!0),r=it(i,0,e._dayOfYear),e._a[xt]=r.getUTCMonth(),e._a[Dt]=r.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=o[n]=a[n];for(;7>n;n++)e._a[n]=o[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Et]&&0===e._a[At]&&0===e._a[Yt]&&0===e._a[Pt]&&(e._nextDay=!0,e._a[Et]=0),e._d=(e._useUTC?it:at).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Et]=24)}}function V(e){var t;e._d||(t=L(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],q(e))}function K(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function J(t){if(t._f===wt.ISO_8601)return void et(t);t._a=[],t._pf.empty=!0;var n,r,a,i,o,s=""+t._i,u=s.length,l=0;for(a=F(t._f,t._locale).match(Nt)||[],n=0;n<a.length;n++)i=a[n],r=(s.match(H(i,t))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),l+=r.length),yn[i]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(i),G(i,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=u-l,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Et]<=12&&(t._pf.bigHour=e),t._a[Et]=c(t._locale,t._a[Et],t._meridiem),q(t),Y(t)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e){var t,n,a,i,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[i],J(t),P(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==a||a>o)&&(a=o,n=t));f(e,n||t)}function et(e){var t,n,r=e._i,a=on.exec(r);if(a){for(e._pf.iso=!0,t=0,n=un.length;n>t;t++)if(un[t][1].exec(r)){e._f=un[t][0]+(a[6]||" ");break}for(t=0,n=ln.length;n>t;t++)if(ln[t][1].exec(r)){e._f+=ln[t][0];break}r.match(Kt)&&(e._f+="Z"),J(e)}else e._isValid=!1}function tt(e){et(e),e._isValid===!1&&(delete e._isValid,wt.createFromInputFallback(e))}function nt(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function rt(t){var n,r=t._i;r===e?t._d=new Date:M(r)?t._d=new Date(+r):null!==(n=Ut.exec(r))?t._d=new Date(+n[1]):"string"==typeof r?tt(t):k(r)?(t._a=nt(r.slice(0),function(e){return parseInt(e,10)}),q(t)):"object"==typeof r?V(t):"number"==typeof r?t._d=new Date(r):wt.createFromInputFallback(t)}function at(e,t,n,r,a,i,o){var s=new Date(e,t,n,r,a,i,o);return 1970>e&&s.setFullYear(e),s}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ot(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function st(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function ut(e,t,n){var r=wt.duration(e).abs(),a=Lt(r.as("s")),i=Lt(r.as("m")),o=Lt(r.as("h")),s=Lt(r.as("d")),u=Lt(r.as("M")),l=Lt(r.as("y")),c=a<hn.s&&["s",a]||1===i&&["m"]||i<hn.m&&["mm",i]||1===o&&["h"]||o<hn.h&&["hh",o]||1===s&&["d"]||s<hn.d&&["dd",s]||1===u&&["M"]||u<hn.M&&["MM",u]||1===l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,st.apply({},c)}function lt(e,t,n){var r,a=n-t,i=n-e.day();return i>a&&(i-=7),a-7>i&&(i+=7),r=wt(e).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ct(e,t,n,r,a){var i,o,s=it(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:a,i=a-s+(s>r?7:0)-(a>s?7:0),o=7*(t-1)+(n-a)+i+1,{year:o>0?e:e-1,dayOfYear:o>0?o:E(e-1)+o}}function dt(t){var n,r=t._i,a=t._f;return t._locale=t._locale||wt.localeData(t._l),null===r||a===e&&""===r?wt.invalid({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),wt.isMoment(r)?new p(r,!0):(a?k(a)?X(t):J(t):rt(t),n=new p(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function pt(e,t){var n,r;if(1===t.length&&k(t[0])&&(t=t[0]),!t.length)return wt();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function mt(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),x(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ft(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ht(e,t,n){return"Month"===t?mt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function gt(e,t){return function(n){return null!=n?(ht(this,e,n),wt.updateOffset(this,t),this):ft(this,e)}}function vt(e){return 400*e/146097}function yt(e){return 146097*e/400}function _t(e){wt.duration.fn[e]=function(){return this._data[e]}}function bt(e){"undefined"==typeof ender&&(kt=Tt.moment,Tt.moment=e?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):wt)}for(var wt,kt,Mt,St="2.9.0",Tt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Lt=Math.round,Ct=Object.prototype.hasOwnProperty,jt=0,xt=1,Dt=2,Et=3,At=4,Yt=5,Pt=6,$t={},It=[],Ot="undefined"!=typeof module&&module&&module.exports,Ut=/^\/?Date\((\-?\d+)/i,Rt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Bt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ft=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ht=/\d\d?/,Wt=/\d{1,3}/,Gt=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,qt=/\d+/,Vt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kt=/Z|[\+\-]\d\d:?\d\d/gi,Jt=/T/i,Qt=/[\+\-]?\d+/,Zt=/[\+\-]?\d+(\.\d{1,3})?/,Xt=/\d/,en=/\d\d/,tn=/\d{3}/,nn=/\d{4}/,rn=/[+-]?\d{6}/,an=/[+-]?\d+/,on=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sn="YYYY-MM-DDTHH:mm:ssZ",un=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ln=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],cn=/([\+\-]|\d\d)/gi,dn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),pn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fn={},hn={s:45,m:45,h:22,d:26,M:11},gn="DDD w W M D d".split(" "),vn="M D H h m s w W".split(" "),yn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return j(this.milliseconds()/100)},SS:function(){return v(j(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(j(e/60),2)+":"+v(j(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(j(e/60),2)+v(j(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},_n={},bn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],wn=!1;gn.length;)Mt=gn.pop(),yn[Mt+"o"]=u(yn[Mt],Mt);for(;vn.length;)Mt=vn.pop(),yn[Mt+Mt]=s(yn[Mt],2);yn.DDDD=s(yn.DDD,3),f(d.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var r,a,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(a=wt.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=wt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.apply(t,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,r):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return lt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),wt=function(t,n,a,i){var o;return"boolean"==typeof a&&(i=a,a=e),o={},o._isAMomentObject=!0,o._i=t,o._f=n,o._l=a,o._strict=i,o._isUTC=!1,o._pf=r(),dt(o)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),wt.min=function(){var e=[].slice.call(arguments,0);return pt("isBefore",e)},wt.max=function(){var e=[].slice.call(arguments,0);return pt("isAfter",e)},wt.utc=function(t,n,a,i){var o;return"boolean"==typeof a&&(i=a,a=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=a,o._i=t,o._f=n,o._strict=i,o._pf=r(),dt(o).utc()},wt.unix=function(e){return wt(1e3*e)},wt.duration=function(e,t){var r,a,i,o,s=e,u=null;return wt.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(u=Rt.exec(e))?(r="-"===u[1]?-1:1,s={y:0,d:j(u[Dt])*r,h:j(u[Et])*r,m:j(u[At])*r,s:j(u[Yt])*r,ms:j(u[Pt])*r}):(u=Bt.exec(e))?(r="-"===u[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*r},s={y:i(u[2]),M:i(u[3]),d:i(u[4]),h:i(u[5]),m:i(u[6]),s:i(u[7]),w:i(u[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=_(wt(s.from),wt(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),a=new m(s),wt.isDuration(e)&&n(e,"_locale")&&(a._locale=e._locale),a},wt.version=St,wt.defaultFormat=sn,wt.ISO_8601=function(){},wt.momentProperties=It,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(t,n){return hn[t]===e?!1:n===e?hn[t]:(hn[t]=n,!0)},wt.lang=i("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return wt.locale(e,t)}),wt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?wt.defineLocale(e,t):wt.localeData(e),n&&(wt.duration._locale=wt._locale=n)),wt._locale._abbr},wt.defineLocale=function(e,t){return null!==t?(t.abbr=e,$t[e]||($t[e]=new d),$t[e].set(t),wt.locale(e),$t[e]):(delete $t[e],null)},wt.langData=i("moment.langData is deprecated. Use moment.localeData instead.",function(e){return wt.localeData(e)}),wt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wt._locale;if(!k(e)){if(t=O(e))return t;e=[e]}return I(e)},wt.isMoment=function(e){return e instanceof p||null!=e&&n(e,"_isAMomentObject")},wt.isDuration=function(e){return e instanceof m};for(Mt=bn.length-1;Mt>=0;--Mt)C(bn[Mt]);wt.normalizeUnits=function(e){return T(e)},wt.invalid=function(e){var t=wt.utc(0/0);return null!=e?f(t._pf,e):t._pf.userInvalidated=!0,t},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(e){return j(e)+(j(e)>68?1900:2e3)},wt.isDate=M,f(wt.fn=p.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=wt(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return P(this)},isDSTShifted:function(){return this._a?this.isValid()&&S(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=N(this,e||wt.defaultFormat);return this.localeData().postformat(t)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(e,t,n){var r,a,i=U(e,this),o=6e4*(i.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(a=l(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-i,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?a:g(a)},from:function(e,t){return wt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(wt(),e)},calendar:function(e){var t=e||wt(),n=U(t,this).startOf("day"),r=this.diff(n,"days",!0),a=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,wt(t)))},isLeapYear:function(){return A(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ot(e,this.localeData()),this.add(e-t,"d")):t},month:gt("Month",!0),startOf:function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=T(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=wt.isMoment(e)?e:wt(e),+this>+e):(n=wt.isMoment(e)?+e:+wt(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=wt.isMoment(e)?e:wt(e),+e>+this):(n=wt.isMoment(e)?+e:+wt(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)
},isSame:function(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=wt.isMoment(e)?e:wt(e),+this===+e):(n=+wt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=wt.apply(null,arguments),this>e?this:e}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=wt.apply(null,arguments),e>this?this:e}),zone:i("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,r=this._offset||0;return null!=e?("string"==typeof e&&(e=W(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?w(this,wt.duration(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(W(this._i)),this},hasAlignedHourOffset:function(e){return e=e?wt(e).utcOffset():0,0===(this.utcOffset()-e)%60},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(e){var t=Lt((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=lt(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=lt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return D(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return D(this.year(),e.dow,e.doy)},get:function(e){return e=T(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=T(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=wt.localeData(t),null!=n&&(this._locale=n),this)},lang:i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=gt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=gt("Seconds",!1),wt.fn.minute=wt.fn.minutes=gt("Minutes",!1),wt.fn.hour=wt.fn.hours=gt("Hours",!0),wt.fn.date=gt("Date",!0),wt.fn.dates=i("dates accessor is deprecated. Use date instead.",gt("Date",!0)),wt.fn.year=gt("FullYear",!0),wt.fn.years=i("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,wt.fn.isUTC=wt.fn.isUtc,f(wt.duration.fn=m.prototype,{_bubble:function(){var e,t,n,r=this._milliseconds,a=this._days,i=this._months,o=this._data,s=0;o.milliseconds=r%1e3,e=g(r/1e3),o.seconds=e%60,t=g(e/60),o.minutes=t%60,n=g(t/60),o.hours=n%24,a+=g(n/24),s=g(vt(a)),a-=g(yt(s)),i+=g(a/30),a%=30,s+=g(i/12),i%=12,o.days=a,o.months=i,o.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*j(this._months/12)},humanize:function(e){var t=ut(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=wt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=wt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=T(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=T(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*vt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(yt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 60*24*t+this._milliseconds/6e4;case"second":return 60*60*24*t+this._milliseconds/1e3;case"millisecond":return Math.floor(1e3*60*60*24*t)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||a||i?"T":"")+(r?r+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),wt.duration.fn.toString=wt.duration.fn.toISOString;for(Mt in dn)n(dn,Mt)&&_t(Mt.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===j(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),function(e){e(wt)}(function(e){return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return 12>e?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(e){e(wt)}(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(e){e(wt)}(function(e){return e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},a={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,n){var i=r(t),o=a[e][r(t)];return 2===i&&(o=o[n?0:1]),o.replace(/%d/i,t)}},o=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];return e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(e){e(wt)}(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e){return 4>e?"gecə":12>e?"səhər":17>e?"gündüz":"axşam"},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,r=e%100-n,a=e>=100?100:null;return e+(t[n]||t[r]||t[a])},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var a={mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===r?n?"хвіліна":"хвіліну":"h"===r?n?"гадзіна":"гадзіну":e+" "+t(a[r],+e)}function r(e,t){var n={nominative:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_"),accusative:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function a(e,t){var n={nominative:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),accusative:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_")},r=/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.defineLocale("be",{months:r,monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:a,weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e){return 4>e?"ночы":12>e?"раніцы":17>e?"дня":"вечара"},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return 2!==e%10&&3!==e%10||12===e%100||13===e%100?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&20>n?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return e.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|শকাল|দুপুর|বিকেল|রাত/,isPM:function(e){return/^(দুপুর|বিকেল|রাত)$/.test(e)},meridiem:function(e){return 4>e?"রাত":10>e?"শকাল":17>e?"দুপুর":20>e?"বিকেল":"রাত"},week:{dow:0,doy:6}})}),function(e){e(wt)}(function(e){var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,isPM:function(e){return/^(ཉིན་གུང|དགོང་དག|མཚན་མོ)$/.test(e)},meridiem:function(e){return 4>e?"མཚན་མོ":10>e?"ཞོགས་ཀས":17>e?"ཉིན་གུང":20>e?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}),function(e){e(wt)}(function(t){function n(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(r[n],e)}function r(e){switch(a(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function a(e){return e>9?a(e%10):e}function i(e,t){return 2===t?o(e):e}function o(t){var n={m:"v",b:"v",d:"z"};return n[t.charAt(0)]===e?t:n[t.charAt(0)]+t.substring(1)}return t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:n,h:"un eur",hh:"%d eur",d:"un devezh",dd:n,M:"ur miz",MM:n,y:"ur bloaz",yy:r},ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e){return e>1&&5>e&&1!==~~(e/10)}function n(e,n,r,a){var i=e+" ";switch(r){case"s":return n||a?"pár sekund":"pár sekundami";case"m":return n?"minuta":a?"minutu":"minutou";case"mm":return n||a?i+(t(e)?"minuty":"minut"):i+"minutami";case"h":return n?"hodina":a?"hodinu":"hodinou";case"hh":return n||a?i+(t(e)?"hodiny":"hodin"):i+"hodinami";case"d":return n||a?"den":"dnem";case"dd":return n||a?i+(t(e)?"dny":"dní"):i+"dny";case"M":return n||a?"měsíc":"měsícem";case"MM":return n||a?i+(t(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return n||a?"rok":"rokem";case"yy":return n||a?i+(t(e)?"roky":"let"):i+"lety"}}var r="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),a="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return e.defineLocale("cs",{months:r,monthsShort:a,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,a),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/çул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinalParse:/\d{1,2}-мĕш/,ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}return e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}return e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})
}),function(e){e(wt)}(function(e){return e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return"function"==typeof n&&(n=n.apply(t)),n.replace("{}",1===r%12?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}),function(e){e(wt)}(function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n,r){var a={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?a[n][2]?a[n][2]:a[n][1]:r?a[n][0]:a[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e){return 12>e?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}),function(e){e(wt)}(function(e){function t(e,t,r,a){var i="";switch(r){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"m":return a?"minuutin":"minuutti";case"mm":i=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":i=a?"tunnin":"tuntia";break;case"d":return a?"päivän":"päivä";case"dd":i=a?"päivän":"päivää";break;case"M":return a?"kuukauden":"kuukausi";case"MM":i=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":i=a?"vuoden":"vuotta"}return i=n(e,a)+" "+i}function n(e,t){return 10>e?t?a[e]:r[e]:e}var r="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),a=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",r[7],r[8],r[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}})}),function(e){e(wt)}(function(e){return e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":0===e%10&&10!==e?e+" שנה":e+" שנים"}}})}),function(e){e(wt)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?4>e?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){function t(e,t,n,r){var a=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return a+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return a+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return a+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return a+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return a+(r||t?" év":" éve")}return""}function n(e){return(e?"":"[múlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return 12>e?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){function t(e,t){var n={nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e){var t="հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_");return t[e.month()]}function r(e){var t="կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_");return t[e.day()]}return e.defineLocale("hy-am",{months:t,monthsShort:n,weekdays:r,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return 4>e?"գիշերվա":12>e?"առավոտվա":17>e?"ցերեկվա":"երեկոյան"},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){function t(e){return 11===e%100?!0:1===e%10?!1:!0}function n(e,n,r,a){var i=e+" ";switch(r){case"s":return n||a?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?i+(n||a?"mínútur":"mínútum"):n?i+"mínúta":i+"mínútu";case"hh":return t(e)?i+(n||a?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return n?"dagur":a?"dag":"degi";case"dd":return t(e)?n?i+"dagar":i+(a?"daga":"dögum"):n?i+"dagur":i+(a?"dag":"degi");case"M":return n?"mánuður":a?"mánuð":"mánuði";case"MM":return t(e)?n?i+"mánuðir":i+(a?"mánuði":"mánuðum"):n?i+"mánuður":i+(a?"mánuð":"mánuði");case"y":return n||a?"ár":"ári";case"yy":return t(e)?i+(n||a?"ár":"árum"):i+(n||a?"ár":"ári")}}return e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"LTs秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(e){e(wt)}(function(e){function t(e,t){var n={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},r=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},r=/(წინა|შემდეგ)/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.defineLocale("ka",{months:t,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:n,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&0===e%20||0===e%100?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})
}),function(e){e(wt)}(function(e){return e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e){return 12>e?"오전":"오후"}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return a(t)?"a "+e:"an "+e}function r(e){var t=e.substr(0,e.indexOf(" "));return a(t)?"viru "+e:"virun "+e}function a(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e?!0:!1;if(100>e){var t=e%10,n=e/10;return a(0===t?n:t)}if(1e4>e){for(;e>=10;)e/=10;return a(e)}return e/=1e3,a(e)}return e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function n(e,t,n,r){return t?a(n)[0]:r?a(n)[1]:a(n)[2]}function r(e){return 0===e%10||e>10&&20>e}function a(e){return s[e].split("_")}function i(e,t,i,o){var s=e+" ";return 1===e?s+n(e,t,i[0],o):t?s+(r(e)?a(i)[1]:a(i)[0]):o?s+a(i)[1]:s+(r(e)?a(i)[1]:a(i)[2])}function o(e,t){var n=-1===t.indexOf("dddd HH:mm"),r=u[e.day()];return n?r:r.substring(0,r.length-2)+"į"}var s={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},u="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");return e.defineLocale("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:o,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:t,m:n,mm:i,h:n,hh:i,d:n,dd:i,M:n,MM:i,y:n,yy:i},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r=e.split("_");return n?1===t%10&&11!==t?r[2]:r[3]:1===t%10&&11!==t?r[0]:r[1]}function n(e,n,a){return e+" "+t(r[a],e,n)}var r={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mēnesi",MM:n,y:"gadu",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&20>n?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,isPM:function(e){return/^(ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി)$/.test(e)},meridiem:function(e){return 4>e?"രാത്രി":12>e?"രാവിലെ":17>e?"ഉച്ച കഴിഞ്ഞ്":20>e?"വൈകുന്നേരം":"രാത്രി"}})}),function(e){e(wt)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?4>e?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e){return 4>e?"रात्री":10>e?"सकाळी":17>e?"दुपारी":20>e?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(e){e(wt)}(function(e){return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_င်္ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tirs_ons_tors_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राती|बिहान|दिउँसो|बेलुका|साँझ|राती/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?3>e?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"बेलुका"===t||"साँझ"===t?e+12:void 0},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e){return 5>e%10&&e%10>1&&1!==~~(e/10)%10}function n(e,n,r){var a=e+" ";switch(r){case"m":return n?"minuta":"minutę";case"mm":return a+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return a+(t(e)?"godziny":"godzin");case"MM":return a+(t(e)?"miesiące":"miesięcy");case"yy":return a+(t(e)?"lata":"lat")}}var r="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),a="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?a[e.month()]:r[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"})}),function(e){e(wt)}(function(e){return e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";return(e%100>=20||e>=100&&0===e%100)&&(a=" de "),e+a+r[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var a={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===r?n?"минута":"минуту":e+" "+t(a[r],+e)}function r(e,t){var n={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function a(e,t){var n={nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},r=/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.defineLocale("ru",{months:r,monthsShort:a,weekdays:i,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e){return 4>e?"ночи":12>e?"утра":17>e?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){function t(e){return e>1&&5>e}function n(e,n,r,a){var i=e+" ";switch(r){case"s":return n||a?"pár sekúnd":"pár sekundami";case"m":return n?"minúta":a?"minútu":"minútou";case"mm":return n||a?i+(t(e)?"minúty":"minút"):i+"minútami";case"h":return n?"hodina":a?"hodinu":"hodinou";case"hh":return n||a?i+(t(e)?"hodiny":"hodín"):i+"hodinami";case"d":return n||a?"deň":"dňom";case"dd":return n||a?i+(t(e)?"dni":"dní"):i+"dňami";case"M":return n||a?"mesiac":"mesiacom";case"MM":return n||a?i+(t(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return n||a?"rok":"rokom";case"yy":return n||a?i+(t(e)?"roky":"rokov"):i+"rokmi"}}var r="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),a="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:r,monthsShort:a,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,a),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return r+=1===e?"dan":"dni";case"MM":return r+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return r+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,r){var a=t.words[r];return 1===r.length?n?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var e=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,r){var a=t.words[r];return 1===r.length?n?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";
return e+n},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e){return 2>e?" யாமம்":6>e?" வைகறை":10>e?" காலை":14>e?" நண்பகல்":18>e?" எற்பாடு":22>e?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?2>e?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}),function(e){e(wt)}(function(e){return e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"LT s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(e){e(wt)}(function(e){return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,r=e%100-n,a=e>=100?100:null;return e+(t[n]||t[r]||t[a])},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(e){e(wt)}(function(e){return e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(e){e(wt)}(function(e){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var a={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===r?n?"хвилина":"хвилину":"h"===r?n?"година":"годину":e+" "+t(a[r],+e)}function r(e,t){var n={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function a(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},r=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]}function i(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}return e.defineLocale("uk",{months:r,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:a,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e){return 4>e?"ночі":12>e?"ранку":17>e?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(e){e(wt)}(function(e){return e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t){var n=100*e+t;return 600>n?"凌晨":900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(e){e(wt)}(function(e){return e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t){var n=100*e+t;return 900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),wt.locale("en"),Ot?module.exports=wt:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Tt.moment=kt),wt}),bt(!0)):bt()}.call(this),/*!
 * angular-translate - v2.8.1 - 2015-10-01
 * 
 * Copyright (c) 2015 The angular-translate team, Pascal Precht; Licensed MIT
 */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,r=!1,a=!1;t={sanitize:function(e,t){return"text"===t&&(e=o(e)),e},escape:function(e,t){return"text"===t&&(e=i(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,i)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return r=!0,n=e,this},this.$get=["$injector","$log",function(i,o){var s={},u=function(e,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,n);else if(angular.isFunction(t[r]))e=t[r](e,n);else{if(!angular.isString(t[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[t[r]])try{s[t[r]]=i.get(t[r])}catch(a){throw s[t[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=s[t[r]](e,n)}}),e},l=function(){r||a||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return i.has("$sanitize")&&(e=i.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,r){if(n||l(),arguments.length<3&&(r=n),!r)return e;var a=angular.isArray(r)?r:[r];return u(e,t,a)}}}];var i=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},o=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t){if(angular.isObject(e)){var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,r){n[r]=s(e,t)}),n}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,r){"use strict";var a,i,o,s,u,l,c,d,p,m,f,h,g,v,y,_={},b=[],w=e,k=[],M="translate-cloak",S=!1,T=!1,L=".",C=!1,j=0,x=!0,D="default",E={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},A="2.8.1",Y=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,a=t.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(a.languages))for(e=0;e<a.languages.length;e++)if(n=a.languages[e],n&&n.length)return n;for(e=0;e<i.length;e++)if(n=a[i[e]],n&&n.length)return n;return null};Y.displayName="angular-translate/service: getFirstBrowserLanguage";var P=function(){var e=Y()||"";return E[D]&&(e=E[D](e)),e};P.displayName="angular-translate/service: getLocale";var $=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},I=function(){return this.toString().replace(/^\s+|\s+$/g,"")},O=function(e){for(var t=[],n=angular.lowercase(e),r=0,a=b.length;a>r;r++)t.push(angular.lowercase(b[r]));if($(t,n)>-1)return e;if(i){var o;for(var s in i){var u=!1,l=Object.prototype.hasOwnProperty.call(i,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(u=s.slice(0,-1)===e.slice(0,s.length-1)),(l||u)&&(o=i[s],$(t,angular.lowercase(o))>-1))return o}}if(e){var c=e.split("_");if(c.length>1&&$(t,angular.lowercase(c[0]))>-1)return c[0]}return e},U=function(e,t){if(!e&&!t)return _;if(e&&!t){if(angular.isString(e))return _[e]}else angular.isObject(_[e])||(_[e]={}),angular.extend(_[e],R(t));return this};this.translations=U,this.cloakClassName=function(e){return e?(M=e,this):M},this.nestedObjectDelimeter=function(e){return e?(L=e,this):L};var R=function(e,t,n,r){var a,i,o,s;t||(t=[]),n||(n={});for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s=e[a],angular.isObject(s)?R(s,t.concat(a),n,a):(i=t.length?""+t.join(L)+L+a:a,t.length&&a===r&&(o=""+t.join(L),n[o]="@:"+i),n[i]=s));return n};R.displayName="flatObject",this.addInterpolation=function(e){return k.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return m=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):a};var B=function(e){return e&&(a=e),a};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return N(e),this};var N=function(e){return e?(angular.isString(e)?(s=!0,o=[e]):angular.isArray(e)&&(s=!1,o=e),angular.isString(a)&&$(o,a)<0&&o.push(a),this):s?o[0]:o};this.use=function(e){if(e){if(!_[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return u=e,this}return u};var F=function(e){return e?(w=e,this):d?d+w:w};this.storageKey=F,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,h=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return S=!!e,this},this.forceAsyncReload=function(e){return T=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},D=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():P();return a=b.length?O(t):t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(b=e,t&&(i=t),this):b},this.useLoaderCache=function(e){return e===!1?y=void 0:e===!0?y=!0:"undefined"==typeof e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?j:(j=e,this)},this.statefulFilter=function(e){return void 0===e?x:(x=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var i,d,b,D=t.get(m||"$translateDefaultInterpolation"),E=!1,Y={},P={},H=function(e,t,n,s){if(angular.isArray(e)){var l=function(e){for(var a={},i=[],o=function(e){var i=r.defer(),o=function(t){a[e]=t,i.resolve([e,t])};return H(e,t,n,s).then(o,o),i.promise},u=0,l=e.length;l>u;u++)i.push(o(e[u]));return r.all(i).then(function(){return a})};return l(e)}var p=r.defer();e&&(e=I.apply(e));var m=function(){var e=a?P[a]:P[u];if(d=0,c&&!e){var t=i.get(w);if(e=P[t],o&&o.length){var n=$(o,t);d=0===n?1:0,$(o,a)<0&&o.push(a)}}return e}();if(m){var f=function(){nt(e,t,n,s).then(p.resolve,p.reject)};f.displayName="promiseResolved",m["finally"](f,p.reject)}else nt(e,t,n,s).then(p.resolve,p.reject);return p.promise},W=function(e){return g&&(e=[g,e].join(" ")),v&&(e=[e,v].join(" ")),e},G=function(e){u=e,c&&i.put(H.storageKey(),u),n.$emit("$translateChangeSuccess",{language:e}),D.setLocale(u);var t=function(e,t){Y[t].setLocale(u)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(Y,t),n.$emit("$translateChangeEnd",{language:e})},z=function(e){if(!e)throw"No language key specified for loading.";var a=r.defer();n.$emit("$translateLoadingStart",{language:e}),E=!0;var i=y;"string"==typeof i&&(i=t.get(i));var o=angular.extend({},h,{key:e,$http:angular.extend({},{cache:i},h.$http)}),s=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,R(e))}):angular.extend(r,R(t)),E=!1,a.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var u=function(e){n.$emit("$translateLoadingError",{language:e}),a.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return u.displayName="onLoaderError",t.get(f)(o).then(s,u),a.promise};if(c&&(i=t.get(c),!i.get||!i.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(k.length){var q=function(e){var n=t.get(e);n.setLocale(a||u),Y[n.getInterpolationIdentifier()]=n};q.displayName="interpolationFactoryAdder",angular.forEach(k,q)}var V=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(_,e))t.resolve(_[e]);else if(P[e]){var n=function(e){U(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",P[e].then(n,t.reject)}else t.reject();return t.promise},K=function(e,t,n,a){var i=r.defer(),o=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){a.setLocale(e);var o=r[t];"@:"===o.substr(0,2)?K(e,o.substr(2),n,a).then(i.resolve,i.reject):i.resolve(a.interpolate(r[t],n)),a.setLocale(u)}else i.reject()};return o.displayName="fallbackTranslationResolver",V(e).then(o,i.reject),i.promise},J=function(e,t,n,r){var a,i=_[e];if(i&&Object.prototype.hasOwnProperty.call(i,t)){if(r.setLocale(e),a=r.interpolate(i[t],n),"@:"===a.substr(0,2))return J(e,a.substr(2),n,r);r.setLocale(u)}return a},Q=function(e,n){if(p){var r=t.get(p)(e,u,n);return void 0!==r?r:e}return e},Z=function(e,t,n,a,i){var s=r.defer();if(e<o.length){var u=o[e];K(u,t,n,a).then(s.resolve,function(){Z(e+1,t,n,a,i).then(s.resolve)})}else i?s.resolve(i):s.resolve(Q(t,n));return s.promise},X=function(e,t,n,r){var a;if(e<o.length){var i=o[e];a=J(i,t,n,r),a||(a=X(e+1,t,n,r))}return a},et=function(e,t,n,r){return Z(b>0?b:d,e,t,n,r)},tt=function(e,t,n){return X(b>0?b:d,e,t,n)},nt=function(e,t,n,a){var i=r.defer(),s=u?_[u]:_,l=n?Y[n]:D;if(s&&Object.prototype.hasOwnProperty.call(s,e)){var c=s[e];"@:"===c.substr(0,2)?H(c.substr(2),t,n,a).then(i.resolve,i.reject):i.resolve(l.interpolate(c,t))}else{var d;p&&!E&&(d=Q(e,t)),u&&o&&o.length?et(e,t,l,a).then(function(e){i.resolve(e)},function(e){i.reject(W(e))}):p&&!E&&d?a?i.resolve(a):i.resolve(d):a?i.resolve(a):i.reject(W(e))}return i.promise},rt=function(e,t,n){var r,a=u?_[u]:_,i=D;if(Y&&Object.prototype.hasOwnProperty.call(Y,n)&&(i=Y[n]),a&&Object.prototype.hasOwnProperty.call(a,e)){var s=a[e];r="@:"===s.substr(0,2)?rt(s.substr(2),t,n):i.interpolate(s,t)}else{var l;p&&!E&&(l=Q(e,t)),u&&o&&o.length?(d=0,r=tt(e,t,i)):r=p&&!E&&l?l:W(e)}return r},at=function(e){l===e&&(l=void 0),P[e]=void 0};H.preferredLanguage=function(e){return e&&B(e),a},H.cloakClassName=function(){return M},H.nestedObjectDelimeter=function(){return L},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(N(e),f&&o&&o.length)for(var t=0,n=o.length;n>t;t++)P[o[t]]||(P[o[t]]=z(o[t]));H.use(H.use())}return s?o[0]:o},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=$(o,e);t>-1&&(b=t)}else b=0},H.proposedLanguage=function(){return l},H.storage=function(){return i},H.use=function(e){if(!e)return u;var t=r.defer();n.$emit("$translateChangeStart",{language:e});var a=O(e);return a&&(e=a),!T&&_[e]||!f||P[e]?l===e&&P[e]?P[e].then(function(e){return t.resolve(e.key),e},function(e){return t.reject(e),r.reject(e)}):(t.resolve(e),G(e)):(l=e,P[e]=z(e).then(function(n){return U(n.key,n.table),t.resolve(n.key),l===e&&G(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),P[e]["finally"](function(){at(e)})),t.promise},H.storageKey=function(){return F()},H.isPostCompilingEnabled=function(){return S},H.isForceAsyncReloadEnabled=function(){return T},H.refresh=function(e){function t(){i.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function a(){i.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var i=r.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(_[e]){var s=function(n){U(n.key,n.table),e===u&&G(u),t()};s.displayName="refreshPostProcessor",z(e).then(s,a)}else a();else{var l=[],c={};if(o&&o.length)for(var d=0,p=o.length;p>d;d++)l.push(z(o[d])),c[o[d]]=!0;u&&!c[u]&&l.push(z(u));var m=function(e){_={},angular.forEach(e,function(e){U(e.key,e.table)}),u&&G(u),t()};m.displayName="refreshPostProcessor",r.all(l).then(m,a)}return i.promise},H.instant=function(e,t,n){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},i=0,s=e.length;s>i;i++)r[e[i]]=H.instant(e[i],t,n);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=I.apply(e));var l,c=[];a&&c.push(a),u&&c.push(u),o&&o.length&&(c=c.concat(o));for(var d=0,m=c.length;m>d;d++){var f=c[d];if(_[f]&&("undefined"!=typeof _[f][e]?l=rt(e,t,n):(g||v)&&(l=W(e))),"undefined"!=typeof l)break}return l||""===l||(l=D.interpolate(e,t),p&&!E&&(l=Q(e,t))),l},H.versionInfo=function(){return A},H.loaderCache=function(){return y},H.directivePriority=function(){return j},H.statefulFilter=function(){return x},H.isReady=function(){return C};var it=r.defer();it.promise.then(function(){C=!0}),H.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),C?t.resolve():it.promise.then(t.resolve),t.promise};var ot=n.$on("$translateReady",function(){it.resolve(),ot(),ot=null}),st=n.$on("$translateChangeEnd",function(){it.resolve(),st(),st=null});if(f){if(angular.equals(_,{})&&H.use()&&H.use(H.use()),o&&o.length)for(var ut=function(e){return U(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},lt=0,ct=o.length;ct>lt;lt++){var dt=o[lt];(T||!_[dt])&&(P[dt]=z(dt).then(ut))}}else n.$emit("$translateReady",{language:H.use()});return H}]}function r(e,t){"use strict";var n,r={},a="default";return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return a},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r){r=r||{},r=t.sanitize(r,"params");var a=e(n)(r);return a=t.sanitize(a,"text")},r}function a(e,t,n,r,a,o){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,u){var l=u.translateValues?u.translateValues:void 0,c=u.translateInterpolation?u.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",m="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,f,h){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=i(t);var g={},v=function(e,n,r){if(n.translateValues&&angular.extend(e,a(n.translateValues)(t.$parent)),d)for(var i in r)if(Object.prototype.hasOwnProperty.call(n,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var o=angular.lowercase(i.substr(14,1))+i.substr(15);e[o]=r[i]}},y=function(e){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var r=s.apply(f.text()),a=r.match(p);if(angular.isArray(a)){t.preText=a[1],t.postText=a[3],g.translate=n(a[2])(t.$parent);var i=r.match(m);angular.isArray(i)&&i[2]&&i[2].length&&(y._unwatchOld=t.$watch(i[2],function(e){g.translate=e,S()}))}else g.translate=r}else g.translate=e;S()},_=function(e){h.$observe(e,function(t){g[e]=t,S()})};v(t.interpolateParams,h,u);var b=!0;h.$observe("translate",function(e){"undefined"==typeof e?y(""):""===e&&b||(g.translate=e,S()),b=!1});for(var w in h)h.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&_(w);if(h.$observe("translateDefault",function(e){t.defaultText=e}),l&&h.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,a(e)(t.$parent))})}),d){var k=function(e){h.$observe(e,function(n){var r=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[r]=n})};for(var M in h)Object.prototype.hasOwnProperty.call(h,M)&&"translateValue"===M.substr(0,14)&&"translateValues"!==M&&k(M)}var S=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&T(e,g[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},T=function(t,n,r,a,i,o){n?(o&&"."===n.charAt(0)&&(n=o+n),e(n,a,c,i).then(function(e){L(e,r,!0,t)},function(e){L(e,r,!1,t)})):L(n,r,!1,t)},L=function(t,n,a,i){if("translate"===i){a||"undefined"==typeof n.defaultText||(t=n.defaultText),f.empty().append(n.preText+t+n.postText);var o=e.isPostCompilingEnabled(),s="undefined"!=typeof u.translateCompile,l=s&&"false"!==u.translateCompile;(o&&!s||l)&&r(f.contents())(n)}else{a||"undefined"==typeof n.defaultText||(t=n.defaultText);var c=h.$attr[i];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),f.attr(c,t)}};(l||d||h.translateDefault)&&t.$watch("interpolateParams",S,!0);var C=o.$on("$translateChangeSuccess",S);f.text().length?y(h.translate?h.translate:""):h.translate&&y(h.translate),S(),t.$on("$destroy",C)}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function o(e){"use strict";return{compile:function(t){var n=function(){t.addClass(e.cloakClassName())},r=function(){t.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),n(),function(t,a,i){i.translateCloak&&i.translateCloak.length&&i.$observe("translateCloak",function(t){e(t).then(r,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=i(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function u(e,t){"use strict";var n=function(n,r,a){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function l(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",a),a.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],a.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",u),u.$inject=["$parse","$translate"],u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",l),l.$inject=["$cacheFactory"],l.displayName="$translationCache","pascalprecht.translate"}),/*!
 * angular-translate - v2.8.1 - 2015-10-01
 * 
 * Copyright (c) 2015 The angular-translate team, Pascal Precht; Licensed MIT
 */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return t(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},a=e.defer(),i=[],o=n.files.length,s=0;o>s;s++)i.push(r({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return e.all(i).then(function(e){for(var t=e.length,n={},r=0;t>r;r++)for(var i in e[r])n[i]=e[r][i];a.resolve(n)},function(e){a.reject(e)}),a.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.$inject=["$q","$http"],e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),angular.module("groupme",["ngRoute","ngSanitize","pasvaz.bindonce","pascalprecht.translate"]),angular.module("groupme").config(["$compileProvider","$provide","$httpProvider","$translateProvider","Translations",function(e,t,n,r,a){window.GM&&"production"===window.GM.env&&e.debugInfoEnabled(!1),r.translations(a.lang,a.translations),r.preferredLanguage(a.lang),r.useSanitizeValueStrategy(null),r.useInterpolation("gmInterpolateTranslation");var i=/^\s*(https?|groupme4?|ftp|mailto|chrome-extension):/;e.aHrefSanitizationWhitelist(i),t.factory("AssetInterceptor",["GMAssets",function(e){return{request:function(t){return!/^\//.test(t.url)||/^\/image_content\//.test(t.url)||/^\/curated-media$/.test(t.url)||(t.url=e.url+t.url+"?version="+e.version),t}}}]),n.interceptors.push("AssetInterceptor")}]),window.GM=window.GM||{},angular.module("groupme").run(["app",function(e){e.init()}]),Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,n)},Array.prototype.reject=Array.prototype.reject||function(e){var t=this;angular.forEach(this,function(n,r){e(n)&&t.splice(r,1)})},Array.prototype.removeInPlace=Array.prototype.reject,Array.prototype.map=Array.prototype.map||function(e){var t=[];return angular.forEach(this,function(n){t.push(e(n))}),t},Array.prototype.find=function(e){var t=null;return angular.forEach(this,function(n){e(n)&&(t=n)}),t},Array.prototype.isArray=!0,angular.module("groupme").factory("$exceptionHandler",function(){return function(e,t){"undefined"!=typeof Bugsnag&&Bugsnag.notifyException(e,{diagnostics:{cause:t}})}}),window.console=window.console||{},window.console.error||(window.console.error=function(){}),window.console.warn||(window.console.warn=function(){}),window.console.log||(window.console.log=function(){}),window.console.debug||(window.console.debug=function(){}),function(){window.GM.corsUnsupported=window.navigator.userAgent.match(/android/i);var e=function(){angular.module("groupme").config(["$provide",function(e){e.decorator("$httpBackend",["$delegate",function(e){var t=window.cors_shim.angular.injector(["ng"]).get("$httpBackend"),n=function(){var n=arguments[1];return n.match("http")?t.apply(this,arguments):e.apply(this,arguments)};return n}])}])};if(window.GM.corsUnsupported)try{if(!window.cors_shim.angular)throw"IFrame Not Yet Loaded";e()}catch(t){document.getElementById("cors_shim").addEventListener("load",e,!1)}}(),function(){var e="2.9.9.1005",t={env:"production",urls:{v4:"https://api.groupme.com/v4",v3:"https://api.groupme.com/v3",v2:"https://v2.groupme.com",powerup:"https://powerup.groupme.com",domain:"groupme.com",inline_downloader:"https://inline-downloader.groupme.com",image_service:"https://image.groupme.com",push:"https://push.groupme.com",brochure:"https://groupme.com",msa:"https://login.live.com/oauth20_authorize.srf?client_id=ed42a417-9cae-4d2d-a834-84ec9a60bb53&scope=wl.signin+wl.emails&response_type=token&redirect_uri=https://web.groupme.com/msa/redirect",msa_logout:"https://login.live.com/oauth20_logout.srf?client_id=ed42a417-9cae-4d2d-a834-84ec9a60bb53&redirect_uri=https://web.groupme.com/msa/redirect"},ecs:{urls:["https://a.config.skype.com","https://b.config.skype.com"],team:"GroupMeWeb",maximumAttempts:3,waitDuration:3e3},ids:{bots:{tay:28619320}},version:e},n={env:"staging",urls:{v4:"https://api.groupme-b.com/v4",v3:"https://api.groupme-b.com/v3",v2:"https://v2.groupme-b.com",powerup:"https://powerup.groupme-b.com",domain:"groupme-b.com",inline_downloader:"https://inline-downloader.groupme-b.com",image_service:"https://image.groupme-b.com",push:"https://push.groupme-b.com",brochure:"https://groupme-b.com",msa:"https://login.live.com/oauth20_authorize.srf?client_id=91a26a3b-39b8-42dd-83b8-c9cb829fe0b4&scope=wl.signin+wl.emails&response_type=token&redirect_uri=https://web.groupme-b.com/msa/redirect",msa_logout:"https://login.live.com/oauth20_logout.srf?client_id=91a26a3b-39b8-42dd-83b8-c9cb829fe0b4&redirect_uri=https://web.groupme-b.com/msa/redirect"},ecs:{urls:["https://a.config.skype.net","https://b.config.skype.net"],team:"GroupMeWeb",maximumAttempts:3,waitDuration:3e3},ids:{bots:{tay:1004352}},version:e},r={env:"test",urls:{v4:"http://127.0.0.1:9001/v4",v3:"http://127.0.0.1:9001/v3",v2:"http://127.0.0.1:9001/v2",powerup:"http://127.0.0.1:9001/powerup",domain:"groupme-b.com",inline_downloader:"http://127.0.0.1:9001/inline_downloader",image_service:"http://127.0.0.1:9001/image",push:"http://127.0.0.1:9001/push",brochure:"https://groupme-b.com",msa:"http://127.0.0.1:9004/msa?client_id=groupmetest",msa_logout:"http://127.0.0.1:9004/msa"},ecs:{urls:["http://127.0.0.1:9003/a","http://127.0.0.1:9003/b"],team:"GroupMeWeb",maximumAttempts:3,waitDuration:3e3},ids:{bots:{tay:1004352}},version:e};window.location.host.match("groupme.com")?(window.GM=t,document.domain=window.GM.urls.domain,window.location.host.match("edge.groupme.com")&&(window.GM.urls.msa="https://login.live.com/oauth20_authorize.srf?client_id=82f1c40a-301f-4e47-96db-c0f1879eea8d&scope=wl.signin+wl.emails&response_type=token&redirect_uri=https://edge.groupme.com/msa/redirect",window.GM.urls.msa_logout="https://login.live.com/oauth20_logout.srf?client_id=82f1c40a-301f-4e47-96db-c0f1879eea8d&redirect_uri=https://edge.groupme.com/msa/redirect")):window.location.host.match("groupme-b.com")?(window.GM=n,document.domain=window.GM.urls.domain):window.location.host.match("127.0.0.1")?window.GM=r:(window.GM=n,window.GM.urls.brochure="https://groupme-b.com",window.GM.urls.msa="https://login.live.com/oauth20_authorize.srf?client_id=ae31547d-4f43-4279-a282-11d25906c180&scope=wl.signin+wl.emails&response_type=token&redirect_uri=http://localhost:9595/msa/redirect",window.GM.urls.msa_logout="https://login.live.com/oauth20_logout.srf?client_id=ae31547d-4f43-4279-a282-11d25906c180&redirect_uri=http://localhost:9595/msa/redirect",window.GM.env="development"),window.GM.isApp=window.location.host.match("app.groupme.com"),window.GM.isBeta=window.location.host.match("beta.groupme.com"),window.GM.isEdge=window.location.host.match("edge.groupme.com"),window.experimental=!window.GM.isApp||!window.GM.isBeta}(),angular.module("groupme").run(["pingService","groupMessageService","oneOnOneMessageService","currentChatsService",function(e,t,n,r){e.pingOn(t,["create"]),e.pingOn(n,["create"]),e.pingOn(r,["openChat","openOneOnOne"])}]),angular.module("groupme").run(["reflectionService",function(e){window.printWatcherCount=e.printWatcherCount}]),angular.module("groupme").value("archivesList",[]),angular.module("groupme").service("Client",function(){this.isNative=/groupme/i.test(navigator.userAgent),this.isMobile=/mobile|android|iphone|ipad|windows phone/i.test(navigator.userAgent)}),angular.module("groupme").value("Events",{USER_INACTIVE:"user:inactive",USER_ACTIVE:"user:active",USER_ONLINE:"user:online",USER_OFFLINE:"user:offline",CHAT_CLEAR_UNREAD:"chat:markAsRead",CHATS_RELOADED:"chats:reloaded",EMOJI_MENU_SHOW:"emoji_menu:show",EMOJI_MENU_CLOSED:"emoji_menu:closed",EMOJI_PACKS_UPDATED:"emoji_packs:updated",POWERUPS_ONLINE:"powerups:online",EVENT_UPDATE:"event:update",NOTIFICATION_CHANGE:"notification:change"}),angular.module("groupme").factory("GroupPreview",["api",function(e){function t(e){this.inviteToken=e.inviteToken,this.shareToken=e.shareToken,this.groupId=e.groupId}var n={groupme4:"(iPhone|iPod|iPad)",groupme:"groupme"};return t.prototype.openInAppJoinUrl=function(){var e,t,r;return r=navigator.userAgent,_.each(n,function(n,a){t=new RegExp(n,"i"),t.test(r)&&!/windows phone/i.test(r)&&(e=a)}),e?[e,"://join_group/",this.groupId,"/",this.shareToken].join(""):void 0},t.prototype.groupUrl=function(){return"/chats/"+this.groupId},t.prototype.join=function(){var t;return t=this.shareToken?"groups/"+this.groupId+"/join/"+this.shareToken:"invites/"+this.inviteToken+"/claim",e.post("v2",t)},t.prototype.load=function(){function t(e){return _.find(e.memberships,function(t){return t.user_id==e.creator_id})}var n,r=this;return n=this.shareToken?"groups/"+this.groupId+"/preview/"+this.shareToken:"invites/"+this.inviteToken,e.get("v2",n).then(function(e){return r.group=e.data.group,r.creator=t(r.group),r.groupId||(r.groupId=e.data.group.id),e})},t}]),angular.module("groupme").value("Placeholders",{EMOJI:String.fromCharCode(65533),SANITIZE_LESS_THAN:String.fromCharCode(565),SANITIZE_GREATER_THAN:String.fromCharCode(566),MENTIONS_AT_SIGN:String.fromCharCode(240),MENTIONS_NAME_CHAR:String.fromCharCode(190),MENTIONS_SPACE:String.fromCharCode(241)}),angular.module("groupme").factory("Response",[function(){var e=function(e,t,n){!n instanceof Array&&(n=[n]),this.status=e,this.data=t,this.errors=n};return e}]),angular.module("groupme").factory("gmInterpolateTranslation",["$interpolate","$sanitize",function(e,t){function n(e){var t=angular.element("<div></div>");return t.text(e),t.html()}var r;return{setLocale:function(e){r=e},getInterpolationIdentifier:function(){return"gmInterpolation"},interpolate:function(r,a){if(a&&"object"==typeof a){var i=a.$sanitize?t:n,o=_.mapObject(a,function(e){return i(e)});o.$sanitize&&delete o.$sanitize}else o=a;return e(r)(o)}}}]),angular.module("groupme").service("accessTokensService",["api","$q",function(e,t){this.all=function(){return e.get("v2","/access_tokens").then(function(e){return e.data.access_tokens},function(){return t.reject()})},this.destroy=function(n){return e.post("v2","/access_tokens/"+n+"/destroy").then(function(e){return e.data},function(){return t.reject()})}}]),angular.module("groupme").service("addMembersService",["api","$q","mixpanelService",function(e,t,n){function r(e){var n=[],r=[];return _.each(e,function(e){if(e.name)if(e.user_id||e.phone_number||e.email){var t={nickname:e.name,guid:Uuid.create().value};e.user_id&&(t.user_id=e.user_id),e.phone_number&&(t.phone_number=e.phone_number),e.email&&(t.email=e.email),n.push(t)}else r.push("You must provide a user_id, phone number or an email address");else r.push("You must provide a name")}),r.length?t.reject(r):t.when(n)}var a=!1;this.add=function(i,o){return r(o).then(function(t){return e.post("v3","/groups/"+i+"/members/add",{members:t})}).then(function(e){return a||(n.peopleSet({"Added People to Group":!0}),a=!0),e.data},function(e){return t.reject(e)})},this.results=function(n,r){function a(){e.get("v3","/groups/"+n+"/members/results/"+r).then(function(e){i.resolve(e)},function(e){503===e.status&&5>=o?setTimeout(function(){a()},1e3):i.reject(e)}),o++}var i=t.defer(),o=0;return a(),i.promise}}]),angular.module("groupme").service("api",["tokenService","$q","$http","Response",function(e,t,n,r){var a={v2:window.GM.urls.v2,v3:window.GM.urls.v3,v4:window.GM.urls.v4,powerup:window.GM.urls.powerup,inline_downloader:window.GM.urls.inline_downloader,image_service:window.GM.urls.image_service};this.get=function(e,t,n,r){return this.request(e,"GET",t,null,n,r)},this.post=function(e,t,n,r,a){return this.request(e,"POST",t,n,r,a)},this.delete=function(e,t,n,r,a){return this.request(e,"DELETE",t,n,r,a)},this.request=function(i,o,s,u,l,c){var d=a[i],p={"X-Access-Token":e.token()};if(l&&_.extend(p,l),!d)throw new Error("Api version "+i+" does not exist");return"/"!==s[0]&&(s="/"+s),n({method:o,url:d+s,params:c,data:u,headers:"inline_downloader"==i?"":p}).then(function(e){var t,n=e.data&&e.data.response;return t=n?e.data.response:e.data,new r(e.status,t)},function(e){var n,a=e.data&&e.data.meta&&e.data.meta.errors;return n=a?e.data.meta.errors:e.data,t.reject(new r(e.status,null,n))})}}]),angular.module("groupme").service("app",["$q","sessionService","authenticator","facebookAuthenticator","msaAuthenticator","tokenService","groupmeEmojiService","authenticatingStatusService","welcomeService","mixpanelService","sha256Service","Translations",function(e,t,n,r,a,i,o,s,u,l,c,d){function p(e){if(e){l.identify(c.hashIntegerToBase64(e.id)),l.peopleSet({"User ID":c.hashIntegerToBase64(e.id),Avatar:angular.isDefined(e.image_url),Language:d.lang,"Facebook Connected":e.facebook_connected,"Twitter Connected":e.twitter_connected}),l.peopleSetPreserved(),l.register({Platform:"web","GroupMe Client Type":"web"}),o.refreshPacks(e);try{u.start(e)}catch(t){Bugsnag.notifyException(t,"welcomeError")}}s.set(!1)}function m(n){return i.clearToken(),s.set(!1),t.setCurrentUser(),e.reject(n)}this.init=function(){l.identify(Uuid.create().value),token=i.token(),token?this.authenticate(token):s.set(!1)},this.authenticate=function(e){return s.set(!0),n.authenticate(e).then(p,m)},this.authenticateThroughFacebook=function(e){return s.set(!0),r.authenticate(e).then(p,m)},this.authenticateThroughMSA=function(e){return s.set(!0),a.authenticate(e).then(p,m)}}]),angular.module("groupme").service("authenticatingStatusService",[function(){var e;this.get=function(){return e},this.set=function(t){e=!!t}}]),angular.module("groupme").service("authenticator",["tokenService","sessionService","$q","api","$user","$translate",function(e,t,n,r,a,i){var o,s;o=function(){return a.me().then(function(e){return t.setCurrentUser(e),n.when(e)},function(){return n.reject()})},s=function(t){return r.post("v2","/access_tokens",{username:t.username,password:t.password,app_id:"groupme-web",grant_type:"password"}).then(function(n){e.setToken(n.data.access_token,t.remember)},function(e){var t=404===e.status,r=t?[i.instant("SignInPage.Errors.NotFound")]:[i.instant("SignInPage.Errors.CredentialsDoNotMatch")];return n.reject(r)})},this.authenticate=function(t){if("object"==typeof t){var n=t;return t=null,s(n).then(o)}return e.token()||e.setToken(t),o(t)}}]),angular.module("groupme").service("avatarService",[function(){var e=this;this.size=function(t,n,r){var a,i;return r=r||{},a="."+t,n?(i=e.isGroupmeImage(n),i?n.replace(/https?:/,"https:").replace(/.(large|preview|avatar)/,"")+a:n):e.defaultImage(t,r)},this.isGroupmeImage=function(e){return/https?:\/\/i(-staging)?.groupme\.com\//.test(e)},this.isGif=function(e){return/\.gif\.[a-z0-9]+$/.test(e)},this.defaultImage=function(e,t){return"group"==t.type?"https://i.groupme.com/300x300.png.e8ec5793a332457096bc9707ffc9ac37."+e:"https://i.groupme.com/300x300.png.6485c42fdeaa45b5a4b986b9cb1c91a2."+e}}]),angular.module("groupme").service("bingService",["$q","$http",function(e,t){function n(e,t){return void 0!==c[e][t]?c[e][t].results:null}function r(e,t,n){c[e][t]={stamp:d++,results:n},a(e)}function a(e){var t,n=0,r=-1;for(var a in c[e])n++,(-1==r||r>c[e][a].stamp)&&(r=c[e][a].stamp,t=a);n>s&&delete c[e][t]}function i(e,t,n){var r,a,i=e.data.SearchResponse.Image?"Image":"Video";e.data.SearchResponse[i].Total>0?(a=e.data.SearchResponse[i].Results,n>=a.length?r=[]:n+t>a.length&&(t=a.length-n),void 0===r&&(r=_.first(a,n+t),r=_.last(r,t))):(a=[],r=[]);var o={data:{SearchResponse:{}}};return o.data.SearchResponse[i]={Total:a.length,Offset:n,Results:r},o}function o(a,o,s,c){s||(s=16),s>u&&(s=u),c||(c=0);var d=n(a,o);if(d)return e.when(i(d,s,c));var p,m="images"==a?"Image":"Video";if("images"==a)p=o;else{for(var f=[],h=0,g=l.length;g>h;h++)f.push("site:"+l[h]);p=o+" ("+f.join(" OR ")+")"}return t.jsonp("https://media-proxy.groupme.com/json.aspx?JsonType=callback&JsonCallback=JSON_CALLBACK&Sources="+m+"&Query="+encodeURI(p)+"&"+m+".Count="+u+"&"+m+".Offset=0").then(function(t){return r(a,o,t),e.when(i(t,s,c))})}var s=3,u=50,l=["youtube.com","instagram.com","imgur.com","vimeo.com","vine.com"],c={images:{},videos:{}},d=0;this.imageSearch=function(e,t,n){return o("images",e,t,n)},this.videoSearch=function(e,t,n){return o("videos",e,t,n)}}]),angular.module("groupme").service("blockedService",["$rootScope","$q","api","sessionService","Events","relationshipService","mixpanelService","chatsService",function(e,t,n,r,a,i,o,s){this.blockBetween=function(e){return r.currentUser().then(function(t){return n.get("v3","/blocks/between?user="+t.user_id+"&otherUser="+e)}).then(function(e){return e.data},function(){return console.error("Error retrieving to block info for:",e),t.reject()})},this.block=function(e){return r.currentUser().then(function(t){return n.post("v3","/blocks?user="+t.user_id+"&otherUser="+e)}).then(function(){return i.updateBlock(e,!0)}).then(function(e){return o.peopleIncrement({"Relationship Count":-1,"Blocked Count":1}),e},function(){return console.error("Error trying to block:",e),t.reject()}).then(function(){s.reloadAll()})},this.unblock=function(e){return r.currentUser().then(function(t){return n.delete("v3","/blocks?user="+t.user_id+"&otherUser="+e)}).then(function(){return i.updateBlock(e,!1)}).then(function(e){return o.peopleIncrement({"Relationship Count":1,"Blocked Count":-1}),e},function(){return console.error("Error trying to unblock:",e),t.reject()}).then(function(){s.reloadAll()})}}]),angular.module("groupme").service("calendarService",["$q","api","sessionService","mixpanelService",function(e,t,n,r){function a(e){var t=e;return t=i(t),t=o(t),t=s(t)}function i(e){var t=n.getCurrentUser();if(t)return e.user_going=!!_.find(e.going,function(e){return parseInt(e)===parseInt(t.id)}),e.user_not_going=!!_.find(e.not_going,function(e){return parseInt(e)===parseInt(t.id)}),e}function o(e){var t,n,r,a=new Date;if(t=moment(e.start_at),n=moment(e.end_at),e.has_happened=n.isBefore(a),r=moment.duration(n-t).days(),e.is_multi_day=r>1,e.is_all_day){var i=jstz.determine().name();t.utcOffset(e.start_at),n.utcOffset(e.end_at),e.show_time_zone=e.timezone!==i,n.subtract(1,"day")}return e.begins=t,e.ends=n,e}function s(e){e.location&&e.location.lat&&e.location.lng&&(e.map={},e.map.url="https://maps.google.com/maps?q=",e.map.url+=e.location.lat+","+e.location.lng,e.map.imageURL="https://maps.googleapis.com/maps/api/staticmap?center=",e.map.imageURL+=e.location.lat,e.map.imageURL+=",",e.map.imageURL+=e.location.lng,e.map.imageURL+="&markers=",e.map.imageURL+=e.location.lat,e.map.imageURL+=",",e.map.imageURL+=e.location.lng,e.map.imageURL+="&zoom=15&size=600x175&sensor=false")}this.show=function(n,r){if(!n||!r)return e.reject("Missing parameters.");var i,o="conversations/"+n+"/events/show",s={event_id:r};return t.get("v3",o,null,s).then(function(e){return i=a(e.data.event),_.extend(e.data.event,i),e},function(t){return console.error("Calendar event show error:",t),404===t.status?e.reject("Event could not be found."):500===t.status?e.reject("Bad Request."):e.reject("Unknown error occured while requesting the event: "+r)})},this.rsvp=function(n,r,i){if(!n||!r)return e.reject("Missing parameters.");var o,s="conversations/"+n+"/events/rsvp",u={event_id:r,going:i};return t.post("v3",s,null,null,u).then(function(e){return o=a(e.data.event),_.extend(e.data.event,o),e},function(t){return console.error("Calendar event rsvp error:",t),404===t.status?e.reject("Event could not be found."):500===t.status?e.reject("Bad Request."):e.reject("Unknown error occured while rsvp'ing to the event: "+r)})},this.deleteRsvp=function(n,r){if(!n||!r)return e.reject("Missing parameters.");var i,o="conversations/"+n+"/events/rsvp/delete",s={event_id:r};return t.delete("v3",o,null,null,s).then(function(e){return i=a(e.data.event),_.extend(e.data.event,i),e},function(t){return console.error("Calendar event delete rsvp error:",t),404===t.status?e.reject("Event could not be found."):500===t.status?e.reject("Bad Request."):e.reject("Unknown error occured while deleting the rsvp for the event: "+r)})},this.list=function(n,r,i){if(!n)return e.reject("Missing parameters.");var o,s="conversations/"+n+"/events/list",u={limit:i||20};return r&&(u.end_at=r),t.get("v3",s,null,u).then(function(e){return _.each(e.data.events,function(e){o=a(e),_.extend(e,o)}),e},function(e){console.warn("list error",e)})},this.create=function(n,i){if(!n||!i)return e.reject("Missing parameters.");var o,s="conversations/"+n+"/events/create";return t.post("v3",s,i).then(function(e){return o=a(e.data.event),_.extend(e.data.event,o),r.peopleSet({"Sent Calendar Event":!0}),e},function(){return e.reject("Unable to create event.")})},this.update=function(n,i,o){if(!n||!i||!o)return e.reject("Missing parameters.");var s,u="conversations/"+n+"/events/update",l={event_id:i};return t.post("v3",u,o,null,l).then(function(e){return s=a(e.data.event),_.extend(e.data.event,s),r.peopleSet({"Sent Calendar Event":!0}),e},function(t){return console.warn("update error",t),e.reject("Unable to update event.")})},this.delete=function(n,r){if(!n||!r)return e.reject("Missing parameters.");var a="conversations/"+n+"/events/delete",i={event_id:r};return t.delete("v3",a,null,null,i).then(function(e){return console.warn("delete success",e),e},function(t){return console.warn("delete error",t),e.reject("Unable to delete event.")})},this.formatDate=function(e){return e.format("YYYY-MM-DDTHH:mm:ssZ")}}]),angular.module("groupme").factory("chatBuilder",[function(){return{fromGroup:function(e){var t;try{t="object"==typeof e.messages&&"object"==typeof e.messages.preview&&0!==e.messages.last_message_created_at?{name:e.messages.preview.nickname,text:e.messages.preview.text,image_url:e.messages.preview.image_url,attachments:e.messages.preview.attachments||[],created_at:e.messages.last_message_created_at}:{created_at:e.created_at}}finally{return{id:e.id,imageUrl:e.image_url,name:e.name,topic:e.description,updatedAt:e.updated_at,lastMessage:t,group:e}}},fromOneOnOne:function(e,t){var n,r={};try{r=e.other_user?e.other_user:e.chat.other_user,"object"==typeof e.last_message?n={name:e.last_message.name,text:e.last_message.text,attachments:e.last_message.attachments||[],created_at:e.last_message.created_at}:last_message={created_at:e.created_at}}finally{return{id:this.makeId(r.id,t.id),imageUrl:r.avatar_url,name:r.name,updatedAt:e.updated_at,lastMessage:n}}},fromRelationship:function(e,t){return{id:this.makeId(e.user_id,t.id),imageUrl:e.avatar_url,name:e.name}},fromUser:function(e,t){return{id:this.makeId(e.id,t.id),imageUrl:e.avatar_url,name:e.name}},makeId:function(e,t){var n=[parseInt(e),parseInt(t)],r=n.sort(function(e,t){return e-t});return r.join("+")}}}]),angular.module("groupme").service("chatsService",["$rootScope","$q","$push","$groups","groupsService","chatBuilder","oneOnOneService","sessionService","Events",function(e,t,n,r,a,i,o,s,u){function l(e){return(y.isGroupChatId(e)?d:p)(e)}function c(){return v=g=!0,t.all({currentUser:s.currentUser(),groups:a.all(),dms:o.all()}).then(function(e){for(w||m(e.currentUser),_.each(e.groups,function(e){y.addChat(i.fromGroup(e))}),_.each(e.dms,function(t){y.addChat(i.fromOneOnOne(t,e.currentUser))}),v=!1;b.length;)b.pop().resolve(y.chats)},function(e){for(;b.length;)b.pop().reject();console.error("Error while refreshing chats list:",e)})}function d(e){return r.find(e).then(function(e){return chat=i.fromGroup(e),chat.group=e,chat},function(){return console.error("Error fetching group chat:",e),t.reject()})}function p(e){var n;return s.currentUser().then(function(t){return n=t,o.find(y.otherUserId(e,t))}).then(function(e){var t=i.fromOneOnOne(e.chat,n);return t},function(){return console.error("Error fetching oneOnOne chat:",e),t.reject()})}function m(){n.on("line.create",h),n.on("direct_message.create",h),n.on("membership.create",f),w=!0}function f(e){y.reload(e.id)}function h(e){var t=e.group_id||e.chat_id;e.system||"system"===e.sender_type?y.reload(t):y.updateLastMessage(t,e)}var g,v,y=this,b=[],w=!1;this.chats=[],this.all=function(){g||c();var n=t.defer();return v?b.push(n):(n.resolve(y.chats),e.$emit(u.CHATS_RELOADED)),n.promise},this.reloadAll=function(){return t.all([a.reloadAll(),o.reloadAll()]).then(function(){return g=null,y.chats=[],y.all()})},this.reload=function(e){return l(e).then(function(e){return y.addChat(e)})},this.find=function(e){return y.all().then(function(){var n=y.knownChat(e);return n?t.when(n):l(e)})},this.knownChat=function(e){return _.findWhere(y.chats,{id:e})},this.addChat=function(e){var t=_.find(y.chats,function(t){return e.id===t.id});return t?_.extend(t,e):(y.chats.push(e),e)},this.otherUserId=function(e,t){var n=e.split("+");return n[0].toString()!==t.id.toString()?n[0]:n[1]},this.isGroupChatId=function(e){return!e.toString().match(/\+/)},this.updateLastMessage=function(e,t){y.find(e).then(function(e){var n={name:t.name,text:t.text,attachments:t.attachments||[],created_at:t.created_at};angular.extend(e,{lastMessage:n,updatedAt:moment().unix()})})}}]),angular.module("groupme").service("cookieBannerService",["$cookie","$rootScope",function(e,t){function n(){t.$evalAsync(r)}function r(){return e.get(i)?(a.accepted=!0,!0):(a.accepted=!1,!1)}var a=this,i="gmcookies";a.accepted=!1,this.closeCookieBanner=function(){r()||e.set(i,!0,this.cookieOptions()),a.accepted=!0},this.cookieOptions=function(){var e,t=window.GM.env.match(/(development|test)/);return e={domain:t?null:window.GM.urls.domain,secure:!t,expires:180}},n()}]),angular.module("groupme").service("$cookie",[function(){this.get=function(e,t){t=t||{};for(var n,r=t.raw?function(e){return e}:decodeURIComponent,a=document.cookie.split("; "),i=0;n=a[i]&&a[i].split("=");i++)if(r(n[0])===e)return r(n[1]||"");return null},this.set=function(e,t,n){if(n=n||{},(null===t||void 0===t)&&(n.expires=-1),_.contains(["development","test"])&&(n.secure=!0),"number"==typeof n.expires){var r=n.expires,a=n.expires=new Date;a.setDate(a.getDate()+r)}return n.path=n.path||"/",t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"","; path="+n.path,n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")},this.clear=function(e,t){return this.set(e,null,t)}}]),angular.module("groupme").service("countryOrRegionService",["$translate","Translations",function(e,t){var n;this.getSorted=function(){return void 0===n&&(n=[{name:e.instant("SignUp.Profile.CountryOrRegion.Afghanistan"),prefix:"93"},{name:e.instant("SignUp.Profile.CountryOrRegion.AlandIslands"),prefix:"358"},{name:e.instant("SignUp.Profile.CountryOrRegion.Albania"),prefix:"355"},{name:e.instant("SignUp.Profile.CountryOrRegion.Algeria"),prefix:"213"},{name:e.instant("SignUp.Profile.CountryOrRegion.AmericanSamoa"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Andorra"),prefix:"376"},{name:e.instant("SignUp.Profile.CountryOrRegion.Angola"),prefix:"244"},{name:e.instant("SignUp.Profile.CountryOrRegion.Anguilla"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.AntiguaAndBarbuda"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Argentina"),prefix:"54"},{name:e.instant("SignUp.Profile.CountryOrRegion.Armenia"),prefix:"374"},{name:e.instant("SignUp.Profile.CountryOrRegion.Aruba"),prefix:"297"},{name:e.instant("SignUp.Profile.CountryOrRegion.Australia"),prefix:"61"},{name:e.instant("SignUp.Profile.CountryOrRegion.Austria"),prefix:"43"},{name:e.instant("SignUp.Profile.CountryOrRegion.Azerbaijan"),prefix:"994"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bahamas"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bahrain"),prefix:"973"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bangladesh"),prefix:"880"},{name:e.instant("SignUp.Profile.CountryOrRegion.Barbados"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Belarus"),prefix:"375"},{name:e.instant("SignUp.Profile.CountryOrRegion.Belgium"),prefix:"32"},{name:e.instant("SignUp.Profile.CountryOrRegion.Belize"),prefix:"501"},{name:e.instant("SignUp.Profile.CountryOrRegion.Benin"),prefix:"229"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bermuda"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bhutan"),prefix:"975"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bolivia"),prefix:"591"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bonaire"),prefix:"599"},{name:e.instant("SignUp.Profile.CountryOrRegion.BosniaAndHerzegovina"),prefix:"387"},{name:e.instant("SignUp.Profile.CountryOrRegion.Botswana"),prefix:"267"},{name:e.instant("SignUp.Profile.CountryOrRegion.BouvetIsland"),prefix:"47"},{name:e.instant("SignUp.Profile.CountryOrRegion.Brazil"),prefix:"55"},{name:e.instant("SignUp.Profile.CountryOrRegion.BritishIndianOceanTerritory"),prefix:"246"},{name:e.instant("SignUp.Profile.CountryOrRegion.BritishVirginIslands"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Brunei"),prefix:"673"},{name:e.instant("SignUp.Profile.CountryOrRegion.Bulgaria"),prefix:"359"},{name:e.instant("SignUp.Profile.CountryOrRegion.BurkinaFaso"),prefix:"226"},{name:e.instant("SignUp.Profile.CountryOrRegion.Burundi"),prefix:"257"},{name:e.instant("SignUp.Profile.CountryOrRegion.CaboVerde"),prefix:"238"},{name:e.instant("SignUp.Profile.CountryOrRegion.Cambodia"),prefix:"855"},{name:e.instant("SignUp.Profile.CountryOrRegion.Cameroon"),prefix:"237"},{name:e.instant("SignUp.Profile.CountryOrRegion.Canada"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.CaymanIslands"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.CentralAfricanRepublic"),prefix:"236"},{name:e.instant("SignUp.Profile.CountryOrRegion.Chad"),prefix:"235"},{name:e.instant("SignUp.Profile.CountryOrRegion.Chile"),prefix:"56"},{name:e.instant("SignUp.Profile.CountryOrRegion.China"),prefix:"86"},{name:e.instant("SignUp.Profile.CountryOrRegion.ChristmasIsland"),prefix:"61"},{name:e.instant("SignUp.Profile.CountryOrRegion.CocosKeelingIslands"),prefix:"61"},{name:e.instant("SignUp.Profile.CountryOrRegion.Colombia"),prefix:"57"},{name:e.instant("SignUp.Profile.CountryOrRegion.Comoros"),prefix:"269"},{name:e.instant("SignUp.Profile.CountryOrRegion.Congo"),prefix:"242"},{name:e.instant("SignUp.Profile.CountryOrRegion.CongoDRC"),prefix:"243"},{name:e.instant("SignUp.Profile.CountryOrRegion.CookIslands"),prefix:"682"},{name:e.instant("SignUp.Profile.CountryOrRegion.CostaRica"),prefix:"506"},{name:e.instant("SignUp.Profile.CountryOrRegion.CoteDIvoire"),prefix:"225"},{name:e.instant("SignUp.Profile.CountryOrRegion.Croatia"),prefix:"385"},{name:e.instant("SignUp.Profile.CountryOrRegion.Cuba"),prefix:"53"},{name:e.instant("SignUp.Profile.CountryOrRegion.Curacao"),prefix:"599"},{name:e.instant("SignUp.Profile.CountryOrRegion.Cyprus"),prefix:"357"},{name:e.instant("SignUp.Profile.CountryOrRegion.CzechRepublic"),prefix:"420"},{name:e.instant("SignUp.Profile.CountryOrRegion.Denmark"),prefix:"45"},{name:e.instant("SignUp.Profile.CountryOrRegion.Djibouti"),prefix:"253"},{name:e.instant("SignUp.Profile.CountryOrRegion.Dominica"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.DominicanRepublic"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Ecuador"),prefix:"593"},{name:e.instant("SignUp.Profile.CountryOrRegion.Egypt"),prefix:"20"},{name:e.instant("SignUp.Profile.CountryOrRegion.ElSalvador"),prefix:"503"},{name:e.instant("SignUp.Profile.CountryOrRegion.EquatorialGuinea"),prefix:"240"},{name:e.instant("SignUp.Profile.CountryOrRegion.Eritrea"),prefix:"291"},{name:e.instant("SignUp.Profile.CountryOrRegion.Estonia"),prefix:"372"},{name:e.instant("SignUp.Profile.CountryOrRegion.Ethiopia"),prefix:"251"},{name:e.instant("SignUp.Profile.CountryOrRegion.FalklandIslands"),prefix:"500"},{name:e.instant("SignUp.Profile.CountryOrRegion.FaroeIslands"),prefix:"298"},{name:e.instant("SignUp.Profile.CountryOrRegion.Fiji"),prefix:"679"},{name:e.instant("SignUp.Profile.CountryOrRegion.Finland"),prefix:"358"},{name:e.instant("SignUp.Profile.CountryOrRegion.France"),prefix:"33"},{name:e.instant("SignUp.Profile.CountryOrRegion.FrenchGuiana"),prefix:"594"},{name:e.instant("SignUp.Profile.CountryOrRegion.FrenchPolynesia"),prefix:"689"},{name:e.instant("SignUp.Profile.CountryOrRegion.FrenchSouthernTerritories"),prefix:"262"},{name:e.instant("SignUp.Profile.CountryOrRegion.Gabon"),prefix:"241"},{name:e.instant("SignUp.Profile.CountryOrRegion.Gambia"),prefix:"220"},{name:e.instant("SignUp.Profile.CountryOrRegion.Georgia"),prefix:"995"},{name:e.instant("SignUp.Profile.CountryOrRegion.Germany"),prefix:"49"},{name:e.instant("SignUp.Profile.CountryOrRegion.Ghana"),prefix:"233"},{name:e.instant("SignUp.Profile.CountryOrRegion.Gibraltar"),prefix:"350"},{name:e.instant("SignUp.Profile.CountryOrRegion.Greece"),prefix:"30"},{name:e.instant("SignUp.Profile.CountryOrRegion.Greenland"),prefix:"299"},{name:e.instant("SignUp.Profile.CountryOrRegion.Grenada"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Guadeloupe"),prefix:"590"},{name:e.instant("SignUp.Profile.CountryOrRegion.Guam"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Guatemala"),prefix:"502"},{name:e.instant("SignUp.Profile.CountryOrRegion.Guernsey"),prefix:"44"},{name:e.instant("SignUp.Profile.CountryOrRegion.Guinea"),prefix:"224"},{name:e.instant("SignUp.Profile.CountryOrRegion.GuineaBissau"),prefix:"245"},{name:e.instant("SignUp.Profile.CountryOrRegion.Guyana"),prefix:"592"},{name:e.instant("SignUp.Profile.CountryOrRegion.Haiti"),prefix:"509"},{name:e.instant("SignUp.Profile.CountryOrRegion.HeardIslandAndMcDonaldIslands"),prefix:"61"},{name:e.instant("SignUp.Profile.CountryOrRegion.Honduras"),prefix:"504"},{name:e.instant("SignUp.Profile.CountryOrRegion.HongKongSAR"),prefix:"852"},{name:e.instant("SignUp.Profile.CountryOrRegion.Hungary"),prefix:"36"},{name:e.instant("SignUp.Profile.CountryOrRegion.Iceland"),prefix:"354"},{name:e.instant("SignUp.Profile.CountryOrRegion.India"),prefix:"91"},{name:e.instant("SignUp.Profile.CountryOrRegion.Indonesia"),prefix:"62"},{name:e.instant("SignUp.Profile.CountryOrRegion.Iran"),prefix:"98"},{name:e.instant("SignUp.Profile.CountryOrRegion.Iraq"),prefix:"964"},{name:e.instant("SignUp.Profile.CountryOrRegion.Ireland"),prefix:"353"},{name:e.instant("SignUp.Profile.CountryOrRegion.IsleOfMan"),prefix:"44"},{name:e.instant("SignUp.Profile.CountryOrRegion.Israel"),prefix:"972"},{name:e.instant("SignUp.Profile.CountryOrRegion.Italy"),prefix:"39"},{name:e.instant("SignUp.Profile.CountryOrRegion.Jamaica"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.JanMayen"),prefix:"47"},{name:e.instant("SignUp.Profile.CountryOrRegion.Japan"),prefix:"81"},{name:e.instant("SignUp.Profile.CountryOrRegion.Jersey"),prefix:"44"},{name:e.instant("SignUp.Profile.CountryOrRegion.Jordan"),prefix:"962"},{name:e.instant("SignUp.Profile.CountryOrRegion.Kazakhstan"),prefix:"7"},{name:e.instant("SignUp.Profile.CountryOrRegion.Kenya"),prefix:"254"},{name:e.instant("SignUp.Profile.CountryOrRegion.Kiribati"),prefix:"686"},{name:e.instant("SignUp.Profile.CountryOrRegion.Korea"),prefix:"82"},{name:e.instant("SignUp.Profile.CountryOrRegion.Kosovo"),prefix:"381"},{name:e.instant("SignUp.Profile.CountryOrRegion.Kuwait"),prefix:"965"},{name:e.instant("SignUp.Profile.CountryOrRegion.Kyrgyzstan"),prefix:"996"},{name:e.instant("SignUp.Profile.CountryOrRegion.Laos"),prefix:"856"},{name:e.instant("SignUp.Profile.CountryOrRegion.Latvia"),prefix:"371"},{name:e.instant("SignUp.Profile.CountryOrRegion.Lebanon"),prefix:"961"},{name:e.instant("SignUp.Profile.CountryOrRegion.Lesotho"),prefix:"266"},{name:e.instant("SignUp.Profile.CountryOrRegion.Liberia"),prefix:"231"},{name:e.instant("SignUp.Profile.CountryOrRegion.Libya"),prefix:"218"},{name:e.instant("SignUp.Profile.CountryOrRegion.Liechtenstein"),prefix:"423"},{name:e.instant("SignUp.Profile.CountryOrRegion.Lithuania"),prefix:"370"},{name:e.instant("SignUp.Profile.CountryOrRegion.Luxembourg"),prefix:"352"},{name:e.instant("SignUp.Profile.CountryOrRegion.MacaoSAR"),prefix:"853"},{name:e.instant("SignUp.Profile.CountryOrRegion.MacedoniaFYRO"),prefix:"389"},{name:e.instant("SignUp.Profile.CountryOrRegion.Madagascar"),prefix:"261"},{name:e.instant("SignUp.Profile.CountryOrRegion.Malawi"),prefix:"265"},{name:e.instant("SignUp.Profile.CountryOrRegion.Malaysia"),prefix:"60"},{name:e.instant("SignUp.Profile.CountryOrRegion.Maldives"),prefix:"960"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mali"),prefix:"223"},{name:e.instant("SignUp.Profile.CountryOrRegion.Malta"),prefix:"356"},{name:e.instant("SignUp.Profile.CountryOrRegion.MarshallIslands"),prefix:"692"},{name:e.instant("SignUp.Profile.CountryOrRegion.Martinique"),prefix:"596"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mauritania"),prefix:"222"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mauritius"),prefix:"230"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mayotte"),prefix:"262"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mexico"),prefix:"52"},{name:e.instant("SignUp.Profile.CountryOrRegion.Micronesia"),prefix:"691"},{name:e.instant("SignUp.Profile.CountryOrRegion.Moldova"),prefix:"373"},{name:e.instant("SignUp.Profile.CountryOrRegion.Monaco"),prefix:"377"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mongolia"),prefix:"976"},{name:e.instant("SignUp.Profile.CountryOrRegion.Montenegro"),prefix:"382"},{name:e.instant("SignUp.Profile.CountryOrRegion.Montserrat"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Morocco"),prefix:"212"},{name:e.instant("SignUp.Profile.CountryOrRegion.Mozambique"),prefix:"258"},{name:e.instant("SignUp.Profile.CountryOrRegion.Myanmar"),prefix:"95"},{name:e.instant("SignUp.Profile.CountryOrRegion.Namibia"),prefix:"264"},{name:e.instant("SignUp.Profile.CountryOrRegion.Nauru"),prefix:"674"},{name:e.instant("SignUp.Profile.CountryOrRegion.Nepal"),prefix:"977"},{name:e.instant("SignUp.Profile.CountryOrRegion.Netherlands"),prefix:"31"},{name:e.instant("SignUp.Profile.CountryOrRegion.NewCaledonia"),prefix:"687"},{name:e.instant("SignUp.Profile.CountryOrRegion.NewZealand"),prefix:"64"},{name:e.instant("SignUp.Profile.CountryOrRegion.Nicaragua"),prefix:"505"},{name:e.instant("SignUp.Profile.CountryOrRegion.Niger"),prefix:"227"},{name:e.instant("SignUp.Profile.CountryOrRegion.Nigeria"),prefix:"234"},{name:e.instant("SignUp.Profile.CountryOrRegion.Niue"),prefix:"683"},{name:e.instant("SignUp.Profile.CountryOrRegion.NorfolkIsland"),prefix:"672"},{name:e.instant("SignUp.Profile.CountryOrRegion.NorthKorea"),prefix:"850"},{name:e.instant("SignUp.Profile.CountryOrRegion.NorthernMarianaIslands"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Norway"),prefix:"47"},{name:e.instant("SignUp.Profile.CountryOrRegion.Oman"),prefix:"968"},{name:e.instant("SignUp.Profile.CountryOrRegion.Pakistan"),prefix:"92"},{name:e.instant("SignUp.Profile.CountryOrRegion.Palau"),prefix:"680"},{name:e.instant("SignUp.Profile.CountryOrRegion.PalestinianAuthority"),prefix:"970"},{name:e.instant("SignUp.Profile.CountryOrRegion.Panama"),prefix:"507"},{name:e.instant("SignUp.Profile.CountryOrRegion.PapuaNewGuinea"),prefix:"675"},{name:e.instant("SignUp.Profile.CountryOrRegion.Paraguay"),prefix:"595"},{name:e.instant("SignUp.Profile.CountryOrRegion.Peru"),prefix:"51"},{name:e.instant("SignUp.Profile.CountryOrRegion.Philippines"),prefix:"63"},{name:e.instant("SignUp.Profile.CountryOrRegion.PitcairnIslands"),prefix:"64"},{name:e.instant("SignUp.Profile.CountryOrRegion.Poland"),prefix:"48"},{name:e.instant("SignUp.Profile.CountryOrRegion.Portugal"),prefix:"351"},{name:e.instant("SignUp.Profile.CountryOrRegion.PuertoRico"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Qatar"),prefix:"974"},{name:e.instant("SignUp.Profile.CountryOrRegion.Réunion"),prefix:"262"},{name:e.instant("SignUp.Profile.CountryOrRegion.Romania"),prefix:"40"},{name:e.instant("SignUp.Profile.CountryOrRegion.Russia"),prefix:"7"},{name:e.instant("SignUp.Profile.CountryOrRegion.Rwanda"),prefix:"250"},{name:e.instant("SignUp.Profile.CountryOrRegion.Saba"),prefix:"599"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaintBartholemy"),prefix:"590"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaintKittsAndNevis"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaintLucia"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaintMartin"),prefix:"590"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaintPierreAndMiquelon"),prefix:"508"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaintVincentAndTheGrenadines"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Samoa"),prefix:"685"},{name:e.instant("SignUp.Profile.CountryOrRegion.SanMarino"),prefix:"378"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaoTomeAndPrincipe"),prefix:"239"},{name:e.instant("SignUp.Profile.CountryOrRegion.SaudiArabia"),prefix:"966"},{name:e.instant("SignUp.Profile.CountryOrRegion.Senegal"),prefix:"221"},{name:e.instant("SignUp.Profile.CountryOrRegion.Serbia"),prefix:"381"},{name:e.instant("SignUp.Profile.CountryOrRegion.Seychelles"),prefix:"248"},{name:e.instant("SignUp.Profile.CountryOrRegion.SierraLeone"),prefix:"232"},{name:e.instant("SignUp.Profile.CountryOrRegion.Singapore"),prefix:"65"},{name:e.instant("SignUp.Profile.CountryOrRegion.SintEustatius"),prefix:"599"},{name:e.instant("SignUp.Profile.CountryOrRegion.SintMaarten"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Slovakia"),prefix:"421"},{name:e.instant("SignUp.Profile.CountryOrRegion.Slovenia"),prefix:"386"},{name:e.instant("SignUp.Profile.CountryOrRegion.SolomonIslands"),prefix:"677"},{name:e.instant("SignUp.Profile.CountryOrRegion.Somalia"),prefix:"252"},{name:e.instant("SignUp.Profile.CountryOrRegion.SouthAfrica"),prefix:"27"},{name:e.instant("SignUp.Profile.CountryOrRegion.SouthGeorgiaAndSouthSandwichIslands"),prefix:"500"},{name:e.instant("SignUp.Profile.CountryOrRegion.SouthSudan"),prefix:"211"},{name:e.instant("SignUp.Profile.CountryOrRegion.Spain"),prefix:"34"},{name:e.instant("SignUp.Profile.CountryOrRegion.SriLanka"),prefix:"94"},{name:e.instant("SignUp.Profile.CountryOrRegion.StHelenaAscensionTristandaCunha"),prefix:"290"},{name:e.instant("SignUp.Profile.CountryOrRegion.Sudan"),prefix:"249"},{name:e.instant("SignUp.Profile.CountryOrRegion.Suriname"),prefix:"597"},{name:e.instant("SignUp.Profile.CountryOrRegion.Svalbard"),prefix:"47"},{name:e.instant("SignUp.Profile.CountryOrRegion.Swaziland"),prefix:"268"},{name:e.instant("SignUp.Profile.CountryOrRegion.Sweden"),prefix:"46"},{name:e.instant("SignUp.Profile.CountryOrRegion.Switzerland"),prefix:"41"},{name:e.instant("SignUp.Profile.CountryOrRegion.Syria"),prefix:"963"},{name:e.instant("SignUp.Profile.CountryOrRegion.Taiwan"),prefix:"886"},{name:e.instant("SignUp.Profile.CountryOrRegion.Tajikistan"),prefix:"992"},{name:e.instant("SignUp.Profile.CountryOrRegion.Tanzania"),prefix:"255"},{name:e.instant("SignUp.Profile.CountryOrRegion.Thailand"),prefix:"66"},{name:e.instant("SignUp.Profile.CountryOrRegion.TimorLeste"),prefix:"670"},{name:e.instant("SignUp.Profile.CountryOrRegion.Togo"),prefix:"228"},{name:e.instant("SignUp.Profile.CountryOrRegion.Tokelau"),prefix:"690"},{name:e.instant("SignUp.Profile.CountryOrRegion.Tonga"),prefix:"676"},{name:e.instant("SignUp.Profile.CountryOrRegion.TrinidadAndTobago"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Tunisia"),prefix:"216"},{name:e.instant("SignUp.Profile.CountryOrRegion.Turkey"),prefix:"90"},{name:e.instant("SignUp.Profile.CountryOrRegion.Turkmenistan"),prefix:"993"},{name:e.instant("SignUp.Profile.CountryOrRegion.TurksAndCaicosIslands"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Tuvalu"),prefix:"688"},{name:e.instant("SignUp.Profile.CountryOrRegion.USOutlyingIslands"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.USVirginIslands"),prefix:"1"},{name:e.instant("SignUp.Profile.CountryOrRegion.Uganda"),prefix:"256"},{name:e.instant("SignUp.Profile.CountryOrRegion.Ukraine"),prefix:"380"},{name:e.instant("SignUp.Profile.CountryOrRegion.UnitedArabEmirates"),prefix:"971"},{name:e.instant("SignUp.Profile.CountryOrRegion.UnitedKingdom"),prefix:"44"},{name:e.instant("SignUp.Profile.CountryOrRegion.Uruguay"),prefix:"598"},{name:e.instant("SignUp.Profile.CountryOrRegion.Uzbekistan"),prefix:"998"},{name:e.instant("SignUp.Profile.CountryOrRegion.Vanuatu"),prefix:"678"},{name:e.instant("SignUp.Profile.CountryOrRegion.VaticanCity"),prefix:"379"},{name:e.instant("SignUp.Profile.CountryOrRegion.Venezuela"),prefix:"58"},{name:e.instant("SignUp.Profile.CountryOrRegion.Vietnam"),prefix:"84"},{name:e.instant("SignUp.Profile.CountryOrRegion.WallisAndFutuna"),prefix:"681"},{name:e.instant("SignUp.Profile.CountryOrRegion.Yemen"),prefix:"967"},{name:e.instant("SignUp.Profile.CountryOrRegion.Zambia"),prefix:"260"},{name:e.instant("SignUp.Profile.CountryOrRegion.Zimbabwe"),prefix:"263"}],n.sort(function(e,n){return e.name.localeCompare(n.name,t.lang)
}),n.unshift({name:e.instant("SignUp.Profile.CountryOrRegion.UnitedStates"),prefix:"1"})),n}}]),angular.module("groupme").service("createGroupService",["api","$q","chatBuilder","chatsService","currentChatsService","mixpanelService","sessionService",function(e,t,n,r,a,i,o){this.create=function(n){return n=n||{},n.name?e.post("v3","/groups",n).then(function(e){var t={"Group avatar":n.image_url&&""!=n.image_url?!0:!1};return t["Group avatar"]&&(t["Group avatar type"]="gallery"),i.trackStartGroup(t),o.increaseGroupsCreated(1),i.peopleSet({"Created Group":!0}),e},function(){return t.reject()}):t.reject("Please name your group")}}]),angular.module("groupme").service("curatedMediaService",["$q","$http",function(e,t){function n(){var n=e.defer();return void 0!==r?n.resolve(r):t.get(a).then(function(e){r=e.data,n.resolve(r)},function(e){n.reject(e)}),n.promise}var r,a="/curated-media";this.getCuratedGifs=function(){var t=e.defer();return n().then(function(e){e&&e.gif&&e.gif.suggestions?t.resolve(e.gif.suggestions):t.reject()},function(e){t.reject(e)}),t.promise},this.getCuratedBingImages=function(){var t=e.defer();return n().then(function(e){e&&e.image&&e.image.suggestions?t.resolve(e.image.suggestions):t.reject()},function(e){t.reject(e)}),t.promise},this.getCuratedBingVideos=function(){var t=e.defer();return n().then(function(e){e&&e.video&&e.video.suggestions?t.resolve(e.video.suggestions):t.reject()},function(e){t.reject(e)}),t.promise}}]),angular.module("groupme").service("currentChatsService",["$rootScope","$q","sessionService","chatsService","chatBuilder","$location","storageService","$modal","GMAssets","Events","api","promptModalService","mixpanelService","oneOnOneService",function(e,t,n,r,a,i,o,s,u,l,c,d,p,m){function f(t){var r,a,s,u=o.get("multichatEducated");for(r=0;r<v.activeChats.length;r++)if(v.activeChats[r].id==t.id){a=v.activeChats[r],s=r;break}a&&v.activeChats.splice(s,1),v.activeChats.unshift(t),i.path("/chats"),e.$emit(l.CHAT_CLEAR_UNREAD,t.id),!u&&v.activeChats.length>1&&h(),t.id.match(/\+/)?n.setEndScreenInfo("dm chat"):n.setEndScreenInfo("group chat")}function h(){s.open({templateUrl:"views/multichat-education.html?version="+u.version,animation:!1,size:"xs",windowClass:"multichat-education-modal modal-centered"}),o.set("multichatEducated",!0)}function g(e,t){var n=m.getStartDMTelemetryPayload(e);n["DM Status"]=t?"new":"existing",p.trackStartDM(n),m.clearStartDMTelemetryPayload(e)}var v=this;this.limit=1,this.activeChats=[];var y=function(){e.$on(l.CHATS_RELOADED,function(){return v.syncAll()})};this.openChat=function(e){r.find(e).then(function(t){f(t),r.isGroupChatId(e)||n.currentUser().then(function(t){g(r.otherUserId(e,t),!1)})})},this.openOneOnOne=function(e){if(!e.id||!e.name)throw"User id and name are required";return t.all({otherUser:c.get("v2","/users/"+e.id).then(function(e){return e.data}),currentUser:n.currentUser().then(function(e){return e})}).then(function(n){var i=n.otherUser.user.direct_message_capable,o=n.currentUser;if(i){if(e.id===o.id)return;var s=a.makeId(o.id,e.id);return r.find(s).then(function(t){f(t),g(e.id,!1)},function(){var t=a.fromUser(e,o);f(t),g(e.id,!0)})}return d.alert("Sorry. You can't direct message SMS users."),t.reject()})},this.close=function(t){var r=_.findWhere(v.activeChats,{id:t});if(!r)return console.warn("No chat found for ",t),!1;var a=v.isVisible(t);return v.activeChats.removeInPlace(function(e){return e.id==t}),a&&v.activeChats.length>=v.limit&&e.$emit(l.CHAT_CLEAR_UNREAD,v.activeChats[v.limit-1].id),a&&(0==v.activeChats.length?n.setEndScreenInfo("blank chat"):v.activeChats[0].id.match(/\+/)?n.setEndScreenInfo("dm chat"):n.setEndScreenInfo("group chat")),!0},this.getCurrentPaneNoForChat=function(e){for(var t=v.activeChats.slice(0,v.limit),n=0,r=t.length;r>n;n++)if(t[n].id==e)return n;return-1},this.isVisible=function(e){var t=i.path();return t.match(/\/chats/i)?!!_.findWhere(v.activeChats.slice(0,v.limit),{id:e}):!1},this.refreshAll=function(){v.activeChats=angular.copy(v.activeChats)},this.syncAll=function(){for(var e=0;e<v.activeChats.length;e++){var t=v.activeChats[e].id,n=_.findWhere(r.chats,function(e){return e.id===t});n&&v.activeChats.splice(e,n)}},y()}]),angular.module("groupme").service("ecsOverrideService",function(){"use strict";function e(e){e=e||window;var t=e.location.search.match(new RegExp(n,"i"));return t&&t[1]?t[1]:(t=e.document.cookie.match(new RegExp(r,"i")),t&&t[1]?t[1]:void 0)}var t="ecsoverride",n="\\b"+t+"=([^&]+)",r="\\b"+t+"=([^;]+)";return{get:e}}),angular.module("groupme").service("ecsService",["$http","ecsOverrideService",function(e,t){function n(){return window.GM.ecs}function r(e){var t=[];return n()&&n().urls&&(t=s(n().urls,e)),t}function a(){for(var e=window.GM.version.split(".",4);e.length<4;)e.push(0);return e.join(".")}function i(e){var t,n,r=[];for(t in e)n=e[t],void 0!==n&&r.push([t,n].join("="));return r.push("callback=JSON_CALLBACK"),r.join("&")}function o(e,t){var r=n().team,o=a(),s=e+"/config/v1/"+r+"/"+o,u=i(t),l=s;return u&&(l+="?"+u),l}function s(e,n){for(var r=[],a={apikey:n.apiKey,fingerprint:n.fingerprint,ecsoverride:t.get(window)},i=0;i<e.length;i++)r.push(o(e[i],a));return r}var u=2;this.loadConfig=function(t,a,i){function o(t){h++,e.jsonp(t,{timeout:n().timeout}).then(c,d)}function s(){return h/m.length>=(n().maximumAttempts||u)}function l(e){var t=e.ConfigIDs&&e.ConfigIDs[n().team];return t?t.split(/\s*,\s*/):[]}function c(e){var r;p||(p=!0,r=e&&e.data&&e.data[n().team],r?(r.configIds=l(e.data),r.eTag=e.data.Headers&&e.data.Headers.ETag||"",a&&a(r)):i&&i("no configuration is matching parameters",t))}function d(){s()?i&&i("configuration service unreachable"):o(m[++f%m.length])}var p,m,f,h=0;return t&&t.apiKey?(m=r(t),m&&m.length?(f=Math.floor(Math.random()*m.length),o(m[f]),void 0):(i&&i("no configuration service endpoint"),void 0)):(i&&i("apiKey is required"),void 0)}}]),angular.module("groupme").service("ecsWatcherService",["$interval","ecsService","guidService",function(e,t,n){function r(){a(),d=e(a,c)}function a(){t.loadConfig({apiKey:m,fingerprint:f},i,o)}function i(e){u=e,l=!0,s()}function o(e){console.log("ECS load error: "+e)}function s(){_.each(p,function(e){e(u)})}var u,l=!1,c=18e5,d=null,p=[],m="apikey",f=n.get(window);this.subscribe=function(e){p.push(e),l&&e(u)},r()}]),angular.module("groupme").service("emojiService",["$window",function(e){var t="emoji";this.getClassName=function(){return t},this.convert=function(n,r){return e.twemoji.parse(n,{callback:function(e,t){switch(e){case"a9":// © copyright
case"ae":case"2122":return!1}return"".concat(t.base,t.size,"/",e,t.ext)},className:t,size:r?72:36})},this.twemojify=function(e,t){return e=e?e:"",e=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\r\n|\n|\r/g,"<br>"),this.convert(e,t)},this.test=function(t){return e.twemoji.test(t)}}]),angular.module("groupme").service("facebookAuthenticator",["tokenService","sessionService","$q","api","$rootScope","$location","$translate",function(e,t,n,r,a,i,o){var s,u,l=!1;s=function(e){return e.authResponse&&e.authResponse.accessToken?e.authResponse.accessToken:void 0},u=function(n,a,u){var c,d=s(n);return d?(c={registration:{facebook_access_token:d,platform:"Web"}},r.post("v2","/registrations/facebook_create",c).then(function(r){r.data.registration?(l={facebook_access_token:n.authResponse.accessToken,facebook_user_id:n.authResponse.userID,email:r.data.registration.email,name:r.data.registration.name,avatar_url:r.data.registration.avatar_url},i.path("/signup/profile"),a.reject()):(e.setToken(r.data.access_token,u),t.setCurrentUser(r.data.user),a.resolve(r.data.user))},function(e){409===e.status?a.reject([o.instant("Auth.Facebook.UnableToLogin")]):500===e.status?a.reject([o.instant("Auth.Facebook.Expired")]):a.reject([o.instant("Auth.Facebook.UnableToLogin")])}),void 0):(a.reject(),void 0)},this.fbRegistration=function(){return l},this.authenticate=function(e){var t=n.defer();return FB.login(function(n){u(n,t,e)},{scope:"email, user_friends"}),t.promise}}]),angular.module("groupme").service("facebookService",["$q","$rootScope",function(e,t){var n,r=this;r.login=function(){function n(e){e.authResponse&&e.authResponse.accessToken?r.resolve({accessToken:e.authResponse.accessToken,userId:e.authResponse.userID}):r.reject(e)}var r=e.defer();return FB.login(function(e){t.$$phase?n(e):t.$apply(function(){n(e)})},{scope:"email, user_friends"}),r.promise},r.user=function(){var r=e.defer();return n?r.resolve(n):FB.api("/me",function(e){n=e,n.avatar_url="https://graph.facebook.com/"+n.id+"/picture?type=large",t.$$phase?r.resolve(n):t.$apply(function(){r.resolve(n)})}),r.promise}}]),angular.module("groupme").service("focusService",["$window",function(e){function t(){r.isFocused=!1,r.wentAwayTS=moment()}function n(){r.isFocused||(r.isFocused=!0,angular.forEach(a,function(e){e()}))}var r=this,a={};this.isFocused=!0,this.onFocus=function(e,t){a[e]=t},this.offFocus=function(e){delete a[e]},e.onfocus=n,e.onblur=t}]),angular.module("groupme").service("formerGroupsService",["$rootScope","$q","api","Events",function(e,t,n){function r(){return n.get("v3","/groups/former").then(function(e){return s.archives=e.data,a(!0),s.updatedAt=moment().unix(),s.archives},function(){return a(),t.reject()})}function a(e){for(;u.length;)e?u.pop().resolve(s.known):u.pop().reject();o=!1}var i,o,s=this,u=[];this.all=function(){if(!i)return r();var e=t.defer();return o?u.push(e):e.resolve(s.archives),e.promise},this.find=function(e){return s.all().then(function(){var n=_.findWhere(s.archives,{id:e});return n?n:t.reject("Could not locate archive:",e)})},this.rejoin=function(e){return n.post("v2","/groups/"+e+"/memberships/activate").then(function(t){return s.archives=_.reject(s.archives,function(t){return t.id===e}),s.updatedAt=moment().unix(),t.data},function(){return t.reject()})}}]),angular.module("groupme").service("foursquareService",["$q","$http",function(e,t){var n={clientID:"4KDD5DQTOHDLOXXYYK3NMOLYGVZ5ASMTV3FWISPFLL0IQKYM",clientSecret:"1WW14EXKON3PMDU1C4QIDGPXT53QGJPY0J2SPTP3S0TVYILV",version:new Date("February 2, 2015").getTime(),apiType:"foursquare"};this.search=function(r,a,i){var o="https://api.foursquare.com/v2/venues/search",s={near:r,query:a,limit:i||10,intent:"checkin",client_id:n.clientID,client_secret:n.clientSecret,v:n.version,m:n.apiType};return t({method:"GET",url:o,params:s}).then(function(e){return e.data.response},function(t){return e.reject("Error while searching foursquare.",t)})}}]),angular.module("groupme").service("galleryService",["$q","api",function(e,t){function n(n,r){return n?(endPoint="/conversations/"+n+"/gallery",r=r||{},r.limit=100,t.get("v3",endPoint,null,r).then(function(e){return e.data.messages.length<r.limit&&(e.data.incompleteSet=!0),e.data},function(t){return console.warn("error",t),e.reject()})):e.reject()}this.loadLatest=function(e){return n(e)},this.loadOlder=function(e,t){var r={before:t};return n(e,r)},this.loadNewer=function(e,t){var r={after:t};return n(e,r)},this.getAttachment=function(e){var t,n,r,a;return _.each(e,function(e){"image"===e.type?n=e:"video"===e.type?r=e:"linked_image"===e.type&&(a=e)}),n?t=n:r?t=r:a&&(t=a),t}}]),angular.module("groupme").service("gifFrameService",["$q","imageService","loadImageService",function(e,t,n){function r(e){var t=u(e);c[t]=[]}function a(e){var t=u(e);return l[t]||c[t]?!0:!1}function i(t){var n=u(t),r=e.defer();return l[n]?r.resolve(l[n]):c[n].push(r),r.promise}function o(e,t){var n=u(e);for(l[n]=t;c[n].length;)c[n].pop().resolve(t);delete c[n]}function s(e){for(var t=u(e);c[t].length;)c[t].pop().reject();delete c[t]}function u(e){return btoa(unescape(encodeURIComponent(JSON.stringify(e))))}var l={},c={};this.convert=function(u){return a(u)?i(u):(r(u),t.urlToBase64(u).then(function(e){var t="data:image/png;base64,"+e;return n.load(t)}).then(function(e){var t,n,r;return t=document.createElement("canvas"),t.width=e.width,t.height=e.height,n=t.getContext("2d"),n.drawImage(e,0,0),r=t.toDataURL(),o(u,r),r},function(t){console.error("Unable to convert image url to base 64:",t),s(u),e.reject()}))}}]),angular.module("groupme").service("giphyService",["$q","$http","GiphyAPIKey",function(e,t,n){function r(e){return void 0!==l[e]?l[e].results:null}function a(e,t){l[e]={stamp:c++,results:t},i()}function i(){var e,t=0,n=-1;for(var r in l)t++,(-1==n||n>l[r].stamp)&&(n=l[r].stamp,e=r);t>s&&delete l[e]}function o(e,t,n){var r;return n>=e.data.data.length?r=[]:n+t>e.data.data.length&&(t=e.data.data.length-n),void 0===r&&(r=_.first(e.data.data,n+t),r=_.last(r,t)),{data:{data:r,pagination:{total_count:e.data.data.length,count:t,offset:n}}}}var s=3,u=100,l={},c=0;this.getTrending=function(){return t.get("https://api.giphy.com/v1/gifs/trending?api_key="+n+"&limit=16")},this.search=function(i,s,l){s||(s=16),s>u&&(s=u),l||(l=0);var c=r(i);return c?e.when(o(c,s,l)):t.get("https://api.giphy.com/v1/gifs/search?q="+encodeURI(i)+"&api_key="+n+"&limit="+u+"&offset=0").then(function(t){return a(i,t),e.when(o(t,s,l))})}}]),angular.module("groupme").factory("groupMessageService",["api","$q","sessionService","membershipService","messageStoreService","chatsService",function(e,t,n,r,a,i){function o(n,r,a){return e.post("v3","/groups/"+n.id+"/messages",{message:r}).then(function(e){return a.id=e.data.message.id,a.loading=!1,a.failed=!1,a.created_at=e.data.message.created_at,s[a.source_guid]=null,a},function(){return a.loading=!1,a.failed=!0,s[a.source_guid]={payload:r,message:a},t.reject(a)})}var s={};return{create:function(e,t){return n.currentUser().then(function(n){var s=r.find(e.group,n.id),u={text:t.text,name:s.nickname,avatar_url:n.image_url,user_id:n.id,attachments:t.attachments,source_guid:Uuid.create().value,created_at:moment().unix(),loading:!0};return t.source_guid=u.source_guid,a.addPushedMessage(e.id,u),i.updateLastMessage(e.id,u),o(e,t,u)})},retry:function(e,t){var n=s[t];return n?o(e,n.payload,n.message):(console.error("Can't find failed message to retry"),void 0)}}}]),angular.module("groupme").service("groupmeEmojiService",["$q","$rootScope","api","Placeholders","sessionService","storageService","Events",function(e,t,n,r,a,i,o){function s(){var e=_.map(c,function(e){return{small:e.meta.inline[2].image_url,preview:e.meta.keyboard[3].image_url}}),t=document.createElement("style"),n="";t.type="text/css",_.each(e,function(e,t){n+=".emoji.pack-"+(t+1)+" {",n+="  background: url("+e.small+") no-repeat left top;",n+="  background-size: 20px auto;",n+="}\n",n+=".embiggen .emoji.pack-"+(t+1)+" {",n+="  background: url("+e.preview+") no-repeat 0 0;",n+="  background-size: 60px auto;",n+="}\n",n+=".emoji-preview .pack-"+(t+1)+" {",n+="  background: url("+e.preview+") no-repeat 0 0;",n+="  background-size: 60px auto;",n+="}\n"}),t.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(t)}function u(e){return _.map(e,function(e){return{text:e.replace(/ /g,"_").replace(/'/g,"").replace(/\./g,"")}})}var l,c,d,p,m=this,f=/:[^\s\/.]+?:/g,h=r.EMOJI,g=!0,v=!1,y=[],b=24;this.hasEmoji=function(e){return e&&e.match(f)},this.getPowerupsStatus=function(){return g},this.replaceEmoji=function(e,t){var n=[],e=e.replace(f,function(e){var r=m.findEmoji(e);return r?(t&&n.push([r.pack,r.glob]),h):e});return{text:e,charmap:n}},this.translateEmoji=function(e){if(!g)return m.getPowerups(),void 0;var t={type:"emoji",placeholder:h,charmap:[]},n=m.replaceEmoji(e.text,!0);e.text=n.text,t.charmap=n.charmap,t.charmap.length&&e.attachments.push(t)},this.findEmoji=function(e){for(var t=0,n=0,r="",a=0;a<l.length;a++){for(var i=0;i<l[a].length;i++)if(r=l[a][i].text,":"+r+":"==e){t=a,n=i;break}if(t)break}return t?{pack:t,glob:n}:!1},this.refreshPacks=function(e){return v=!0,n.get("powerup","/powerups").then(function(t){c=_.where(t.data.powerups,{type:"emoji"}),l=_.map(c,function(e){return u(e.meta.transliterations)}),l.unshift([]);var r="/purchases?scope=user-"+e.id;return n.get("powerup",r)}).then(function(e){var t=e.data.purchases;for(d=_.select(c,function(e){return _.contains(t,e.id)}),p=_.map(d,function(e){return{index:e.meta.pack_id,translations:u(e.meta.transliterations),iconUrl:e.meta.icon[2].image_url}}),v=!1,g=!0,s();y.length;)y.pop().resolve(m.purchasedPacks());return d},function(e){for(console.error("error",e),v=!1;y.length;)y.pop().reject();return g=!1})},this.getPowerups=function(){v||a.currentUser().then(m.refreshPacks).then(function(){g&&t.$broadcast(o.POWERUPS_ONLINE)})},this.updateRecentEmoji=function(e,t){var n,r=[e,t],a=i.get("recentEmojis");return a&&a.isArray?(_.each(a,function(r,a){r[0]===e&&r[1]===t&&(n=a)}),n>=0?a.splice(n,1):a.length===b&&a.pop()):a=[],a.unshift(r),i.set("recentEmojis",a),this.getRecentEmoji()},this.getRecentEmoji=function(){var e,t,n,r,a=i.get("recentEmojis");if(!a)return!1;var o=_.map(a,function(a){try{return e=a[0],t=a[1],n=_.findWhere(p,{index:e}),r=n.translations[t].text,{packIndex:e,emojiIndex:t,emojiText:r}}catch(i){return!1}});return _.reject(o,function(e){return!e})},this.purchasedPacks=function(){var t=e.defer();return p?t.resolve(p):y.push(t),t.promise},this.translations=function(){return l},this.createTranslation=function(e){return u(e)},this.packIcons=function(){return _.map(d,function(e){return _.first(e.meta.icon).image_url})}}]),angular.module("groupme").service("groupsService",["api","$q","mixpanelService","sessionService",function(e,t,n,r){function a(){function e(){return i(a).then(function(t){return t.data.length&&(l.groups=l.groups.concat(t.data),t.data.length==d)?(a++,e()):(r.currentUser().then(function(e){n.peopleSet({"Group Count":l.groups.length,"Total Groups Created":_.where(l.groups,{creator_user_id:e.id}).length})}),o(!0),l.groups)},function(e){return Bugsnag.notify("groupsService#loadAll#nextPage","Groups pagination request failure",{error:e,groups:l.groups,page:a}),o(),t.reject()})}var a=1;return u=s=!0,e()}function i(t){var n={per_page:d,page:t};return e.get("v3","/groups",null,n)}function o(e){for(;c.length;)e?c.pop().resolve(l.groups):c.pop().reject();u=!1}var s,u,l=this,c=[],d=100;this.groups=[],this.all=function(){if(!s)return a();var e=t.defer();return u?c.push(e):e.resolve(l.groups),e.promise},this.reloadAll=function(){return s=null,l.groups=[],l.all()}}]),angular.module("groupme").service("$groups",["api","$q","messageStoreService",function(e,t,n){this.find=function(n){return e.get("v3","/groups/"+n).then(function(e){return e.data},function(){return t.reject()})},this.update=function(n,r){if(!n||n instanceof Object)throw"Update requires a group ID.";return e.post("v3","/groups/"+n+"/update",r).then(function(e){return e.data},function(e){return t.reject(e.errors)})},this.clearHistory=function(r){return e.post("v2","/groups/"+r+"/clear_history").then(function(e){return n.deleteKnownChat(r),e.data},function(e){return t.reject(e.errors)})},this.destroy=function(r){return e.post("v3","/groups/"+r+"/destroy").then(function(e){return n.deleteKnownChat(r),e.data},function(){return t.reject()})}}]),angular.module("groupme").service("guidService",function(){"use strict";function e(){return("0000000"+Date.now().toString(16)).slice(-8)+"-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:8+t%4).toString(16)})}function t(t){t=t||window;var r;try{r=t.localStorage.getItem(n)}catch(a){}if(!r){r=e();try{t.localStorage.setItem(n,r)}catch(a){}}return r}var n="groupme.fingerprint";return{get:t}}),angular.module("groupme").service("imageService",["$q","$http","$rootScope","$translate","api",function(e,t,n,r,a){var i=this;this.maxSize=1e7,this.FileAdded="file:added",this.ImageAttached="image:attached",this.extractExtensionFromURL=function(e){var t=/.(png|jpe?g|gif)(?:\.[a-z0-9]+){0,2}$/i,n=e.match(t);return n&&n[1].toLowerCase()},this.supportedType=function(e){return e.match(/jpe?g|gif|png/i)?!0:!1},this.supportedSize=function(e){return e>this.maxSize?!1:!0},this.uploadByUrl=function(t){var n,o=i.extractExtensionFromURL(t);return o||this.supportedType(o)?(n={"Content-Type":"image/"+o},a.post("image_service","/pictures?url="+encodeURI(t),{url:encodeURI(t)},n).then(function(e){return e.data.payload.url},function(n){return console.error("image url upload error:",t,n),e.reject(n)})):e.reject(r.instant("Services.ImageUpload.Errors.CouldNotExtract",{url:t}))},this.upload=function(t,n){if(!t)return e.reject(r.instant("Services.ImageUpload.Errors.FileNotProvided"));if(!this.supportedType(t.type))return e.reject(r.instant("Services.ImageUpload.Errors.InvalidFileType"));if(!this.supportedSize(t.size))return e.reject(r.instant("Services.ImageUpload.Errors.InvalidFileSize",{size:(this.maxSize/1e6).toFixed(2)}));var i={"Content-Type":t.type},o=n?"/upload":"/pictures";return a.post("image_service",o,t,i).then(function(e){return e.data.payload.url},function(t){return console.error("image upload error:",t),e.reject(r.instant("Services.ImageUpload.Errors.ImageUploadError"))})},this.dataToBlob=function(e){for(var t=atob(e.split(",")[1]),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));return new Blob([new Uint8Array(n)],{type:"image/jpeg"})},this.urlToBase64=function(e){var e=encodeURIComponent(e);return t({method:"GET",url:"/image_content/"+e}).then(function(e){return e.data})}}]),angular.module("groupme").service("importContactsService",["$q","api","$timeout","relationshipService","promptModalService",function(e,t,n,r,a){function i(e,r){return r||(r=50),r>102400?console.log("Timeout expired"):(t.get("v3","/relationships/batch/"+e).then(function(e){return e.data},function(t){503==t.status?(r*=2,n(function(){i(e,r)},r)):(console.error(t),a.alert("Uploading your contacts failed",!0))}),void 0)}this.importFacebookContacts=function(n){var r=e.defer();return t.post("v3","/relationships/import_facebook_contacts",{facebook_access_token:n}).then(function(e){var t=e.data.batch_id;i(t)},function(){r.reject("Uploading your contacts failed. Please try again or email support@groupme.com")}),r.promise},this.importContacts=function(n){n=_.map(n,function(e){return _.extend(e,{guid:Uuid.create().value})});var r=e.defer();return t.post("v3","/relationships/import_contacts",n).then(function(e){var t=e.data.batch_id;i(t)},function(){r.reject("Uploading your contacts failed. Please try again or email support@groupme.com")}),r.promise}}]),angular.module("groupme").service("$inlineDownloader",["$timestamp","$q","api","$sce","processMedia","urlAttributes",function(e,t,n,r,a,i){function o(e){return r.trustAsResourceUrl(e)}function s(e){return n.get("inline_downloader","/info?url="+escape(e))}var u=this;this.process=function(e){var n=t.defer(),r=u.detect(e);return r?this[r](e).then(function(e){return e.template=r,e}):(n.reject("Inline content not found"),n.promise)},this.youtube=function(e){var n,r,e,a,i,s,u,l,c;return n=e.match(/youtube/)?e.match(/(\?|&)v=(.*?)(&|$)/)[2]:e.match(/(youtu\.be\/)(.*)/)[2],u=/t=([0-9|h|m|s]*)(?:\&|$)/,l=/^(?:([0-9]*)h){0,1}(?:([0-9]*)m){0,1}(?:([0-9]*)s){0,1}$/,c=/^([0-9]*)$/,a=e.match(u),a&&((i=a[1].match(l))?(s=i[1]?60*60*i[1]:0,s+=i[2]?60*i[2]:0,s+=i[3]?1*i[3]:0):(i=a[1].match(c))&&(s=i[1]?1*i[1]:0)),e="//www.youtube.com/embed/"+n+"?origin=http://groupme.com",e+=s&&s>0?"&start="+s:"",r={video_url:o(e)},t.when(r)},this.vimeo=function(e){var n=e.match(/vimeo\.com\/([0-9]*)$/)[1],r={video_url:o("//player.vimeo.com/video/"+n)};return t.when(r)},this.newrelic=function(e){return t.when({url:e})},this.tweet=function(t){return s(t).then(function(n){var r=n.data;return r.status_url=t,r.user_url="https://twitter.com/"+r.screen_name,r.created_at=e.generate(r.created_at),r.text=r.text.replace(new RegExp(String.fromCharCode(160),"g")," "),r.text=$.trim(r.text),r.profile_image_url_large=r.profile_image_url.replace("_bigger.","_400x400."),r.media_image_url?a.processImage(r.media_image_url).then(function(e){var t=a.processImageDimensions(e.width,e.height);return r.media_image_width=t.width,r.image_aspect_ratio=t.aspectRatioStr,r}):r})},this.instagram=function(e){return s(e).then(function(e){return e.data})},this.vine=function(e){return s(e).then(function(e){return e.data})},this.imgur=function(e){return s(e).then(function(e){return e.data})},this.pinterest=function(e){return s(e).then(function(e){return e.data})},this.gist=function(e){return s(e).then(function(t){return t.data.url=e.href,t.data})},this.image=function(e){return t.when({image_url:e})},this.link=function(e){return s(e).then(function(t){return t.data.url=e,t.data})},this.gm_join_group=function(e){return t.when({join_url:e.replace(/^https:.*\/join_group/,"/join_group"),url:e})},this.detect=function(e){if(/\s/.test(e))return!1;var t=i.isURL(e),n=t&&a.detectImage(e);if(!t)return!1;switch(t.host){case"twitter.com":case"www.twitter.com":if(t.pathname.match(/\/.*?\/statuse?s?\/[\d]+/))return"tweet";break;case"youtube.com":case"m.youtube.com":case"www.youtube.com":if("/watch"==t.pathname)return"youtube";break;case"youtu.be":return"youtube";case"vimeo.com":if(t.pathname.match(/\/[0-9]+/))return"vimeo";break;case"vine.co":if(t.pathname.match(/\/v\//))return"vine";break;case"www.pinterest.com":case"pinterest.com":if(t.pathname.match(/\/pin\//))return"pinterest";break;case"gist.github.com":if(t.pathname.match(/\/\w+$/))return"gist";break;case"rpm.newrelic.com":if(t.pathname.match(/\/public\/charts/))return"newrelic";break;case"www.instagram.com":case"instagram.com":case"instagr.am":if(t.pathname.match(/\/p\//))return"instagram";break;case"www.imgur.com":case"i.imgur.com":case"imgur.com":if(!t.pathname.match(/\/gallery/))return"imgur"}return t.host!="app."+window.GM.urls.domain&&t.host!="web."+window.GM.urls.domain&&t.host!="www."+window.GM.urls.domain&&t.host!=window.GM.urls.domain||!t.pathname.match(/^\/join_group\//)?n?"image":"link":"gm_join_group"}}]),angular.module("groupme").service("likeService",["api","$push","$q",function(e,t,n){this.unlike=function(t,r){return e.post("v3","/messages/"+t+"/"+r+"/unlike").then(function(e){return e},function(e){return n.reject(e)})},this.like=function(t,r){return e.post("v3","/messages/"+t+"/"+r+"/like").then(function(e){return e},function(){return n.reject()})}}]),angular.module("groupme").service("likesStoreService",[function(){var e=this;this.knownMessages={},this.updateMessageLikes=function(t){if(e.knownMessages[t.id]){if(t.favorited_at<e.knownMessages[t.id].favorited_at)return console.warn("old like push detected"),void 0;e.knownMessages[t.id].favorited_at=t.favorited_at,e.knownMessages[t.id].favorited_by=t.favorited_by}else e.knownMessages[t.id]={favorited_at:t.favorited_at,favorited_by:t.favorited_by}},this.getMessageLikes=function(t){return e.knownMessages[t]?e.knownMessages[t]:void 0}}]),angular.module("groupme").service("loadImageService",["$q","$timeout",function(e,t){var n=15e3;this.load=function(r,a){function i(){t.cancel(o),u.onload=u.onerror=function(){},l.reject({status:408,error:"Image load timeout."})}var o,s,u=new Image,l=e.defer();return u.onload=function(){o&&t.cancel(o),l.resolve(u)},u.onerror=function(){o&&t.cancel(o),l.reject({status:500,error:"Bad Request"})},u.src=r,s=parseInt(a)||n,o=t(i,s),l.promise}}]),angular.module("groupme").service("loadMessagesService",["$q","api","messageStoreService","otherUserService",function(e,t,n,r){function a(n,r,a){if(!n)return e.reject();var i=a?"/direct_messages":"/groups/"+n+"/messages";return r=r||{},r.limit=r.limit||100,t.get("v3",i,null,r).then(function(e){var t=e.data[a?"direct_messages":"messages"];return t&&Array.isArray(t)&&t.reverse(),t},function(t){return e.reject(t)})}function i(e,t){return r.otherUserId(e).then(function(n){return t=t||{},t.other_user_id=n,a(e,t,!0)})}function o(e){return/[\d]+\+[\d]+/.test(e)}this.loadLatest=function(e,t){var n={};return t&&(n.limit=t),o(e)?i(e,n):a(e,n)},this.loadOlder=function(e,t,n){var r={before_id:t};return n&&(r.limit=n),o(e)?i(e,r):a(e,r)},this.loadNewer=function(e,t,n){var r={};return n&&(r.limit=n),o(e)?(r.since_id=t,i(e,r)):(r.after_id=t,a(e,r))}}]),angular.module("groupme").service("loadingSpinnerService",["$modal","GMAssets",function(e){this.showSpinner=function(){return e.open({template:'<img class="img-responsive center-block loading" src="images/gm-loader-top.gif">',backdrop:"static",keyboard:!1,animation:!1,windowClass:"loading-modal"})}}]),angular.module("groupme").service("locationService",["$q","$http",function(e,t){var n="Amf_lkTN0uN2xJw-uuXXlBMj5vWAeZ6Imf6r_sK0eviaTe7e-zWeNx5_aobc3pHZ",r=this;this.geolocation=function(){function t(e){r.resolve(e)}function n(e){1==e.code?r.reject("Geolocation Permission Denied"):1==e.code?r.reject("Geolocation Position Unavailable"):3==e.code?r.reject("Geolocation Position Timeout"):r.reject("Geolocation Unknown Error")}var r=e.defer();return"geolocation"in navigator?(navigator.geolocation.getCurrentPosition(t,n),r.promise):e.reject("No Geolocation Support.")},this.reverseGeolocation=function(r,a){var i,o;return i="https://dev.virtualearth.net/REST/v1/Locations/",i+=r+","+a,o={o:"json",key:n,jsonp:"JSON_CALLBACK"},t({method:"JSONP",url:i,params:o}).then(function(e){return console.warn("Bing good",e),e},function(t){return console.warn("Bing bad",t),e.reject("Error while searching bing",t)})},this.locationByQuery=function(r){var a,i;return a="https://dev.virtualearth.net/REST/v1/Locations/",i={q:r,o:"json",key:n,jsonp:"JSON_CALLBACK"},t({method:"JSONP",url:a,params:i}).then(function(e){return console.warn("Bing good",e),e},function(t){return console.warn("Bing bad",t),e.reject("Error while searching bing",t)})},this.addressAtGeolocation=function(){var t,n,a;return r.geolocation().then(function(i){return t=i.coords.latitude,n=i.coords.longitude,r.reverseGeolocation(t,n).then(function(r){var i,o=r.data.resourceSets;return _.isArray(o)&&o.length&&(i=o[0].resources,_.isArray(i)&&i.length&&(address=i[0].address,address&&(a={lat:t,lng:n,address:address}))),a?a:e.reject("Unable to get address information",r)})})}}]),angular.module("groupme").service("$member",["api","$q",function(e,t){this.remove=function(n,r){return e.post("v2","/groups/"+n+"/memberships/"+r+"/destroy").then(function(e){return e.data},function(){return t.reject()})},this.update=function(t,n,r){return e.post("v2","/groups/"+t+"/memberships/"+n,{membership:r})},this.mute=function(n){return e.post("v2","/groups/"+n+"/memberships/mute").then(function(e){return e.data},function(){return t.reject()})},this.unmute=function(n){return e.post("v2","/groups/"+n+"/memberships/activate").then(function(e){return e.data},function(){return t.reject()})}}]),angular.module("groupme").factory("membershipService",[function(){var e={};return e.find=function(e,t){return _.find(e.members,function(e){return e.user_id==t})},e.all=function(e,t){return _.select(e.members,function(e){return _.contains(t,String(e.user_id))||_.contains(t,e.user_id)})},e.isMuted=function(t,n){var r=e.find(t,n);return r&&r.muted},e}]),angular.module("groupme").service("messageDecorationService",["$q","groupmeEmojiService","$inlineDownloader",function(e,t,n){function r(t){if(t.decoration)return e.when(t);var r,s=p(t.text),u=n.detect(t.text);return t.decoration={text:s?t.text.replace(/^> ?/,""):t.text,isPasted:s,systemMessage:t.system||"system"===t.sender_type},u&&(t.inlineDownloader={type:u},t.decoration.hideText=!0),r=a(t),r?i(t,r):o(t)}function a(e){if(Array.isArray(e.attachments)&&e.attachments.length){var t,n={};return angular.forEach(e.attachments,function(r){switch(r.type){case"emoji":n.emojis=r,t=!0;break;case"mentions":n.mentions=r,t=!0;break;case"video":delete e.inlineDownloader,e.decoration.text=d(e.decoration.text);break;case"linked_image":delete e.inlineDownloader,e.decoration.hideText=!0;break;case"event":if(e.decoration.systemMessage)break;e.decoration.hideText=!0}}),t&&n}}function i(e,t){var n;return t.mentions&&(n=s(e.decoration,t.mentions),n&&n.length&&(e.decoration.textArray=n)),t.emojis&&(n=u(e.decoration,t.emojis),n&&n.length&&(e.decoration.textArray=n)),o(e)}function o(t){function n(e){return!e||1===e.length&&"string"==typeof e[0]?void 0:(o=r.slice(0,u),s=r.slice(u+1),r=o.concat(e).concat(s),d=r.length,u--,!0)}var r,a,i,o,s,u,d;for(t.decoration.textArray||(t.decoration.textArray=[t.decoration.text]),r=t.decoration.textArray,d=r.length,u=0;d>u;u++)a=r[u],"object"!=typeof a&&(i=l(a),n(i)||(i=c(a),!n(i)));return t.decoration.textArray=r,e.when(t)}function s(e,t){if(t.loci){var n,r,a,i,o,s,u,l=t.loci.length,c=[];for(n=l-1;n>=0;n--)r=t.loci[n],a=r[0]+r[1],i=c.length?c.shift():e.text,o=i.slice(0,r[0]),s=i.slice(r[0],a),u=i.slice(a),c.unshift(u),c.unshift({type:"mention",text:s,userId:t.user_ids[n]}),o.length&&c.unshift(o);return c}}function u(e,t){var n,r,a,i=0,o=e.textArray||[e.text];return angular.forEach(t.charmap,function(e){r={type:"emoji",text:t.placeholder,charMap:e};for(var s=i,u=o.length;u>s;s++)if(n=o[s],"string"==typeof o[s]&&(emojiStringIndex=n.search(t.placeholder),-1!==emojiStringIndex)){a=s,beginningText=n.slice(0,emojiStringIndex),endText=n.slice(emojiStringIndex+1),o.splice(a,1),beginningText.length&&(o.splice(a,0,beginningText),a++),o.splice(a,0,r),a++,endText.length&&o.splice(a,0,endText),i=a;break}}),o}function l(e){function t(e){e&&u.push(e)}function n(e,t){u.push({type:"link",url:e.replace(/"/g,"&quot;"),text:t})}if(e){for(var r,a,i,o=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,s=/^mailto:/i,u=[],l=e;r=l.match(o);)a=r[0],r[2]||r[4]||(a=(r[3]?"http://":"mailto:")+a),i=r.index,t(l.substr(0,i)),n(a,r[0].replace(s,"")),l=l.substring(i+r[0].length);return t(l),u.length&&u}}function c(e){function t(e){e&&s.push(e)}function n(e){s.push({type:"hashtag",url:"https://twitter.com/search/"+escape(e),text:e})}if(e){for(var r,a,i,o=/(?:^|\s)(#[A_Za-z0-9]{3,})(?:\s|$)/i,s=[],u=e;r=u.match(o);)a=r[0],i=r.index,t(u.substr(0,i)),n(a),u=u.substring(i+r[0].length);return t(u),s.length&&s}}function d(e){return e?e.replace(/http.*$/,""):void 0}function p(e){if(e){var t=e.trim();return t.match(/\n/)||t.match(/^>/)}return!1}this.process=function(t){if(Array.isArray(t)){var n=[];return angular.forEach(t,function(e){n.push(r(e))}),e.all(n)}return r(t)}}]),angular.module("groupme").service("messageStoreService",["$q","messageDecorationService","messageContinuationService",function(e,t,n){function r(e){var t,n,r=i.cachedChats[e].pushPages.length,a=i.cachedChats[e].dirtyPushes.length;if(a)for(r||(i.cachedChats[e].pushPages.push([]),r=i.cachedChats[e].pushPages.length),t=i.cachedChats[e].pushPages[r-1],n=0;a>n;n++){var o=i.cachedChats[e].dirtyPushes[0],s=parseInt(i.cachedChats[e].pollWaterMarkId);if(!s||o.id>s)break;t.length===i.PAGE_LENGTH&&(i.cachedChats[e].pushPages.push([]),r=i.cachedChats[e].pushPages.length,t=i.cachedChats[e].pushPages[r-1]),t.push(i.cachedChats[e].dirtyPushes.shift())}}function a(e,t){var n=parseInt(i.cachedChats[e].loadWaterMarkId),r=parseInt(i.cachedChats[e].pollWaterMarkId),t=parseInt(t);return t?n>=t?!0:r&&r>=t?!0:!1:!1}var i=this;this.PAGE_LENGTH=20,this.cachedChats={},this.addChat=function(e){i.cachedChats[e]={maxPageSize:i.PAGE_LENGTH,serverPages:[],pushPages:[],dirtyPushes:[]}},this.addServerMessages=function(e,t){function n(t){t.length&&(i.cachedChats[e].serverPages.unshift(t),i.cachedChats[e].oldestId=t[0].id,i.cachedChats[e].loadWaterMarkId||(i.cachedChats[e].loadWaterMarkId=t[t.length-1].id))}if(i.knownChat(e)||i.addChat(e),t&&t.length){var r;if(t.length>20)for(;t.length;)r=t.slice(-20),t=t.slice(0,-20),n(r);else n(t)}},this.addPushedMessage=function(e,r){if(i.knownChat(e)&&(!r.id||!a(e,r.id))){var o;existingDirtyPush=_.findWhere(i.cachedChats[e].dirtyPushes,{source_guid:r.source_guid}),existingDirtyPush?angular.extend(existingDirtyPush,r):i.cachedChats[e].dirtyPushes.push(r),o=_.sortBy(i.cachedChats[e].dirtyPushes,"created_at"),t.process(o).then(function(){var t;angular.forEach(o,function(e){n.process(t,e),t=e}),i.cachedChats[e].dirtyPushes=o})}},this.newPoll=function(e,t){if(i.knownChat(e)){var n=t.length-1;angular.forEach(t,function(t){if(!a(e,t.id)){var n=_.findWhere(i.cachedChats[e].dirtyPushes,{source_guid:t.source_guid});n||i.addPushedMessage(e,t)}}),i.cachedChats[e].pollWaterMarkId=t[n].id}},this.getChatContent=function(e){return i.knownChat(e)?(r(e),i.updatePages(e),i.cachedChats[e]):void 0},this.updatePages=function(e){return i.knownChat(e)?i.cachedChats[e].pages=i.cachedChats[e].serverPages.concat(i.cachedChats[e].pushPages):void 0},this.getOldestId=function(e){return i.cachedChats[e].oldestId},this.knownChat=function(e){return angular.isDefined(i.cachedChats[e])},this.deleteKnownChat=function(e){i.knownChat(e)&&delete i.cachedChats[e]},this.deleteAllKnownChats=function(){i.cachedChats={}},this.isChatEmpty=function(e){return i.knownChat(e)?0==i.cachedChats[e].serverPages.length+i.cachedChats[e].pushPages.length+i.cachedChats[e].dirtyPushes.length:void 0}}]),angular.module("groupme").service("messageContinuationService",["$timestamp",function(e){function t(e){return e.system||"system"===e.sender_type}function t(e){return e.system||"system"===e.sender_type}var n=this;this.process=function(t,r){n.needsTimestamp(t,r)?(r.isContinuation=null,r.formattedTimestamp=e.generate(r.created_at)):n.isContinuation(t,r)?(r.isContinuation=!0,r.formattedTimestamp=null):(r.isContinuation=null,r.formattedTimestamp=null),r.isBookend=!0,t&&(t.isBookend=r.isContinuation?!1:!0)},this.isContinuation=function(e,n){return angular.isDefined(e)&&!t(e)&&!t(n)&&e.user_id===n.user_id},this.needsTimestamp=function(e,t){if(!angular.isDefined(e))return!0;var n=parseInt(e.created_at),r=parseInt(t.created_at);return r-n>300}}]),angular.module("groupme").service("messageDecorationServiceBAK",["groupmeEmojiService","emojiService","Placeholders",function(e,t,n){function r(n,r){if(!n.text||!e.getPowerupsStatus())return n;if(n.text=t.convert(n.text,r),!n.attachments||!n.attachments.length)return n;var a,i,o,s,u=e.translations(),l=n.text;return s=r?60:20,angular.forEach(n.attachments,function(e){"emoji"==e.type&&angular.forEach(e.charmap,function(t){i=u[t[0]][t[1]],klass="emoji pack-"+t[0]+" gm-emoji-"+i.text.replace(/[^a-z0-9_]/,""),o="background-position: 0 -"+t[1]*s+"px",a="<span title=':"+i.text+":' "+"class='"+klass+"' "+"style='"+o+"'></span>",l=l.replace(e.placeholder,a)})}),n.text=l,n}var a=this;this.decorate=function(e,t){return angular.forEach(t,function(t){a[t]&&(e=a[t](e))}),e},this.sanitizeWithPlaceHolders=function(e){return e.text?(e.text=e.text.replace(/</g,n.SANITIZE_LESS_THAN).replace(/>/g,n.SANITIZE_GREATER_THAN),e):e},this.sanitize=function(e){if(!e.text)return e;var t=new RegExp(n.SANITIZE_LESS_THAN,"g"),r=new RegExp(n.SANITIZE_GREATER_THAN,"g");return e.text=e.text.replace(t,"&lt;").replace(r,"&gt;"),e},this.linkify=function(e){if(!e.text)return e;var t=/(((ftp|https?):\/\/)[A-Za-z0-9._%+-\/=?&@!:#]*[^\s.;,(){}<>])/gi,n=e.text;return n=n.replace(t,"<a href='$1' target='_blank'>$1</a>"),e.text=n,e},this.groupmeEmojifyWithEmbiggen=function(e){var t,e=r(e,t);return t&&(e.text="<span class='embiggen'>"+e.text+"</span>"),e},this.groupmeEmojify=function(e){return r(e,!1)},this.hashtagify=function(e){return e.text?(e.text=e.text.replace(/(^|[\s])(#\w{3,})(?=\s|$)/gi,function(e,t,n){return e.match(/#\d+$/)?e:(" "!==t&&(t=""),t+"<a target='_blank' href='https://twitter.com/search/"+escape(n)+"' class='hashtag'>"+n+"</a>")}),e):e},this.mentionify=function(e){if(!e.text||!e.attachments)return e;if(!e.attachments.length)return e;if(e.created_at<1404914e3)return e;
if(mentionAttachment=_.findWhere(e.attachments,{type:"mentions"}),mentionAttachment&&mentionAttachment.loci){var t,n,r,a=mentionAttachment.loci.length,i=e.text;for(t=a-1;t>=0;t--)n=mentionAttachment.loci[t],r=n[0]+n[1],i=[i.slice(0,r),"</span>",i.slice(r)].join(""),i=[i.slice(0,n[0]),'<span class="mention">',i.slice(n[0])].join("");e.text=i}return e},this.stripVideoLink=function(e){return e.text?(_.findWhere(e.attachments,{type:"video"})&&(e.text=e.text.replace(/http.*$/,"")),e):e}}]),angular.module("groupme").service("messageMentionService",["$filter","emojiService","relationshipService","Placeholders",function(e,t,n,r){function a(){n.relationships().then(function(e){i=e})}var i,o=this;o.getUserName=function(e){if(i){var t=_.findWhere(i,{id:e});return t?o.presentable(t.name):null}},o.findMemberByUserId=function(t,n){var r,a;return a=o.setMentions(n),r=e("filter")(a,{user_id:t.toString()},!0),r.length?r[0].nickname:""},o.presentable=function(e){var n=$("<div></div>");return t.convert(n.html(e).text())},o.setMentions=function(e){var t;return $.map(e,function(e){return t=o.presentable(e.nickname),{user_id:e.user_id,nickname:e.nickname,html_nickname:t,image_url:e.image_url}})},o.locateAndPrepareMentions=function(e,t,n){var a,i,s="",u="",l=[];if(!e||!t)return null;if(u=r.MENTIONS_AT_SIGN,u+="["+r.MENTIONS_NAME_CHAR+"]+",u+=r.MENTIONS_SPACE,a=new RegExp(u,"g"),e=e.replace(a,function(e,r){return t[l.length]?(i=o.findMemberByUserId(t[l.length],n),s="@"+i+" ",console.log("replacement name",s)):s=e,l.push([r,e.length-1]),s}),l.length===t.length)return{loci:l,text:e};throw console.error("locations.length and mentionedIds.length are not equal:",l,t),"There is a mismatch between the length of the mentionedIds array and the locations array"},a()}]),angular.module("groupme").service("messageService",["oneOnOneMessageService","groupMessageService",function(e,t){var n=this,r=["create","retry"];angular.forEach(r,function(r){n[r]=function(n){var a=n.group?t:e;return a[r].apply(a,arguments)}})}]),angular.module("groupme").service("messagesService",["$q","messageStoreService","loadMessagesService","pushedMessagesService",function(e,t,n,r){function a(e){return n.loadLatest(e).then(function(n){return r.registerChat(e),t.addServerMessages(e,n),t.getChatContent(e)})}this.loadChat=function(n){if(t.knownChat(n)){var r=t.getChatContent(n);return e.when(r)}return a(n)},this.loadNextPage=function(e){var r=t.getOldestId(e);return n.loadOlder(e,r).then(function(n){return t.addServerMessages(e,n),t.updatePages(e)})}}]),angular.module("groupme").service("mixpanelService",["$window","$q","storageService",function(e,t,n){var r="MixPanelUserProperty";this.identify=function(t){try{var a=n.get(r);a&&void 0!==a["Signup Date"]&&e.mixpanel.alias(t),e.mixpanel.identify(t)}catch(i){Bugsnag.notify("mixpanelService#identify","Unable to call mixpanel.identify()",{error:i,userId:t})}},this.peopleSet=function(n){var r=t.defer();try{e.mixpanel.people.set(n,function(){r.resolve()})}catch(a){return Bugsnag.notify("mixpanelService#peopleSet","Unable to call mixpanel.people.set()",{error:a,data:n}),t.reject()}return r.promise},this.peopleIncrement=function(t,n){try{if("object"==typeof t)e.mixpanel.people.increment(t);else{if("string"!=typeof t)throw'Unsupported value for the "prop" argument';e.mixpanel.people.increment(t,n)}}catch(r){Bugsnag.notify("mixpanelService#peopleIncrement","Unable to call mixpanel.people.increment()",{error:r,prop:t,by:n})}},this.register=function(t){try{e.mixpanel.register(t)}catch(n){Bugsnag.notify("mixpanelService#register","Unable to call mixpanel.register()",{error:n,data:t})}},this.track=function(n,r){var a=t.defer();try{e.mixpanel.track(n,r,function(){a.resolve()})}catch(i){return Bugsnag.notify("mixpanelService#track","Unable to call mixpanel.track()",{error:i,eventType:n,data:r}),t.reject()}return a.promise},this.trackSendMessage=function(e){return this.track("Send Message",e)},this.trackStartGroup=function(e){return this.track("Start Group",e)},this.trackStartChat=function(e){return this.track("Start Chat",e)},this.trackEndSession=function(e){return this.track("End Session",e)},this.trackAddMember=function(e){return this.track("Add Member",e)},this.trackChangeAppSettings=function(e){return this.track("Change App Settings",e)},this.trackOpenAttachments=function(e){return this.track("Open Attachments",e)},this.trackAttachmentSelected=function(e){return this.track("Attachment Selected",e)},this.trackAttachmentCancel=function(e){return this.track("Attachment Cancel",e)},this.trackLoggedOut=function(e){return this.track("Logged Out",e)},this.trackStartDM=function(e){return this.track("Start DM",e)},this.trackRegistrationStarted=function(e){return this.track("Registration Started",e)},this.trackRegistrationDetailsProvided=function(e){return this.track("Registration Details Provided",e)},this.trackRegistrationCompleted=function(e){return this.track("Registration Completed",e)},this.preserveUserProperty=function(e){var t=n.get(r);t||(t={}),_.extend(t,e),n.set(r,t)},this.peopleSetPreserved=function(){var e=n.get(r);return e?this.peopleSet(e).then(function(){return n.kill(r),t.when()}):t.reject()}}]),angular.module("groupme").service("msaAuthenticator",["$q","$location","api","tokenService","sessionService","$window","mixpanelService",function(e,t,n,r,a,i,o){var s=this,u=!1;s.redirectExternal=function(e){i.location.href=e},this.authenticate=function(l){function c(e){e?s.redirectExternal(e):t.url("/signin"),f.reject()}for(var d,p,m,f=e.defer(),h=t.hash().split("&"),g=0,v=h.length;v>g;g++)"access_token"!=h[g].substring(0,"access_token".length)?("error"==h[g].substring(0,"error".length)&&(m=h[g].substring("error".length+1)),void 0!==l||"state"!=h[g].substring(0,"state".length)||(p=decodeURIComponent(h[g].substring("state".length+1)),-1!=p.indexOf("remembermeyes")?l=!0:-1!=p.indexOf("remembermeno")&&(l=!1))):d=decodeURIComponent(h[g].substring("access_token".length+1));return void 0===l&&(l=!1),void 0===d?!a.isMsaUser()||void 0!==m&&0!=m.length?c():(a.destroyMsaUser(),c(i.GM.urls.brochure)):n.post("v2","/registrations/microsoft",{registration:{platform:"Web",microsoft_access_token:d,device_id:"groupme-web-"+Uuid.create().value,microsoft_refresh_token:"skip"},app_id:"groupme-web"}).then(function(e){void 0!==e.data.access_token?(r.setToken(e.data.access_token.access_token,l),a.setCurrentUser(e.data.user),a.setMsaUser(!0),o.peopleSet({"Last Successful Login Date":moment().toISOString()}),t.url("/chats"),f.resolve(e.data.user)):(u=e.data.registration,u.microsoft_access_token=d,t.url("/signup/profile"),f.reject())},function(){c()}),f.promise},this.msaRegistration=function(){return u}}]),angular.module("groupme").service("newGroupFlowService",["$q","$rootScope",function(e){function t(){n.initialState("unknown")}var n=this,r=["create","addMembers","createMember","success"];this.initialState=function(e){return n.group={},n.pendingMember={},n.steps={},n.existingGroup=!1,n.pointOfInitiation=e,n.setStep("create")},this.setStep=function(t){return _.contains(r,t)||e.reject("Step does not exist",t),_.each(r,function(e){n.steps[e]=t===e?!0:!1}),e.when(!0)},this.getStep=function(e){return _.contains(r,e)?n.steps[e]:(console.error("Step doesn't exist:",e),void 0)},this.setExistingGroup=function(){n.existingGroup=!0},this.setGroupAndGoTo=function(e,t){return n.setGroup(e),n.setStep(t)},this.setGroup=function(e){n.group=e},this.getGroup=function(){return n.group},this.createPendingMember=function(e){return n.pendingMember={name:e},n.setStep("createMember")},this.clearPendingMember=function(){return n.pendingMember={},n.setStep("addMembers")},t()}]),angular.module("groupme").service("newGroupMembersService",[function(){var e=this,t={userIds:{},emailAddresses:{},phoneNumbers:{}};this.list=[],this.clear=function(){this.list=[],t.userIds={},t.emailAddresses={},t.phoneNumbers={}},this.addMember=function(n,r){var a={};if(n.name&&(n.user_id||n.email||n.phone_number)){if(n.user_id){if(t.userIds[n.user_id])return;a.user_id=n.user_id}if(n.email){if(t.emailAddresses[n.email])return;a.email=n.email}if(n.phone_number){if(t.phoneNumbers[n.phone_number])return;a.phone_number=n.phone_number}r&&(a.addMethod=r),a.name=n.name,a.guid=Uuid.create().value,e.list.push(a),a.user_id&&(t.userIds[a.user_id]=!0),a.email&&(t.emailAddresses[a.email]=!0),a.phone_number&&(t.phoneNumbers[a.phone_number]=!0)}},this.removeMember=function(n){e.list=_.reject(e.list,function(e){return e.guid===n.guid||n.user_id&&e.user_id===n.user_id||n.email&&e.email===n.email||n.phone_number&&e.phone_number===n.phone_number?(e.user_id&&(t.userIds[e.user_id]=!1),e.email&&(t.emailAddresses[e.email]=!1),e.phone_number&&(t.phoneNumbers[e.phone_number]=!1),!0):!1})},this.isMemberAdded=function(e){return e.user_id&&t.userIds[e.user_id]?!0:e.email&&t.emailAddresses[e.email]?!0:e.phone_number&&t.phoneNumbers[e.phone_number]?!0:!1}}]),angular.module("groupme").service("nicknamesService",["emojiService",function(e){this.nickname=function(t){return t?e.convert(t):void 0},this.toSentence=function(e){switch(e.length){case 0:return"";case 1:return e[0];case 2:return e[0]+" and "+e[1];default:return e.slice(0,-1).join(", ")+", and "+e[e.length-1]}}}]),angular.module("groupme").factory("oneOnOneMessageService",["$q","api","$push","sessionService","messageStoreService","chatsService",function(e,t,n,r,a,i){function o(n,r,a){return t.post("v3","/direct_messages",{direct_message:r}).then(function(e){return a.id=e.data.direct_message.id,a.loading=!1,a.failed=!1,a.created_at=e.data.direct_message.created_at,u[a.source_guid]=null,a},function(){return a.loading=!1,a.failed=!0,u[a.source_guid]={payload:r,message:a},e.reject(a)})}function s(e,t){var n=e.id.split("+");return n[0].toString()!==t.id.toString()?n[0]:n[1]}var u={};return{create:function(e,t){return r.currentUser().then(function(n){angular.extend(t,{recipient_id:s(e,n)});var r={text:t.text,name:n.name,avatar_url:n.image_url,user_id:n.id,attachments:t.attachments,source_guid:Uuid.create().value,created_at:moment().unix()};return t.source_guid=r.source_guid,a.addPushedMessage(e.id,r),i.updateLastMessage(e.id,r),o(e,t,r)})},retry:function(e,t){var n=u[t];return n?o(e,n.payload,n.message):(console.error("Can't retry bc there is no failed message"),void 0)},clearHistory:function(n){return r.currentUser().then(function(e){var r={other_user_id:s(n,e)};return t.post("v2","/direct_messages/clear_history",r)}).then(function(e){return a.deleteKnownChat(n.id),e.data},function(){return e.reject()})}}}]),angular.module("groupme").service("oneOnOneService",["api","$q","mixpanelService",function(e,t,n){function r(){function e(){return s.page(r++).then(function(r){return r.length&&(s.dms=s.dms.concat(r),r.length==s.perPage)?e():(n.peopleSet({"DM Count":s.dms.length}),a(!0),t.when(s.dms))},function(e){Bugsnag.notify("oneOnOneService#loadAll#nextPage","DM pagination request failure",{error:e,DMs:s.dms,page:r}),a()})}o=i=!0;var r=1;return e()}function a(e){for(;u.length;)e?u.pop().resolve(s.dms):u.pop().reject();o=!1}var i,o,s=this,u=[],l={};this.dms=[],this.perPage=100,this.all=function(){i||r();var e=t.defer();return o?u.push(e):e.resolve(s.dms),e.promise},this.reloadAll=function(){return i=null,s.dms=[],s.all()},this.page=function(n){return n||(n=1),e.get("v3","/chats?page="+n+"&per_page="+s.perPage).then(function(e){return e.data},function(){return t.reject()})},this.find=function(n){return e.get("v2","/chats/"+n).then(function(e){return e.data},function(){return t.reject()})},this.setStartDMTelemetryPayload=function(e,t){l[e]=t},this.getStartDMTelemetryPayload=function(e){return l[e]||{}},this.clearStartDMTelemetryPayload=function(e){delete l[e]}}]),angular.module("groupme").service("otherUserService",["sessionService","relationshipService",function(e,t){var n=this;this.find=function(e){return n.otherUserId(e).then(function(e){return t.find(e)})},this.otherUserId=function(t){return e.currentUser().then(function(e){var n=t.split("+");return n[0].toString()!==e.id.toString()?n[0]:n[1]})}}]),angular.module("groupme").service("pageTitleService",[function(){var e=this;e.text="GroupMe",this.set=function(t){return e.timer&&window.clearInterval(e.timer),document.title=e.text=t},this.flash=function(t){return e.alternativeText=t,e.timer&&window.clearInterval(e.timer),e.timer=window.setInterval(e.toggle,1e3)},this.stopFlash=function(){return e.text&&e.set(e.text)},this.toggle=function(){return document.title=document.title===e.text?e.alternativeText:e.text}}]),angular.module("groupme").run(["pageTitleService","focusService",function(e,t){t.onFocus("pageTitle",function(){e.stopFlash()})}]),angular.module("groupme").service("passwordResetService",["api","$q",function(e,t){var n=this;this.username=null,this.email=null,this.create=function(a){return e.post("v2","/email_password_resets",r(a)).then(function(e){return n.username=a,e.data.email},function(e){return t.reject(e)})},this.reset=function(n,r,a){var i={user_id:n,password_reset_token:r,password:a};return e.post("v2","/email_password_resets/reset",i).then(function(e){return e},function(e){return t.reject(e)})};var r=function(e){return e.indexOf("@")>-1?{email:e}:{phone_number:e}}}]),angular.module("groupme").service("performAfterAuth",["$location","$cacheFactory",function(e,t){var n=t("performAfterAuth"),r="after_auth_action",a=function(){e.url("/chats")};this.get=function(){return n.get(r)},this.set=function(e){n.put(r,e)},this.run=function(){var e=n.get(r);e?(n.remove(r),e()):a()}}]),angular.module("groupme").service("phoneNumberService",["api",function(e){this.create=function(t){var n="phone_number_changes",r={phone_number:t};return e.post("v2",n,r)},this.confirm=function(t){var n="phone_number_changes/"+this.phoneNumberChangeId()+"/confirm",r={pin:t};return e.post("v2",n,r)},this.phoneNumber=function(){return this._phoneNumber},this.setPhoneNumber=function(e){this._phoneNumber=e},this.phoneNumberChangeId=function(){return this._phoneNumberChangeId},this.setPhoneNumberChangeId=function(e){this._phoneNumberChangeId=e}}]),angular.module("groupme").factory("pingService",["$rootScope","api","$cookie","tokenService","$document","Events","$http",function(e,t,n,r,a,i,o){function s(){g=!n.get(S),h(),e.$on(i.USER_ACTIVE,function(){y=!0}),a.on("click",function(){y=!0})}function u(){return(new Date).getTime()}function l(){return(u()-b)/1e3}function c(){e.$emit(i.USER_OFFLINE)}function d(t){function n(){p()?f().then(m):m()}r.token()&&(t?n():e.$$phase?n():e.$apply(n))}function p(){return g&&y&&l()>k}function m(){g?T.check().then(function(t){-1===t.data.ping.ttl&&e.$broadcast(i.USER_INACTIVE)},c):T.cheapCheck().then(null,c)}function f(){return T.update().then(function(){y=!1,b=u()},c)}function h(){v||(v=setInterval(d,1e3*w),d(!0))}var g,v,y=!0,b=0,w=60,k=300,M=1200,S="pings-disabled",T={update:function(){return t.post("v3","/web_pings",{ttl:M})},destroy:function(){return t.post("v3","/web_pings/destroy")},check:function(){return t.get("v3","/web_pings")},cheapCheck:function(){return o({method:"HEAD",url:"/images/favicon.ico"})}},L={pingOn:function(e,t){_.each(t,function(t){var n=e[t];e[t]=function(){return y=!0,n.apply(e,arguments)}})},stop:function(){return g=!1,T.destroy().then(null,function(){return console.log("Could not destroy web ping"),"Could not destroy web ping"})},isEnabled:function(){return g},enable:function(){g=!0,y=!0,n.clear(S),d()},disable:function(){this.stop(),b=0,n.set(S,!0,{expires:3650})}};return s(),L}]),angular.module("groupme").service("pluralisationService",["Translations",function(e){function t(e){"use strict";var t,n,r;if(n=arguments.length,void 0===e)return s(!1,"string to format is undefined."),void 0;if(r=e.match(/\{\d+\}/g),null!==r){if(n-1!==r.length)return s(!1,e+"is not provided with the correct number of pameters."),void 0;for(t=1;n>t;t++)e=e.replace("{"+t+"}",arguments[t])}return e}function n(e,t,n){"use strict";var a,i,o,u,l;if(l="||",a=e.split(l),i=t.split(l),a.length!==i.length)return s(!1,"The string ("+e+") doesn't match the interval ("+t+")."),void 0;for(u=a.length,o=0;u>o;o++)if(r($.trim(i[o]),n))return a[o];return s(!1,"No match found for number "+n+" in range "+t),void 0}function r(e,t){"use strict";var n,r,o,s,u,l,c,d;for(c=",",u="*",d="-",n=e.split(c),o=n.length,r=0;o>r;r++)if(s=$.trim(n[r]),s.match(d)){if(l=s[0]===u,l&&(s=s.substring(1)),a(s,t,l))return!0}else if(s[0]===u){if(i(s,t))return!0}else if(s==t)return!0;return!1}function a(e,t,n){"use strict";var r,a,i,u;if(r=t,u="-",a=e.split(u),2!==a.length)return s(!1,"The range ("+e+") is not in the correct format."),!1;if(i=a[0],n){if(a[0].length!==a[1].length)return s(!1,"The range ("+e+") is not in the correct format."),!1;r=o(t,a[0].length)}return r>=i?a[1]?(i=a[1],i>=r):!0:!1}function i(e,t){"use strict";var n,r;return n=e.substring(1),r=o(t,n.length),n==r}function o(e,t){"use strict";var n,r;for(n=10,r=0;t-1>r;r++)n=10*n;return e%n}function s(e,t){console.error(t)}this.pluralise=function(r,a){if(!r)return console.error("pluralisationService: translation path is missing"),"";for(var i=r.split("."),o=i.length,s=e.translations,u=0;o-1>u;u++){if(void 0===s[i[u]])return console.error("pluralisationService: translation path not found: "+r),"";s=s[i[u]]}return void 0===s[i[o-1]]?(console.error("pluralisationService: translation path not found: "+r),""):void 0===s[i[o-1]+"_Ranges"]?(console.error("pluralisationService: _Ranges for translation path not found: "+r),""):t(n(s[i[i.length-1]],s[i[i.length-1]+"_Ranges"],a),a)}}]),angular.module("groupme").factory("popularService",["api","$q",function(e,t){var n=["day","week","month"];return{isPeriodValid:function(e){return _.contains(n,e)},getDefaultPeriod:function(){return n[0]},likes:function(n,r){return e.get("v3","/groups/"+n+"/likes?period="+r).then(function(e){return e.data.messages},function(){return t.reject()})},myLikes:function(n){return e.get("v3","/groups/"+n+"/likes/mine").then(function(e){return e.data.messages},function(){return t.reject()})},likedByOthers:function(n){return e.get("v3","/groups/"+n+"/likes/for_me").then(function(e){return e.data.messages},function(){return t.reject()})}}}]),angular.module("groupme").service("processMedia",["$q","$timeout","urlAttributes",function(e,t,n){function r(t){var n,r,o;return(n=_.findWhere(t.attachments,{type:"image"}))?a(t,n):(r=_.findWhere(t.attachments,{type:"linked_image"}))?a(t,r):(o=i.detectImage(t.text),o?i.createImageAttachment(t):e.when(t))}function a(t,n){if(!n)return e.when(t);var r,a;return r=n.url.match(/com\/(\d+)x(\d+)./),r&&(a=i.processImageDimensions(r[1],r[2]),n.width=a.width,n.aspectRatio=a.aspectRatioStr),e.when(t)}var i=this;this.process=function(t){if(t.isArray){var n=[];return t.forEach(function(e){n.push(r(e))}),e.all(n)}return r(t)},this.processImageDimensions=function(e,t,n,r){var a,i=t/e,r=r||400;return!n&&t>r&&(a=r/i),{aspectRatioStr:100*i+"%",width:a||e,height:a?r:t}},this.processImage=function(n){function r(){t.cancel(a),i.onload=i.onerror=function(){},o.reject({status:408,error:"Image load timeout."})}var a,i=new Image,o=e.defer();return i.onload=function(){a&&t.cancel(a),o.resolve(i)},i.onerror=function(){a&&t.cancel(a),o.reject({status:500,error:"Bad Request"})},i.src=n,a=t(r,5e3),o.promise},this.detectImage=function(e){var t=n.isURL(e);return t?$.trim(t.pathname).match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)||"i.groupme.com"==$.trim(t.host)||$.trim(e).match(/^[^\s]+\.(png|jpg|jpeg|gif|tiff|bmp)$/i)?!0:!1:!1},this.createImageAttachment=function(e){return i.processImage(e.text).then(function(t){var n=i.processImageDimensions(t.width,t.height);return e.attachments=_.reject(e.attachments,function(e){return"image"==e.type}),e.attachments.push({type:"image",external:!0,url:e.text,width:n.width,aspectRatio:n.aspectRatioStr}),e.text=null,e},function(t){return 408===t.status&&(e.attachments=_.reject(e.attachments,function(e){return"image"==e.type}),e.attachments.push({type:"image",external:!0,timedout:!0})),e})}}]),angular.module("groupme").service("promptModalService",["$q","$modal","$translate","GMAssets",function(e,t,n,r){this.confirm=function(a){var i=e.defer();return t.open({templateUrl:"views/confirm.html?version="+r.version,backdrop:"static",keyboard:!1,animation:!1,size:"xs",windowClass:"prompt-modal confirm-modal modal-centered",controller:"ConfirmModalController",resolve:{question:function(){return a||n.instant("Modals.Confirm.AreYouSure")}}}).result.then(function(e){i.resolve(e.confirmed)},function(){i.resolve(!1)}),i.promise},this.alert=function(n,a,i){var o=e.defer();return t.open({templateUrl:"views/alert.html?version="+r.version,backdrop:"static",keyboard:!1,animation:!1,size:"xs",windowClass:"prompt-modal alert-modal modal-centered",controller:"AlertModalController",resolve:{message:function(){return n||""},showSupport:function(){return a},buttonText:function(){return i||""}}}).result.then(function(){o.resolve()},function(){o.resolve()}),o.promise}}]),angular.module("groupme").service("$push",["tokenService","$rootScope","$timeout","Events",function(e,t,n,r){function a(){u.client().disable("autodisconnect"),u.client().bind("transport:down",function(){console.error("Transport is DOWN."),t.$apply(function(){t.pushStatus="DOWN"})}),u.client().bind("transport:up",function(){console.warn("Transport is UP."),t.$apply(function(){t.pushStatus="Up."})}),"test"==window.GM.env&&(window.receivePush=l.receiveMessage)}function i(e){console.debug("init push service ping");var t=!0;o();var n=function(){return experimental&&console.warn("broadcasting ping"),t?(u.publish(e,{type:"ping"}),t=!1,void 0):(experimental&&console.error("!!! - Ping round trip failed. Resetting Push Client."),l.resetToken(),void 0)};l.on("ping",function(){experimental&&console.warn("received ping"),t=!0}),f=setInterval(n,m),n()}function o(){f&&(clearInterval(f),f=null,l.off("ping"))}function s(e){if("ping"!==e.type){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return l.knownPushes=l.knownPushes||{},l.knownPushes[t]?(experimental&&console.warn("Dupe Detected. Bail"),!0):(l.knownPushes[t]=e,void 0)}}var u,l=this;t.$evalAsync(function(){u=new GroupmePushClient(e.token()),experimental&&(window.pushService=this,window.pushClient=u,window.fayeClient=u.client()),l.removeTyping=u.removeTyping,a()}),window.GroupmePushClient.baseUri=window.GM.urls.push,window.GroupmePushClient.logLevel="debug";var c={},d=0,p=["like.create","line.create","direct_message.create","typing","favorite","membership.create","ping"],m=3e4,f=null;this.resetToken=function(){console.warn("Resetting push token."),u.apiToken||(u.apiToken=e.token()),u.reinit(),experimental&&(window.fayeClient=u.client())},this.subscribe=function(e){return e=e.replace("+","_"),u.subscribe(e,{message:function(t){t.channel=e,l.receiveMessage(t)},success:function(){console.debug("Successfully connected to push channel "+e),e.match(/\/user\//)&&(i(e),t.$apply(function(){t.pushStatus=0==d?"Connected.":"Connected after "+(d+1)+" tries."})),d=0},error:function(r){console.error("Could not connect to "+e+": "+r.message,r),e.match(/\/user\//)&&(t.pushStatus="Connection Error."),d++<5&&n(function(){e.match(/\/user\//)&&(t.pushStatus="Reconnecting."),console.debug("Retrying connection to "+e),l.subscribe(e)},1e3)}})},this.unsubscribe=function(e){e=e.replace("+","_"),console.debug("Disconnecting from "+e),e.match(/\/user\//)&&o();try{return u.unsubscribe(e)}catch(t){console.error("Unable to disconnect from "+e,t)}},this.on=function(e,t,n){n=n||{},n.silent||console.debug("Adding listener for "+e),n.callback=t,n.slug=g(e),n.slug&&(e=e.replace("."+n.slug,"")),h(e,n)},this.off=function(e,t){t=t||{},t.silent||console.debug("Removing listener for "+e);var n=g(e);n?(e=e.replace("."+n,""),c[e].reject(function(e){return e.slug==n})):c[e]=[]},this.setLogLevel=function(e){u.logLevel=e},this.receiveMessage=function(e){if(t.$emit(r.USER_ONLINE),!c[e.type]){if("subscribe"==e.type)return null;console.debug("Ignoring unregistered "+e.type+" event",e)}s(e)||angular.forEach(c[e.type],function(n){if(!n.condition||n.condition(e.subject,e)){var r=function(){n.callback(e.subject||e,e)};t.$$phase?r():t.$apply(r)}})},this.bindTyping=function(e,t,n){var r="";t.toString().match(/\+/)?(t=t.replace("+","_"),r="/direct_message/"+t):r="/group/"+t,u.bindTyping(e,r,n)};var h=function(e,t){c[e]=c[e]||[],t.slug&&c[e].reject(function(e){return e.slug==t.slug}),c[e].push(t)},g=function(e){var t,n;return angular.forEach(p,function(r){t=e.split(r),t[1]&&(n=t[1].substring(1))}),n}}]),angular.module("groupme").service("pushedMessagesService",["messageStoreService","likesStoreService","loadMessagesService","$push",function(e,t,n,r){function a(t){var r=setInterval(function(){n.loadLatest(t,50).then(function(n){e.newPoll(t,n)})},3e4);u.push(r)}function i(e){var t,n;n=/\+/.test(e),t=n?"/direct_message/":"/group/",t+=e,r.subscribe(t),l.push(t),o(e),s(e)}function o(t){var n,a;a=/\+/.test(t),n=a?"direct_message.create":"line.create",n+="."+t,r.on(n,function(n){e.addPushedMessage(t,n)},{condition:function(e){var n=a?e.chat_id:e.group_id;return n===t}}),c.push(n)}function s(e){var n,a;a=/\+/.test(e),n=a?"like.create":"favorite",n+=".store."+e,r.on(n,function(e){var n=a?e.direct_message:e.line;t.updateMessageLikes(n)},{condition:function(t){var r;try{return r=a?t.direct_message.chat_id:t.line.group_id,r===e}catch(i){return Bugsnag.notifyException(i,"registerLikeCreate Push Condition",{pushCondition:{pushEvent:n,chatId:e,isDM:a,message:t}}),!1}}}),c.push(n)}var u=[],l=[],c=[];this.registerChat=function(e){i(e),a(e)},this.removeAllListeners=function(){angular.forEach(u,function(e){clearInterval(e)}),angular.forEach(l,function(e){r.unsubscribe(e)}),angular.forEach(c,function(e){r.off(e)})}}]),angular.module("groupme").service("recentContactsService",["$q","relationshipService","oneOnOneService","sharedGroupsService","Translations",function(e,t,n,r,a){var i=6;this.getRecentContacts=function(o){return e.all({relationships:t.relationships(),dms:n.all(),shared:r.computeForAllContacts()}).then(function(t){var n=_.indexBy(t.dms,function(e){return e.other_user.id}),s=_.filter(t.relationships,function(e){return!e.blocked});return o&&o.skipIds&&(s=_.filter(s,function(e){return-1==o.skipIds.indexOf(e.user_id)})),s.sort(function(e,t){var i=(r.known[e.user_id]?r.known[e.user_id].length:0)+(n[e.user_id]?1:0),o=(r.known[t.user_id]?r.known[t.user_id].length:0)+(n[t.user_id]?1:0);return i!=o?o-i:e.name.localeCompare(t.name,a.lang)}),e.when(_.first(s,i))})}}]),angular.module("groupme").service("reflectionService",["$rootScope",function(e){this.printWatcherCount=function(t){t=t||e;var n,r,a=0,i=t,o=t;do if((n=i.$$watchers)&&(a+=n.length),!(r=i.$$childHead||i!==o&&i.$$nextSibling))for(;i!==o&&!(r=i.$$nextSibling);)i=i.$parent;while(i=r);console.log("Watcher count is ",a)}}]),angular.module("groupme").service("registrationValidator",[function(){function e(e){return e[0].toUpperCase()+e.substring(1).replace(/_/g," ")}function t(e){return!e||/^\s*$/.test(e)}this.validate=function(n){var r=[];return _.each(["name","email","phone_number","password"],function(a){t(n[a])&&r.push(e(a)+" can't be blank")}),r.length?r:void 0}}]),angular.module("groupme").service("relationshipService",["$q","$translate","api","mixpanelService","Translations",function(e,t,n,r,a){function i(){function t(r){return o(r).then(function(e){if(e.data.length){var r=_.last(e.data);if(n!=r.updated_at_iso8601)return n=r.updated_at_iso8601,d.known=d.known.concat(e.data),t(r.updated_at_iso8601)}return u(),s(!0),d.updatedAt=moment().unix(),d.known},function(){return console.error("Failed to load all relationships."),s(),e.reject()})}var n=null;return c=l=!0,t()}function o(e){var t={include_blocked:!0};return e&&(t.since=e),n.get("v4","/relationships",null,t)}function s(e){for(;p.length;)e?p.pop().resolve(d.known):p.pop().reject();c=!1}function u(){var e=_.reject(d.known,function(e){return e.blocked}),t=Array.isArray(e)?e.length:0,n=d.known.length-t;r.peopleSet({"Relationship Count":t,"Blocked Count":n})}var l,c,d=this,p=[];this.known=[],this.relationships=function(){if(!l)return i();var t=e.defer();return c?p.push(t):t.resolve(d.known),t.promise},this.find=function(t){return d.relationships().then(function(){var n=_.findWhere(d.known,{user_id:t});return n?n:e.reject("Could not find relationship:",t)})},this.updateBlock=function(t,n){return d.relationships().then(function(){var r=_.findWhere(d.known,{user_id:t});return r?(r.blocked=n,d.updatedAt=moment().unix(),r):e.reject("Could not find relationship to update blocked:",otherUserId)})},this.decodeRelationshipReason=function(e){if(128&e.reason)return e.user_id==GM.ids.bots.tay?a.lang.match(/^en-/)?"Chatbot w/ no chill tay.ai/#about":t.instant("Directives.GMContactsList.RelationshipReason.TayBot"):t.instant("Directives.GMContactsList.RelationshipReason.MutualGroup");if(2&e.reason)return t.instant("Directives.GMContactsList.RelationshipReason.PhoneContact");if(16&e.reason)return t.instant("Directives.GMContactsList.RelationshipReason.FacebookFriends");if(8&e.reason)return t.instant("Directives.GMContactsList.RelationshipReason.TwitterFriends");if(1&e.reason)return t.instant("Directives.GMContactsList.RelationshipReason.MutualGroup");switch(e.reason){case 4:return t.instant("Directives.GMContactsList.RelationshipReason.RequestApproved");case 32:return t.instant("Directives.GMContactsList.RelationshipReason.FoursquareFriends");case 64:return t.instant("Directives.GMContactsList.RelationshipReason.DirectMessage");default:return""}}}]),angular.module("groupme").service("removeRelationshipService",["$q","api",function(e,t){this.remove=function(n){return t.post("v2","/relationships/"+n+"/remove").then(function(e){return e.data},function(){return e.reject()})}}]),angular.module("groupme").service("searchTrayListService",[function(){this.query="",this.clearQuery=function(){this.query=""}}]),angular.module("groupme").service("session",["$rootScope","currentChatsService","storageService","Events",function(e,t,n){n.kill("currentChats")}]),angular.module("groupme").service("sessionService",["$q","$location","$rootScope","authenticatingStatusService","tokenService","$push","pingService","storageService","settingsService","$interval","mixpanelService","MaxActiveChats","$user",function(e,t,n,r,a,i,o,s,u,l,c,d,p){function m(e){var t=y?"resolve":"reject";e[t](y)}function f(){var e=function(){return Array.apply(null,new Array(d)).map(function(){return 0})},t=v();b=s.get(M),b?((new Date).valueOf()-b.LastTimeStamp>=C+3e3&&Bugsnag.notify("EndSessionInactivityThreshold","The EndSession mixPanel event data was found in local storage",{EndSessionAggregates:b,Configuration:{Threshold:C}}),b.LastTimeStamp=(new Date).valueOf(),void 0===b.MessagesSentInPane&&(b.MessagesSentInPane=e()),void 0===b.MessagesReceived&&(b.MessagesReceived=0),void 0===b.GroupsOpened&&(b.GroupsOpened={}),void 0===b.DMsOpened&&(b.DMsOpened={}),void 0===b.ActiveGroups&&(b.ActiveGroups={}),void 0===b.ActiveDMs&&(b.ActiveDMs={}),void 0===b.GroupsCreated&&(b.GroupsCreated=0),void 0===b.DMsCreated&&(b.DMsCreated=0),void 0===b.AddedMembers&&(b.AddedMembers=0),void 0===b.SessionStartScreen&&(b.SessionStartScreen=t),void 0===b.SessionEndScreen&&(b.SessionEndScreen=t)):b={StartedAt:(new Date).valueOf(),LastTimeStamp:(new Date).valueOf(),MessagesReceived:0,GroupsOpened:{},DMsOpened:{},ActiveGroups:{},ActiveDMs:{},GroupsCreated:0,DMsCreated:0,AddedMembers:0,MessagesSentInPane:e(),SessionStartScreen:t,SessionEndScreen:t},s.set(M,b)}function h(t){var n=e.defer(),r=t?b:s.get(M);return r&&(t||(new Date).valueOf()-r.LastTimeStamp>=C)?(c.trackEndSession({Duration:Math.round(((t?(new Date).valueOf():r.LastTimeStamp+S/2)-r.StartedAt)/1e3),"Messages Received in Session":void 0!==r.MessagesReceived?r.MessagesReceived:0,"Messages Sent":void 0!==r.MessagesSentInPane?r.MessagesSentInPane[0]+r.MessagesSentInPane[1]+r.MessagesSentInPane[2]:0,"Groups opened":void 0!==r.GroupsOpened?_.size(r.GroupsOpened):0,"DMs opened":void 0!==r.DMsOpened?_.size(r.DMsOpened):0,"Active Groups":void 0!==r.ActiveGroups?_.size(r.ActiveGroups):0,"Active DMs":void 0!==r.ActiveDMs?_.size(r.ActiveDMs):0,"Groups created":void 0!==r.GroupsCreated?r.GroupsCreated:0,"DMs created":void 0!==r.DMsCreated?r.DMsCreated:0,"Members added by user":void 0!==r.AddedMembers?r.AddedMembers:0,"Messages sent in pane 1":void 0!==r.MessagesSentInPane?r.MessagesSentInPane[0]:0,"Messages sent in pane 2":void 0!==r.MessagesSentInPane?r.MessagesSentInPane[1]:0,"Messages sent in pane 3":void 0!==r.MessagesSentInPane?r.MessagesSentInPane[2]:0,"Multichat on":u.get("multiChat")?"on":"off","Session Start Screen":void 0!==r.SessionStartScreen?r.SessionStartScreen:"blank chat","Session End Screen":void 0!==r.SessionEndScreen?r.SessionEndScreen:"blank chat"}).finally(function(){n.resolve()
}),s.kill(M),n.promise):(n.resolve(),n.promise)}function g(e){var t=e.split("+");if(2!=t.length)return console.error("Wrong DM id format"),void 0;var n=parseInt(t[0]),r=parseInt(t[1]);return isNaN(n)||isNaN(r)?(console.error("Wrong DM id format"),void 0):n==r?(console.error("Wrong DM id format"),void 0):r>n?""+n+"+"+r:""+r+"+"+n}function v(){var e=t.path();return e.match(/^\/chats\/\d+$/)?"group chat":e.match(/^\/chats\/\d+\+\d+$/)?"dm chat":e.match(/^\/chats/)?"blank chat":e.match(/^\/contact\//)?"contacts":e.match(/^\/archive\//)?"archive":e.match(/^\/settings/)?"app settings":"other"}var y,b,w=[],k=!1,M="MixPanelEndSession",S=3e4,T="MsaUser",L=null,C=6e4;this.setMsaUser=function(e){s.set(T,e)},this.isMsaUser=function(){return s.get(T)},this.destroyMsaUser=function(){s.kill(T)},this.setCurrentUser=function(e){for(k=!0,L&&(l.cancel(L),L=null),h(!1),e&&"object"==typeof e&&(y=e,y.image_url=y.image_url||y.avatar_url,i.resetToken(),i.subscribe("/user/"+e.id),f(),L=l(function(){b.LastTimeStamp=(new Date).valueOf(),s.set(M,b)},S),i.on("line.create",function(t){t.sender_id!=e.id&&(b.MessagesReceived++,b.ActiveGroups["group"+t.group_id]=1)}),i.on("direct_message.create",function(t){if(t.sender_id!=e.id){b.MessagesReceived++;var n=g(t.chat_id);void 0!==n&&(b.ActiveDMs["dm"+n]=1)}}),n.$on("$routeChangeSuccess",function(){b.SessionEndScreen=v()}));w.length;)m(w.pop())},this.currentUser=function(){var t=e.defer();return r.get()?w.push(t):k?m(t):(a.clearToken(),t.reject()),t.promise},this.getCurrentUser=function(){return y},this.refreshCurrentUser=function(){return p.me({force:!0}).then(function(t){return t&&"object"==typeof t&&(y=t,y.image_url=t.image_url||t.avatar_url),e.when()})},this.signOut=function(){return b||(b=s.get(M),b||Bugsnag.notify("SignOutWithoutSessionAggregates","signOut was called and the session aggregates were found neither in memory nor in storage",{})),b&&(b.LastTimeStamp=(new Date).valueOf()),h(!0).finally(function(){return c.trackLoggedOut().finally(function(){return o.stop().finally(function(){a.clearToken();try{i.unsubscribe("/user/"+y.id)}catch(e){console.debug("Failed to unsubscribe from user")}y=k=null})})})},this.increaseGroupsOpened=function(e){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.GroupsOpened["group"+e]=1,void 0)},this.increaseDMsOpened=function(e){if(void 0===b)return console.error("MixPanel EndSession aggregates not initialised"),void 0;var t=g(e);void 0!==t&&(b.DMsOpened["dm"+t]=1)},this.increaseActiveGroups=function(e){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.ActiveGroups["group"+e]=1,void 0)},this.increaseActiveDMs=function(e){if(void 0===b)return console.error("MixPanel EndSession aggregates not initialised"),void 0;var t=g(e);void 0!==t&&(b.ActiveDMs["dm"+t]=1)},this.increaseGroupsCreated=function(e){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.GroupsCreated+=e,void 0)},this.increaseDMsCreated=function(e){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.DMsCreated+=e,void 0)},this.increaseAddedMembers=function(e){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.AddedMembers+=e,void 0)},this.increaseMessagesSentInPane=function(e,t){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.MessagesSentInPane[e]+=t,void 0)},this.setEndScreenInfo=function(e){return void 0===b?(console.error("MixPanel EndSession aggregates not initialised"),void 0):(b.SessionEndScreen=e,void 0)}}]),angular.module("groupme").service("settingsService",["storageService","mixpanelService",function(e,t){function n(){a.restore(),s=!1}function r(){e.set("settings",o)}var a=this,i={showSidebars:!1,multiChat:!0,internalNotificationsEnabled:!0,externalNotificationsEnabled:!1},o={},s=!0;this.set=function(e,n){var i=a.get(e);o[e]=n,r(),s||"multiChat"==e&&n!=i&&t.trackChangeAppSettings({"Toggle Multichat":n?"on":"off"})},this.get=function(e){return o[e]},this.restore=function(){o=e.get("settings")||{},_.each(i,function(e,t){"undefined"==typeof a.get(t)&&a.set(t,e)})},n()}]),angular.module("groupme").service("sha256Service",[function(){var e,t=function(){e=window.msrCrypto};this.hashIntegerToBase64=function(t){var n=e.utilities.stringToBytes(""+t),r=e.sha256.computeHash(n);return e.utilities.toBase64(r)},t()}]),angular.module("groupme").service("sharedGroupsService",["$q","groupsService","relationshipService",function(e,t,n){var r=this;this.known={},this.all=function(n){return r.known[n]?e.when(r.known[n]):t.all().then(function(e){return r.known[n]=_.filter(e,function(e){return _.findWhere(e.members,{user_id:n})})})},this.computeForAllContacts=function(){return e.all({relationships:n.relationships(),groups:t.all()}).then(function(e){return r.known={},_.each(e.relationships,function(e){r.known[e.user_id]=[]}),_.each(e.groups,function(e){_.each(e.members,function(t){void 0!==r.known[t.user_id]?r.known[t.user_id].push(e):r.known[t.user_id]=[e]})}),$.when()})}}]),angular.module("groupme").service("signupService",["registrationValidator","api","tokenService","$q","$translate",function(e,t,n,r,a){function i(e){var t,n,r={409:{isExistingEmail:!0}};return n=e.errors,n=[a.instant("SignUp.Errors.UnknownError")],t=r[e.status],new o(n,t)}function o(e,t){_.extend(this,t),this.errors=e}var s,u=this;u.PLATFORM="Web",u.register=function(n){var a;n=_.extend(n,{platform:u.PLATFORM,send_pin:!0});var s=angular.copy(n);return s.phone_number="+"+n.country_or_region_code+n.phone_number,delete s.country_or_region_code,a=e.validate(n),a?r.reject(new o(a)):t.post("v2","/registrations/create",{registration:s}).then(function(e){return e.data.registration},function(e){var t=i(e);return r.reject(t)})},u.setFocusField=function(e){s=e},u.getFocusField=function(){return s},u.detectExistingEmail=function(e){return e=_.extend(e,{platform:u.PLATFORM}),t.post("v2","/registrations/email_create",{registration:e}).then(function(e){return e.data.registration},function(e){return r.reject(i(e))})},u.detectExistingUser=function(e){return e=_.extend(e,{platform:u.PLATFORM}),t.post("v2","/registrations/facebook_create",{registration:e}).then(function(e){return e.data.access_token?e.data.access_token:!1},function(e){var t=i(e);return r.reject(t)})},u.verify=function(e,n,i){var o="/registrations/"+e+"/"+n+"/confirm";return t.post("v2",o,{registration:{pin:i}}).then(function(e){return e.data},function(e){var t;return t=e.messages?e.messages:e.errors?a.instant("SignUp.Errors.UnknownError"):a.instant("SignUp.Errors.UnknownError"),r.reject(t)})},u.callWithPin=function(e){return t.post("v2","/pin_callback_request",{registration_id:e}).then(function(e){return e.data},function(e){return r.reject(e.errors)})}}]),angular.module("groupme").service("storageService",["$cookie",function(e){function t(){try{window.localStorage.foo="bar",window.localStorage.removeItem("foo"),n=!0}catch(e){n=!1}}var n;this.set=function(t,r){try{return n?window.localStorage.setItem(t,JSON.stringify(r)):e.set(t,JSON.stringify(r))}catch(a){return console.error("Could not save item in storage: ",t,r,a),void 0}},this.get=function(t){var r;try{return r=n?window.localStorage.getItem(t):e.get(t),r&&JSON.parse(r)}catch(a){return console.error("Could not retrieve item from storage: ",t,a),void 0}},this.kill=function(t){try{return n?window.localStorage.removeItem(t):e.clear(t)}catch(r){return console.error("Could not delete item in storage: ",t,r),void 0}},t()}]),angular.module("groupme").service("timeAwayService",["focusService","chatsService","messageStoreService","pushedMessagesService","currentChatsService",function(e,t,n,r,a){this.calculate=function(){if(e.wentAwayTS){var i=moment(),o=i.diff(e.wentAwayTS,"minutes");o>10&&(t.reloadAll(),n.deleteAllKnownChats(),r.removeAllListeners(),a.refreshAll())}}}]),angular.module("groupme").run(["timeAwayService","focusService",function(e,t){t.onFocus("timeAway",function(){e.calculate()})}]),angular.module("groupme").service("$timestamp",["Translations",function(e){this.getTimeFormat=function(t){switch(t){case"MMMd":switch(e.lang){case"en-US":return"MMM D";case"ru-RU":return"D MMM";case"es-MX":return"D MMM";case"es-ES":return"D MMM";case"fr-FR":return"D MMM";case"pt-BR":return"D [de] MMM";case"zh-CN":return"M月D日";case"zh-TW":return"M月D日";case"de-DE":return"D. MMM";case"it-IT":return"D MMM";case"ja-JP":return"M月D日";default:return"production"==window.GM.env?"MMM D":"[MISSING SUPPORT FOR LANG FORMATTING "+e.lang+"]"}break;case"MM/dd/yyyy":switch(e.lang){case"zh-CN":return"YYYY/MM/DD";default:return moment.localeData().longDateFormat("L")}default:return"[UNKNOWN TIME FORMAT "+t+"]"}},this.formatTime=function(e,t){return e.format(this.getTimeFormat(t))},this.generate=function(e){var t=moment(),n=moment.unix(e);return n.isSame(t,"day")?n.format("LT"):n.isSame(t,"week")?n.format("ddd")+", "+n.format("LT"):this.formatTime(n,"MMMd")+", "+n.format("LT")},this.generateDate=function(e){return moment.unix(e).format("ll")},this.convertDateTimeFormatFromMomentToAngular=function(e){return e.replace(/YYYY/g,"yyyy").replace(/D/g,"d")}}]),angular.module("groupme").service("tokenService",["$cookie",function(e){var t,n,r;r=function(e){var t=window.GM.env.match(/(development|test)/),n={domain:t?null:window.GM.urls.domain,secure:!t};return e&&(n.expires=14),n},this.mobileToken=function(){return n=n||e.get("token_m")},this.setMobileToken=function(t,n){return e.set("token_m",t,r(n))},this.token=function(){return t=t||e.get("token")},this.setToken=function(t,n){return e.set("token",t,r(n))},this.clearToken=function(){return t=null,e.set("token",null,r())}}]),angular.module("groupme").service("totalUnreadCountService",[function(){this.count=0,this.increment=function(){this.count++},this.decrementBy=function(e){this.count-=e}}]),angular.module("groupme").service("trayStateService",["$q",function(e){function t(){n.initialState()}var n=this,r=["chats","contacts","archives"];this.initialState=function(){return n.loading=!1,n.state={},n.setState("chats")},this.setState=function(t){return _.contains(r,t)||e.reject("State does not exist",t),_.each(r,function(e){n.state[e]=t===e?!0:!1}),e.when(!0)},this.getState=function(e){return _.contains(r,e)?n.state[e]:(console.error("State doesn't exist:",e),void 0)},this.clearState=function(){_.each(r,function(e){n.state[e]=!1})},t()}]),angular.module("groupme").service("unreadChatsService",["$push","sessionService","totalUnreadCountService","chatsService","currentChatsService","$rootScope","Events",function(e,t,n,r,a,i,o){function s(){i.$on(o.CHAT_CLEAR_UNREAD,function(e,t){c.markRead(t)})}function u(){e.on("line.create",l),e.on("direct_message.create",l)}function l(e){if(!e.system&&"system"!==e.sender_type){var i=e.group_id||e.chat_id,o=a.isVisible(i);o||t.currentUser().then(function(t){return e.user_id!==t.id?r.find(i):void 0}).then(function(e){d[e.id]?d[e.id]++:d[e.id]=1,n.increment()},function(){console.error("Unable to increment unread count for chat: "+i)})}}var c=this,d={};u(),this.chats=function(){return d},this.markRead=function(e){d[e]&&(n.decrementBy(d[e]),delete d[e])},this.removeAll=function(){_.each(d,function(e,t){c.markRead(t)})},s()}]),angular.module("groupme").service("urlAttributes",[function(){this.isURL=function(e){if(!e||!e.match(/^http/i))return!1;var t,n,r;return t=document.createElement("a"),t.href=e,r=t.pathname,n=t.host.split(":")[0],"/"!==r.charAt(0)&&(r="/"+r),n&&n!=document.location.host?{host:n,pathname:r}:!1}}]),angular.module("groupme").service("$user",["api","$q","mixpanelService",function(e,t,n){var r,a;this.me=function(r){var i=r&&!!r.force;if(a&&!i){var o=t.defer();return o.resolve(a),o.promise}return e.get("v3","/users/me").then(function(e){return a=e.data,n.peopleSet({$created:moment.unix(a.created_at).toISOString()}),a},function(){return t.reject()})},this.settings=function(){if(r){var n=t.defer();return n.resolve(r),n.promise}return e.get("v2","/users/me").then(function(e){return r=e.data.user},function(e){return console.warn("error",e),t.reject()})},this.update=function(n,r){return e.post("v2","/users/"+n,{user:r}).then(function(e){return e.data.user},function(e){return t.reject(e)})}}]),angular.module("groupme").service("welcomeService",["$q","$cookie","$timeout","windowNotificationService",function(e,t,n,r){function a(){o()}function i(){var e,t=window.GM.env.match(/(development|test)/);return e={domain:t?null:window.GM.urls.domain,secure:!t,expires:1e5}}function o(){return t.get(s)?(this.showInfoBanner=!1,this.completed=!0,!0):void 0}var s="betaWelcomed";this.showWelcome=!1,this.showInfoBanner=!1,this.completed=!1,this.start=function(e){e&&!o()&&(t.get(s)||(t.set(s,!0,i()),r.available?this.showInfoBanner=!0:this.completed=!0))},this.closeInfoBanner=function(){this.showInfoBanner=!1,this.completed=!0},a()}]),angular.module("groupme").service("windowNotificationService",["$q","$window","$translate","promptModalService",function(e,t,n,r){function a(){return i.available&&t.Notification.permission}var i=this;this.available="Notification"in t,this.permission=a(),this.requestPermission=function(){if(i.permission=a(),!i.available||"default"!==i.permission)return e.reject();var o=e.defer(),s=n.instant("Notifications.Desktop.GroupMeNeeds");return r.alert(s,!1,n.instant("Notifications.Desktop.ShowPrompt")).then(function(){t.Notification.requestPermission(function(){i.permission=t.Notification.permission,o.resolve()})}),o.promise}}]),angular.module("groupme").service("windowLocationWrapperService",[function(){this.reload=function(){window.location.reload()},this.navigate=function(e){window.location=e}}]),angular.module("groupme").filter("gmDateFormat",["$timestamp",function(e){return function(t){return"number"!=typeof t?null:e.generateDate(t)}}]),angular.module("groupme").filter("gmFormatTime",["$timestamp",function(e){var t=moment();return function(n,r){return"object"==typeof n&&n.constructor&&n.constructor==t.constructor?e.formatTime(n,r):null}}]),angular.module("groupme").filter("gmHostName",function(){return function(e){if("undefined"==typeof e||null===e)return null;var t=e.match(/(?!(w+)\.)\w*(?:\w+\.)+\w+/gm);return"object"==typeof t&&null!==t?t[0]:null}}),angular.module("groupme").filter("gmTimestampFormat",["$timestamp",function(e){return function(t){return"number"!=typeof t?null:e.generate(t)}}]),angular.module("groupme").filter("reverse",function(){return function(e){return e?e.slice().reverse():null}}),angular.module("groupme").filter("uniq",function(){return function(e,t){return e?_.uniq(e,!1,function(e){return e[t]}):null}}),angular.module("groupme").directive("gmEmojiButton",["$rootScope","Events","groupmeEmojiService",function(e,t,n){return{link:function(r,a){function i(){r.active=!1,r.emojisAvailable=!0,r.$on(t.EMOJI_MENU_CLOSED,function(){r.active=!1}),r.$on(t.POWERUPS_ONLINE,function(){r.emojisAvailable=!0}),r.$on("$destroy",u),a.attr("id",l),o()}function o(){a.on("mousedown."+l,function(e){e.preventDefault()}),a.on("click."+l,s)}function s(){return r.active?void 0:(n.getPowerupsStatus()||(r.emojisAvailable=!1,n.getPowerups()),e.$broadcast(t.EMOJI_MENU_SHOW,l),r.active=!0,e.$$phase||e.$apply(),!1)}function u(){a.off("mousedown."+l).off("click."+l)}var l=_.uniqueId("emoji_button_");i()}}}]),angular.module("groupme").directive("gmEmojiPicker",["$rootScope","Events","groupmeEmojiService","GMAssets","$timeout",function(e,t,n,r,a){return{link:function(i,o){function s(){i.emojisAvailable=!0,i.$on(t.EMOJI_MENU_SHOW,function(e,t){i.openMenu(t)}),i.$on(t.EMOJI_PACKS_UPDATED,function(){i.emojisAvailable=!0,i.openMenu()})}function u(){p(),f.on("resize.emojiPicker",function(){i.open&&m&&l(m)}),h.on("keyup.emojiPicker",function(e){if(i.open&&(13===e.keyCode||14===e.keyCode||27===e.keyCode||9===e.keyCode)){if(e.shiftKey)return;i.closeMenu()}}),o.on("mousedown.emojiPicker",function(e){e.preventDefault()}).on("click.emojiPicker",function(){return!1}),$(".pack-container",o).on("mouseenter.emojiPicker","a",function(){var e=$(this),t=e.attr("data-emoji-index"),n=e.attr("data-pack-index");c(n,t)}).on("mousedown.emojiPicker",function(e){e.preventDefault()}),$(".pack-switcher",o).gmSlider().find(".switcher").on("mousedown.emojiPicker",function(e){e.preventDefault()}),v=!0}function l(e){if(e){var t=e.offset();t.top-=o.height()+16,t.left-=15,o.css({top:t.top,left:t.left})}}function c(e,t){var n,r=t?-1*60*t:0;e=parseInt(e),t=parseInt(t),n=d(e,t),$(".emoji-preview img",o).hide(),$(".emoji-preview img."+i.packClass(e),o).show().css("background-position","0 "+r+"px"),$(".emoji-preview .emoji-label",o).text(n)}function d(e,t){var n=_.findWhere(i.packs,{index:e});if(!n)return"";var r=":"+n.translations[t].text+":";return r}function p(){i.recentEmoji.length&&!y&&(o.find(".recent-pack").removeAttr("disabled"),y=!0)}var m=!1,f=$(window),h=$(document),g=$("body"),v=!1,y=!1;i.openMenu=function(t){if(m||t){var r=i.currentPack&&"recent"!==i.currentPack?i.currentPack:1;!m&&t&&(m=$("#"+t)),n.getPowerupsStatus()||(i.emojisAvailable=!1),i.showPack(r),i.open=!0,e.$$phase||e.$apply(),g.on("click.emojiPicker",i.closeMenu),l(m),!v&&i.emojisAvailable&&a(function(){u()},0)}},i.closeMenu=function(){i.open=!1,e.$$phase||e.$apply(),m=!1,g.off("click.emojiPicker"),e.$broadcast(t.EMOJI_MENU_CLOSED)},i.showPack=function(e,t,n){(!n||i.recentEmoji.length)&&(i.currentPack=n?"recent":e,n&&!t&&console.warn("An emoji index is required for the recent emoji pack"),c(e,t||0),l(m))},i.addEmoji=function(e,t){var o=d(e,t),s=t?-1*20*t:0,u="<img class='emoji pack-"+e+"'"+" src='"+r.url+"/images/emoji/spacer.png'"+" style='background-position: 0 "+s+"px'"+" alt='"+o+"' />",l=$(u);m.parents(".composer-layout").find(".emoji-wysiwyg-editor").first().trigger("gm-message-composer:before-content-paste");try{selectionUtil.replaceSelection(l[0]),a(function(){l.parent().trigger(jQuery.Event("keyup",{which:37})),l.parent().trigger(jQuery.Event("keyup",{which:38}))},0),i.recentEmoji=n.updateRecentEmoji(e,t),p()}catch(c){console.log("Could not add emoji to selection",c)}},s()}}}]),angular.module("groupme").directive("gmFocusIf",function(){return{link:function(e,t,n){e.$watch(n.gmFocusIf,function(){e[n.gmFocusIf]&&setTimeout(function(){t.first().focus()},0)})}}}),angular.module("groupme").directive("gmMessageComposer",["$timeout","$translate","avatarService","groupmeEmojiService","messageMentionService","promptModalService","Placeholders",function(e,t,n,r,a,i,o){function s(e){for(var t=1,n=3,r=["p","div","pre","form"],a=[],i=[],o=function(){a.push(i.join("")),i=[]},s=function(e){if(e.nodeType===n)(!e.nodeValue.trim||e.nodeValue.trim())&&i.push(e.nodeValue);else if(e.nodeType===t){var a=e.tagName.toLowerCase(),u=-1!==r.indexOf(a);if(u&&i.length&&o(),"img"===a){var l=e.getAttribute("alt")||"";return l&&i.push(l),void 0}"br"===a&&o();for(var c=e.childNodes,d=0;d<c.length;d++)s(c[d]);u&&i.length&&o()}},u=e.childNodes,l=0;l<u.length;l++)s(u[l]);return i.length&&o(),a.join("\n")}function u(){return window.navigator.userAgent.match(/applewebkit/i)}function l(e){return!e.shiftKey&&13==(e.keyCode||e.which)}return{link:function(r,c){function d(){if(h(),b(),r.chat.group)try{y()}catch(e){console.error("Unable to initialize mentions for group id: "+r.chat.group.id,e)}}function p(e){var t,n,i,s=e.find(".mention"),l="",c=0,d=[];if(s.length)return s.each(function(){if(t=$(this),i=t.data("user-id"),n=a.findMemberByUserId(i,r.chat.group.members),n&&n.length){c=n.length,l=o.MENTIONS_AT_SIGN;for(var e=0;c>e;e++)l+=o.MENTIONS_NAME_CHAR;l+=o.MENTIONS_SPACE,t.replaceWith(l),d.push(i)}else{var s=u()?t.text():t.val();t.replaceWith(s),console.error("Could not retrieve nickname for ID: "+i)}}),d.length?d:void 0}function m(e){return e[0].innerHTML=e[0].innerHTML.replace("&nbsp;"," "),s(e[0])}function f(n){if(!l(n))return!0;n.preventDefault();var a,o=c[0].innerHTML;if(r.message){c.unbind("keyup",f);try{a=p(c),r.message.text=m(c),a&&(r.message.mentions={ids:a}),r.post(),c.html(""),r.$digest()}catch(s){r.message.mentions=a=null,r.message.text=null,c[0].innerHTML=o,console.error("Message send error:",s,o),i.alert(t.instant("Group.Messages.Compose.Errors.WeWereUnable"))}finally{e(function(){c.bind("keyup",f)},250)}}}function h(){c.bind("keydown keypress",function(e){l(e)&&e.preventDefault()}),c.bind("keyup",f),$(c).on({"textComplete:show":function(){c.unbind("keyup",f)},"textComplete:hide":function(){e(function(){c.bind("keyup",f)},250)}})}function g(e,t){function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e,t){if(t){var r=n(e).replace("&nbsp;"," "),a=new RegExp(r,"i");return a.test(t)}return!1}var o,s,u=a.setMentions(r.chat.group.members);s=$.map(u,function(t){return o=a.getUserName(t.user_id),i(e,t.nickname)||i(e,o)?t:null}),t(s)}function v(e){var t="";return t=u()?'<span contenteditable="false" class="mention" tabindex="-1" data-user-id="'+e.user_id+'">'+"@"+e.html_nickname+"</span>":'<input type="button" class="mention" tabindex="-1" value="@'+e.nickname+'" '+'data-user-id="'+e.user_id+'" '+">"}function y(){var e,t;c.textcomplete([{match:/(^|\s|<\/?br>|&nbsp;)@(\S*)$/m,search:g,template:function(r){return t=a.getUserName(r.user_id),e="",e+='<div class="mention">',e+='<img class="avatar" src="'+n.size("avatar",r.image_url)+'"></img>',e+='<span class="nickname">'+r.html_nickname+"</span>",t&&(e+='<span class="name">'+t+"</span>"),e+="</div>"},replace:function(e){return"$1"+v(e)+"&nbsp;"+'<span class="marker" contenteditable="false"></span>'}}]).on("textComplete:select",function(){var e=window.getSelection(),t=e.getRangeAt(0),n=c.find(".marker");t=t.cloneRange(),t.setStartAfter(n[0]),t.collapse(!0),e.removeAllRanges(),e.addRange(t),n.remove()})}function b(){c.bind("keyup click",function(){w=_.map(selectionUtil.saveSelection(),function(e){return e.cloneRange()})}),c.on("gm-message-composer:before-content-paste",function(){c.focus(),w&&selectionUtil.restoreSelection(w)})}var w=null;d()}}}]),angular.module("groupme").directive("gmOnPaste",["$timeout",function(e){return{link:function(t,n,r){function a(){n.on("paste",i),t.$on("$destroy",u),n.on("DOMSubtreeModified",function(){if(c)return c=!1,void 0;var t;n.find("img").each(function(e,n){!n.src||n.className&&-1!=n.className.indexOf("emoji")||(t=n.src)}),t&&(l(t),e(function(){n.empty()},20))})}function i(e){var t,r,a,i;if(e.clipboardData)t=e.clipboardData,r=t.getData("text/plain"),a=t.items;else if(e.originalEvent&&e.originalEvent.clipboardData)t=e.originalEvent.clipboardData,r=t.getData("text/plain"),a=t.items||t.files;else{if(!window.clipboardData)return!0;t=window.clipboardData,r=t.getData("text")}if(a&&a.length)for(var s=0,u=a.length;u>s&&!i;s++)"object"==typeof a[s]&&("file"===a[s].kind?i=a[s].getAsFile():a[s].type&&a[s].type.match(/^image\//)&&(i=a[s]));if(i){var d=n.text().trim(),p=n.find(".emoji"),m=n.find(".mention");d||p.length||m.length||_.isFunction(l)&&(c=!0,l(i))}else{if(!r)return;if(document.queryCommandSupported("insertHTML")){var f=$("<div>").text(r).html().split(/\r\n|\n|\r/g),h=f.join("<br>");document.execCommand("insertHTML",!1,h)}else o(r)}e.preventDefault()}function o(e){var t,n,r,a=e.split(/\r\n|\n|\r/g),i=a.length;for(r=0;i>r;r++)t=document.createTextNode(a[r]),s(t),r!==i-1&&(n=document.createElement("br"),s(n))}function s(e){var t,n;t=window.getSelection(),n=t.getRangeAt(0),n.deleteContents(),n.insertNode(e),n=n.cloneRange(),n.setStartAfter(e),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}function u(){n.off("paste"),n.off("DOMSubtreeModified")}var l=t[r.gmOnPaste],c=!1;a()}}}]),angular.module("groupme").directive("gmTypingNotifications",["$push","sessionService",function(e,t){return{link:function(n,r){t.currentUser().then(function(t){e.bindTyping(r,n.chat.id,t.id)}),n.$on("$destroy",function(){e.removeTyping(r)})}}}]),angular.module("groupme").directive("experimental",function(){return{link:function(e,t){experimental||t.hide()}}}),angular.module("groupme").directive("gmAvatar",["gifFrameService","avatarService","GMAssets","loadImageService",function(e,t,n,r){return{link:function(a,i,o){function s(){f=a.$eval(o.gmAvatar),g=o.gmAvatarSize||"avatar",v="group"===o.gmAvatarType,y={type:v?"group":null},f?d():c(),"undefined"!=typeof o.gmAvatarWatch&&u(),a.$on("$destroy",m)}function u(){h=a.$watch(function(){return a.$eval(o.gmAvatar)},function(e){f=e,f&&(_&&(clearTimeout(_),_=null),d())})}function l(){return o.gmAvatarNoPlaceholder?n.url+"/images/emoji/spacer.png":t.defaultImage(g,y)}function c(){r.load(l()).then(function(e){i.attr("src",e.src)})}function d(e){var n;return _&&clearTimeout(_),n=e?f:t.size(g,f,y),"avatar"==g&&t.isGif(f)?(p(n),void 0):(r.load(n).then(function(e){i.attr("src",e.src)},function(){5>b?_=setTimeout(d,100):5===b?d(!0):c(),b++}),void 0)}function p(t){e.convert(t).then(function(e){i.attr("src",e)},function(){c()})}function m(){h&&h()}var f,h,g,v,y,_,b=0;s()}}}]),angular.module("groupme").directive("gmBindLeftKey",["$timeout",function(e){return function(t,n,r){function a(){i()&&(e(o,200),t.$on("$destroy",s))}function i(){return r.gmBindLeftKey?!0:!1}function o(){$(document).on("keyup."+u,function(e){37===e.which&&(t[r.gmBindLeftKey](),t.$apply())})}function s(){$(document).off("keyup."+u)}var u=_.uniqueId("gmBindKey_");a()}}]),angular.module("groupme").directive("gmBindRightKey",["$timeout",function(e){return function(t,n,r){function a(){i()&&(e(o,200),t.$on("$destroy",s))}function i(){return r.gmBindRightKey?!0:!1}function o(){$(document).on("keyup."+u,function(e){39===e.which&&(t[r.gmBindRightKey](),t.$apply())})}function s(){$(document).off("keyup."+u)}var u=_.uniqueId("gmBindKey_");a()}}]),angular.module("groupme").directive("gmBlockButton",["blockedService",function(e){return{restrict:"E",replace:!0,scope:{isBlocked:"=",contactId:"="},templateUrl:"views/directives/gm-block-button.html",link:function(t){t.toggleBlock=function(){if(!t.contactId)return console.error("Cannot block. Contact ID is not set"),void 0;var n=t.isBlocked?"unblock":"block";e[n](t.contactId).then(function(){t.isBlocked=!t.isBlocked},function(e){console.error("Could not block user:",contactId,e)})}}}}]),angular.module("groupme").directive("gmCenterImage",["processMedia","$timeout",function(e,t){return{link:function(n,r,a){function i(){var e=n.$eval(a.gmCenterImage);if(e)s(e);else{if("undefined"==typeof a.gmCenterImageWatch)return;o()}n.$on("$destroy",function(){f&&f()})}function o(){f=n.$watch(a.gmCenterImage,function(){var e=n.$eval(a.gmCenterImage);e&&s(e)})}function s(n){n+=".large",e.processImage(n).then(function(e){p=e.width,m=e.height,l=r.width(),c=r.height(),d=r.find("img").attr("src",n),t(u,0)})}function u(){var e,t,n=p>m,r=m/p;n?(t=c,e=t/r,l>e&&(e=l,t=e*r)):(e=l,t=e*r),d.css({width:e,marginTop:-1*(t/2),marginLeft:-1*(e/2)}).fadeIn("fast")}var l,c,d,p,m,f;i()}}}]),angular.module("groupme").directive("gmChatMenu",[function(){return{restrict:"E",replace:!0,templateUrl:function(e,t){var n="views/chat/";return n+=t.gmvarIsGroup?"group-sidebar.html":"dm-sidebar.html"}}}]),angular.module("groupme").directive("gmChatProp",[function(){return{controller:["$scope",function(e){this.chat=e.chat}]}}]),angular.module("groupme").directive("gmChatsLimit",["$window","$timeout","currentChatsService","settingsService","MaxActiveChats",function(e,t,n,r,a){return{link:function(i,o){function s(){var n=_.uniqueId("gmChatsLimit_");$(e).on("resize."+n,_.throttle(u,250)),t(u,0),i.$on("$destroy",function(){$(e).off("resize."+n)})}function u(){var e,t;r.get("multiChat")?(e=o.width(),t=Math.min(Math.floor(e/l),a),i.limit=n.limit=t>1?t:1):i.limit=n.limit=1,i.$digest()}var l=460;s()}}}]),angular.module("groupme").directive("gmContactsList",["$filter","$translate","relationshipService","sharedGroupsService","GMAssets",function(e,t,n,r,a){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-contacts-list.html?version="+a.version,scope:{filterWatch:"=gmvarFilterWatch",listCount:"=gmvarFilteredCount",showBlocked:"=gmvarShowBlocked",contactClicked:"=gmvarContactClicked",loading:"=gmvarListLoading",contactSelected:"=gmvarContactSelected",skipContacts:"=gmvarSkipContacts"},link:function(r){function a(){r.loading=!0,r.displayLimit=40,n.relationships().then(function(){i()})}function i(){return n.known.length?(r.contactSelected||(r.contactSelected=angular.noop),s(),o(),c(),d(),r.loading=!1,void 0):(o(),r.loading=!1,void 0)}function o(){r.displayLimit>m.length&&(r.displayLimit=m.length,r.allShown=!0)}function s(){var t=[],a=[],i=[];if(_.each(n.known,function(e){var n=e.name.charAt(0).toLowerCase();return e.blocked?(i.push(e),void 0):/[a-z]/.test(n)?(t.push(e),void 0):(a.push(e),void 0)}),t=e("orderBy")(t,"name"),a=e("orderBy")(a,"name"),i=e("orderBy")(i,"name"),m=t.concat(a.concat(i)),r.skipContacts){var o={};_.each(r.skipContacts,function(e){o[e.user_id]=!0}),m=_.reject(m,function(e){return o[e.user_id]===!0})}u()}function u(){var e=[],t={};e=m.slice(0,r.displayLimit),t=_.groupBy(e,function(e){var t=e.name.charAt(0).toLowerCase();return e.blocked?"zzz":/[a-z]/.test(t)?t:"zz"}),r.showBlocked||delete t.zzz,r.contactGroups=angular.copy(t),r.filteredRelationships||(r.listCount=m.length)}function l(e){var t,n,a;return e?(p&&r.filteredRelationships&&(t=new RegExp("^"+p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),n=t.test(e)),a=n?r.filteredRelationships:m,t=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),r.filteredRelationships=_.filter(a,function(e){return!r.showBlocked&&e.blocked?!1:t.test(e.name)}),r.listCount=r.filteredRelationships.length,p=e,void 0):(r.filteredRelationships=null,p=null,r.listCount=m.length,void 0)}function c(){var e=r.$watch(function(){return n.updatedAt},function(e,t){e!==t&&s()});r.$on("$destroy",e)}function d(){if("undefined"!=typeof r.filterWatch){var e=r.$watch("filterWatch",l);r.$on("$destroy",e)}}var p,m=[];r.displayMore=function(){r.displayLimit+=20,o(),u()},r.headerLabel=function(e){return"zz"===e?"123!@#":"zzz"===e?t.instant("Directives.GMContactsList.Blocked"):e},r.decodeRelationshipReason=function(e){return n.decodeRelationshipReason(e)},a()}}}]),angular.module("groupme").directive("datepickerPopup",[function(){return{restrict:"EAC",require:"ngModel",link:function(e,t,n,r){r.$formatters.shift()}}}]),angular.module("groupme").directive("gmDropImage",[function(){return{link:function(e,t,n){function r(){t.on("dragover dragenter dragleave",i).on("drop",a),e.$on("$destroy",function(){t.off("dragenter dragleave dragover drop")})}function a(t){var r,a=t.originalEvent,o=a.target&&a.target.files||a.dataTransfer&&a.dataTransfer.files;return(r=a.dataTransfer.getData("url"))?(e[n.gmDropImage]({url:r}),e.$digest()):o&&o[0]?(e[n.gmDropImage]({file:o[0]}),e.$digest()):console.warn("No drop file or url found."),i(t)}function i(e){return e.preventDefault(),e.stopPropagation(),!1}r()}}}]),angular.module("groupme").directive("gmEditField",[function(){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-edit-field.html",scope:{fieldValue:"=gmvarFieldValue",submitCallback:"=gmvarOnSubmit",required:"=gmvarRequired",fieldLabel:"@gmvarFieldLabel",placeholder:"@gmvarPlaceholder"},link:function(e){e.edit=function(){e.editing=!0,e.tempValue=e.fieldValue},e.submit=function(t){if(t.$valid){e.updating=!0;var n=t.updatedField.$viewValue;e.submitCallback(n).then(function(){e.fieldValue=n,e.updating=null,e.editing=null},function(t){console.error(t),e.updating=null})}},e.cancel=function(){e.editing=null}}}}]),angular.module("groupme").directive("gmFancyToggle",[function(){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-fancy-toggle.html",scope:{modelBool:"=gmvarModel",toggleCallback:"=gmvarOnToggle",isDisabled:"=gmvarDisabled"}}}]),angular.module("groupme").directive("gmFileChange",["$rootScope",function(e){return{link:function(t,n,r){n[0].onchange=function(){t[r.gmFileChange](n[0]),e.$$phase||t.$apply()},t.$on("$destroy",function(){n[0].onchange=null})}}}]),angular.module("groupme").directive("gmFocusOnInit",["$timeout",function(e){return{link:function(t,n,r){function a(){if(""!==r.gmFocusOnInit){var a=t.$eval(r.gmFocusOnInit);if(!a)return}e(function(){n.focus()},100)}a()}}}]),angular.module("groupme").directive("gmFocusOn",function(){return function(e,t,n){e.$on(n.gmFocusOn,function(){t[0].focus()})}}),angular.module("groupme").directive("gmGroupTopic",["$groups","$translate","promptModalService",function(e,t,n){return{restrict:"E",replace:!0,scope:{group:"=gmvarGroup"},templateUrl:"views/directives/gm-group-topic.html",link:function(r){r.editing=!1,r.characterLimit=250,r.updateTopic=function(){return r.pendingTopic.length>r.characterLimit?(n.alert(t.instant("Directives.GMGroupTopic.LengthCannotExceed")),void 0):(r.loading=!0,e.update(r.group.id,{description:r.pendingTopic}).then(function(){r.group.description=r.pendingTopic,r.pendingTopic="",r.editing=!1,r.loading=!1
}),void 0)},r.toggleEditing=function(){r.editing=!r.editing}}}}]),angular.module("groupme").directive("gmImageEditor",[function(){return{link:function(e,t){function n(){var t=_.throttle(a,100);l=e.$watch("base64image",function(n){n&&n.width&&(o||s||r(),u=n,a(),p.on("resize.image-editor",t),e.memeing&&e.startMemeing())}),e.$on("$destroy",i)}function r(){o=t.find("input.top"),s=t.find("input.bottom"),o.keyup(a),s.keyup(a)}function a(){var e={maxHeight:p.height()-300},t=o&&o.val(),n=s&&s.val();Meme(u,c,t,n,e)}function i(){l(),e.cancelMemeing(),a(),c=null,o=null,s=null,p.off("resize.image-editor")}var o,s,u,l,c=t.find("canvas.preview"),d=t.find("canvas.off-screen"),p=$(window);e.startMemeing=function(){e.memeing=!0,setTimeout(function(){o.focus()},1)},e.cancelMemeing=function(){o.val(""),s.val(""),e.memeing=!1},e.getDataUrl=function(){var t,n=o.val()||s.val();Meme(u,d,o.val(),s.val()),t=d[0].toDataURL(),e.upload(t,n)},n()}}}]),angular.module("groupme").directive("gmImageOnLoad",["$parse",function(e){var t;return{restrict:"A",link:function(n,r,a){t=e(a.gmImageOnLoad),r.bind("load",function(){t(n)})}}}]),angular.module("groupme").directive("gmInverted",function(){return{require:"ngModel",link:function(e,t,n,r){r.$parsers.unshift(function(e){return!e}),r.$formatters.unshift(function(e){return!e})}}}),angular.module("groupme").directive("gmLinkify",["messageDecorationService",function(e){return{link:function(t,n){var r,a=!1;r=t.$watch(function(){return n.html()},function(){if(a)return!0;var t={text:n.html()};e.linkify(t),t.text!=n.html()&&(a=!0,r()),n.html(t.text)})}}}]),angular.module("groupme").directive("gmLoadingButton",["$translate",function(e){return{scope:{loading:"=gmLoadingButton"},link:function(t,n,r){function a(){var a=void 0!==r.gmLoadingButtonFinalText?r.gmLoadingButtonFinalText:n.html(),o=t.$watch("loading",function(){t.loading?(n.addClass("btn-loading"),i(e.instant("Directives.GMLoadingButton.Working"))):(n.removeClass("btn-loading"),i(a))});t.$on("$destroy",o)}function i(e){n.html(e)}a()}}}]),angular.module("groupme").directive("gmLoadingOverlay",[function(){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-loading-overlay.html",scope:{loading:"=gmvarLoadingWhen"}}}]),angular.module("groupme").directive("gmLocationSearch",[function(){return{link:function(e,t){function n(){m=$(document),f=t.find(".query input"),h=t.find(".near-by input"),f.on("keyup",o).on("focus",d),h.on("keyup",o),g=e.$watch("search.show",function(e){e?r():a()}),e.$on("$destroy",p)}function r(){t.on("click",i),m.on("click",c).on("keydown",s)}function a(){t.off("click",i),m.off("click",c).off("keydown",s)}function i(e){e.preventDefault(),e.stopImmediatePropagation()}function o(t){27!==t.which&&9!==t.which&&38!==t.which&&40!==t.which&&13!==t.which&&e.searchFoursquare()}function s(e){27===e.which?c():9===e.which?f.is(":focus")||h.is(":focus")||c():38===e.which?(i(e),l(-1)):40===e.which?(i(e),l(1)):13===e.which&&u(e)}function u(){t.find("[data-query-option-index].selected").trigger("click")}function l(e){if(e){var n=t.find("[data-query-option-index]");f.blur(),h.blur(),v+=e,-1===v&&f.focus(),-1>v?v=n.length-1:v>=n.length&&(v=-1,f.focus()),n.removeClass("selected").filter('[data-query-option-index="'+v+'"]').addClass("selected")}}function c(){e.search.show=!1,e.queryActingAsLocationName(),e.$$phase||e.$apply()}function d(){e.search.show=!0,e.$$phase||e.$apply()}function p(){g(),a(),f.off("keyup",o),h.off("keyup",o)}var m,f,h,g,v=-1;n()}}}]),angular.module("groupme").directive("gmPluralise",["$interpolate","$parse","pluralisationService",function(e,t,n){return{link:function(r,a,i){var o=null;void 0!==i.count&&void 0!==i.key&&(o=void 0!==i.values?t(i.values):function(){return{}},r.$watch(i.count,function(t){t||(t=0),a.html(e(n.pluralise(i.key,t))(o(r)))}))}}}]),angular.module("groupme").directive("gmProgressiveScroll",["$interval","$parse",function(e,t){return function(n,r,a){var i,o,s=r[0];void 0!==a.gmProgressiveScroll&&(o=t(a.gmProgressiveScroll),r.bind("scroll",function(){s.scrollTop+s.offsetHeight>=s.scrollHeight-2&&n.$apply(a.gmProgressiveScroll)}),i=e(function(){s.scrollHeight<=r.height()&&o(n)},2e3),r.on("$destroy",function(){e.cancel(i)}))}}]),angular.module("groupme").directive("gmReally",["$parse","$interpolate","promptModalService",function(e,t,n){return{restrict:"A",compile:function(r,a){var i=e(a.gmReally),o=t(a.gmvarMessage||"");return function(e,t){t.on("click.really",function(t){"undefined"!=typeof a.gmvarCancelClick&&(t.preventDefault(),t.stopPropagation());var r=o(e);n.confirm(r).then(function(t){t&&i(e)})})}}}}]),angular.module("groupme").directive("gmRecentContacts",["recentContactsService","GMAssets",function(e,t){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-recent-contacts.html?version="+t.version,scope:{contactClicked:"=gmvarContactClicked",contactSelected:"=gmvarContactSelected",skipContacts:"=gmvarSkipContacts"},link:function(t){function n(){t.loading=!0,t.contactSelected||(t.contactSelected=angular.noop);var n=[];t.skipContacts&&(n=_.map(t.skipContacts,function(e){return e.user_id})),e.getRecentContacts({skipIds:n}).then(function(e){t.loading=!1,t.recentContacts=e})}n()}}}]),angular.module("groupme").directive("gmScrollTarget",[function(){return{controller:["$element",function(e){this.$element=e,this.isScrollable=function(){return e[0].scrollHeight>e[0].offsetHeight}}]}}]),angular.module("groupme").directive("gmSelectedListInput",[function(){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-selected-list-input.html",scope:{removeItem:"=gmvarRemoveItem",itemText:"=gmvarItemText",list:"=gmvarList",model:"=gmvarInputModel"},link:function(e,t){function n(){u=t.find("textarea"),r(),s()}function r(){u.on("focus",function(){setTimeout(i,0)}).on("keydown",a),e.$on("$destroy",function(){u.off("focus keydown")})}function a(t){return 13===t.which?(t.preventDefault(),void 0):8===t.which&&""===u.val()&&e.list.length?(t.preventDefault(),e.beforeDeleteLastItem?(e.beforeDeleteLastItem=!1,e.list.pop()):e.beforeDeleteLastItem=!0,e.$apply(),void 0):(o(),setTimeout(i,0),void 0)}function i(){var e,n;return l=t.find(".label-wrap"),l.length?(e=l.last(),n=t.width()-e.position().left-e.outerWidth(!0),u.width(n),u[0].scrollHeight>u.outerHeight()&&u.css({width:"100%"}),u.show().focus(),void 0):(u.css({width:"100%"}),u.show().focus(),void 0)}function o(){e.beforeDeleteLastItem&&(e.beforeDeleteLastItem=!1,e.$apply())}function s(){var t=e.$watch(function(){return e.list.length},function(){u.hide(),setTimeout(i,0)});e.$on("$destroy",t)}var u,l;n()}}}]),angular.module("groupme").directive("gmTextareaAutogrow",[function(){return{link:function(e,t){function n(){t.is("textarea")&&(t.on("change",r).on("keydown",r).on("focus",r),r(),e.$on("$destroy",function(){t.off("keydown focus blur"),a()}))}function r(){var e=200;a(),t.height(Math.min(t[0].scrollHeight,e))}function a(){t.height("")}n()}}}]),angular.module("groupme").directive("gmTooltip",function(){return{link:function(e,t){var n=function(){var e=$(t[0]).find(".pop-over");e.show().animate({opacity:1},200)};t.bind("mouseenter",n),t.bind("click",n),t.bind("mouseleave",function(){var e=$(t[0]).find(".pop-over");e.hide()})}}}),angular.module("groupme").directive("gmTrackDrag",["$rootScope",function(e){return{link:function(t,n){function r(){i&&(o=0,i=!1,t.dragging=!1,t.$digest())}function a(){i=!0,t.dragging=!0,t.$digest(),e.$broadcast("draggingElsewhere",n)}var i=!1,o=0,s=$(window);s.on("focus.gmTrackDrag",r),n.on("dragenter",function(){return i?(o=0,void 0):(a(),void 0)}).on("dragleave",function(){2==++o&&r()}).on("drop",r),t.$on("draggingElsewhere",function(e,t){t!==n&&r()}),t.$on("$destroy",function(){var e=$("[gm-track-drag]");e.length<=1&&s.off("focus.gmTrackDrag"),n.off("dragenter dragleave drop")})}}}]),angular.module("groupme").directive("gmTranslateCompile",["$compile","$translate",function(e,t){return{link:function(n,r,a){var i=r.prop("tagName");r.html(e("<"+i+">"+t.instant(a.gmTranslateCompile)+"</"+i+">")(n))}}}]),angular.module("groupme").directive("gmTwemoji",["$compile","emojiService",function(e,t){return{link:function(n,r,a){e.$$addBindingInfo(r,a.gmTwemoji),n.$watch(a.gmTwemoji,function(e){r.html(t.twemojify(e,a.gmvarEmbiggen))})}}}]),angular.module("groupme").directive("gmUploadImage",["$q","imageService","loadImageService","avatarService",function(e,t,n,r){return{restrict:"E",replace:!0,templateUrl:"views/directives/gm-upload-image.html",scope:{gmImageUrl:"=",newImageCallback:"=gmvarNewImageCallback",gmImageType:"@",gmNoImageLabel:"@",gmChangeImageLabel:"@",imageSize:"@gmvarImageSize"},link:function(a,i){function o(){a.loading=!0,u(),s(),l()}function s(){if(!a.gmImageUrl)return a.loading=null,void 0;var e=r.size(a.imageSize,a.gmImageUrl);n.load(e).then(function(){a.loading=null},function(){a.loading=null})}function u(){"group"===a.gmImageType?i.addClass("group-type"):"user"===a.gmImageType?i.addClass("user-type"):i.addClass("default-type"),a.imageSize=a.imageSize||"preview",a.gmNoImageLabel=a.gmNoImageLabel||"Upload Image",a.gmChangeImageLabel=a.gmChangeImageLabel||"Change Image"}function l(){var e=i.find('input[type="file"]')[0];e.onchange=c,a.$on("$destroy",function(){e.onchange=null})}function c(){var i=this.files[0];if(i)return a.loading=!0,t.upload(i).then(function(t){return a.newImageCallback?a.newImageCallback(t):e.when(t)}).then(function(e){var t=r.size(a.imageSize,e);return a.gmImageUrl=e,n.load(t)}).then(function(){a.loading=null},function(){a.loading=null})}o()}}}]),angular.module("groupme").directive("gmHtmlVideo",["$timeout","processMedia","GMAssets",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/html-video.html?version="+n.version,link:function(n,r){function a(){n.uniqueId=_.uniqueId("video_"),r.find('source[type="video/mp4"]').attr("src",n.video_url),i(),e(function(){o()},0)}function i(){n.video_width=n.video_width||535,n.video_height=n.video_height||535;var e=t.processImageDimensions(n.video_width,n.video_height);n.maxWidth=e.width,n.aspectRatio=e.aspectRatioStr,n.posterUrl=n.image_url||n.thumbnail_url}function o(){var e={autoplay:!1,loop:!0,children:{controlBar:!1,loadingSpinner:!1}};s=videojs(n.uniqueId,e,function(){}),s.tech.removeControlsListeners(),$(s.el_).on("mouseenter",function(){s.play().bigPlayButton.hide()}).on("mouseleave",function(){s.pause().bigPlayButton.show()}),n.$on("$destroy",function(){s&&($(s.el_).off("mouseenter").off("mouseleave"),s.destroy())})}var s;a()}}}]),angular.module("groupme").directive("gmIframeVideo",["GMAssets",function(e){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/iframe-video.html?version="+e.version,link:function(e,t){function n(){e.videoWidth=533,e.videoHeight=400,e.aspectRatio=100*(e.videoHeight/e.videoWidth),t.css({"max-width":e.videoWidth}).find(".vertical-spacer").css({paddingTop:e.aspectRatio+"%"})}n()}}}]),angular.module("groupme").directive("gmInlineGist",["GMAssets",function(e){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/gist.html?version="+e.version}}]),angular.module("groupme").directive("gmInlineGmJoinGroup",["$location","GMAssets",function(e,t){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/gm-join-group.html?version="+t.version,link:function(t){t.switchToJoinView=function(){e.path(t.join_url)}}}}]),angular.module("groupme").directive("gmInlineImage",["processMedia","GMAssets",function(e,t){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/inline-image.html?version="+t.version,link:function(e){e.imageLoaded=function(t){e.imageWidth=t}}}}]),angular.module("groupme").directive("gmInlineLink",["GMAssets",function(e){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/link.html?version="+e.version}}]),angular.module("groupme").directive("gmInlineTweet",["GMAssets",function(e){return{restrict:"E",replace:!0,templateUrl:"views/inline-downloader/tweet.html?version="+e.version}}]),angular.module("groupme").directive("lazyLimit",["$parse",function(e){function t(e,t,n){var r=this,a=200,i=30,o=t;r.element=$(e),r.changed=function(e){r.onChange=e},r.scrollBottom=function(){return r.element.scrollTop()+r.element.innerHeight()},r.closeToBottom=function(){return r.elementHeight()-r.scrollBottom()<a},r.elementHeight=function(){return e[0].scrollHeight},r.bumpCurrentLimit=function(){o+=i},r.maxReached=function(){var e=n();return o>=e},r.destroy=function(){e.unbind("scroll")},e.bind("scroll",function(){r.maxReached()||r.closeToBottom()&&(r.bumpCurrentLimit(),r.onChange&&r.onChange(o))})}return{link:function(n,r,a){var i,o,s,u,l;u=a.lazyLimitTarget,i=parseInt(a.lazyLimitMin,10),o=e(a.lazyLimitMax),s=function(){return o(n)},n[u]=i,l=new t(r,i,s),l.changed(function(e){n[u]=e,n.$digest()}),n.$on("$destroy",function(){l.destroy()})}}}]),angular.module("groupme").directive("gmEmoji",["$parse","messageDecorationServiceBAK",function(e,t){function n(e){return emojied_message=t.decorate(e,["sanitizeWithPlaceHolders","groupmeEmojify","sanitize"]),emojied_message.text}return{priority:9,link:function(t,r,a){function i(){return o(t)}var o=e(a.gmEmoji);t.$watch(i,function(e){e&&e.text?e.sanitized?r.html(e.text):(r.html(n(e)),e.sanitized=!0):r.html("")})}}}]),angular.module("groupme").directive("gmImageZoom",["$templateCache","$modal","processMedia",function(e,t){return{link:function(e,n,r){function a(){l=r.gmImageZoom||n.attr("src"),n.addClass("zoomable"),n.on("click."+c,i),e.$on("$destroy",u)}function i(){if(!l)return o(),void 0;var e,n;e={animation:!1,windowClass:"image-zoom",backdropClass:"dark",size:"lg",template:'<p class="picture" ng-click="$close()"><img src="'+l+'" class="img-responsive center-block" /></p>'},"clear"===r.gmImageZoomBackdrop&&(e.backdrop=!1),n=t.open(e),n.result.then(function(){s()},function(){s()})}function o(){return r.gmImageZoomAlt&&e[r.gmImageZoomAlt](),n.removeClass("zoomable"),console.debug("No image set, so not zooming")}function s(){r.gmImageZoomFinish&&e[r.gmImageZoomFinish]()}function u(){s(),n.off("click."+c),$(window).off("resize."+c)}var l,c=_.uniqueId("image_zoom_");a()}}}]),angular.module("groupme").directive("gmLikesGhost",["avatarService",function(e){return{link:function(t,n){var r=$(n[0]);t.likesGhost=function(n){if(n!=t.currentUser.id){var a,i,o=/\+/.test(t.chatId);o?i=e.size("avatar",t.chat.imageUrl):(a=_.findWhere(t.chat.group.members,{user_id:n}),i=e.size("avatar",a.image_url));var s=$("<div class='ghost'><img src='"+i+"'' /></div>");r.append(s),s.animate({opacity:1,top:-50},300),setTimeout(function(){s.animate({opacity:0,top:-46},300,"swing",function(){s.remove(),s=null})},1500)}},t.$on("$destroy",function(){r=null})}}}]),angular.module("groupme").directive("gmEmojiFragment",["groupmeEmojiService",function(e){return{restrict:"E",replace:!0,templateUrl:"views/message_decorators/emoji.html",link:function(t){var n=t.charMap,r=e.translations();t.translation=r[n[0]][n[1]],t.getStyles=function(){var e=n[1]*(t.embiggen?60:20);return{backgroundPosition:"0 -"+e+"px"}}}}}]),angular.module("groupme").directive("gmEventAttachment",["$modal","$timeout","calendarService","GMAssets","$timestamp",function(e,t,n,r,a){return{restrict:"E",replace:!0,require:"^gmScrollTarget",templateUrl:"views/message_attachments/event.html?version="+r.version,link:function(i,o,s,u){function l(){i.loading=!0,i.uniqueId=_.uniqueId("event_"),u.$element.on("scroll."+i.uniqueId,_.throttle(p,250)),t(p,2e3),i.$on("$destroy",function(){u.$element.off("scroll."+i.uniqueId)})}function c(){n.deleteRsvp(i.conversation_id,i.event_id).then(function(e){i.user_going=e.data.event.user_going,i.user_not_going=e.data.event.user_not_going},function(e){console.error(e)})}function d(){n.show(i.chatId,i.event_id).then(function(e){console.warn("got event",e),angular.extend(i,e.data.event),i.loading=!1},function(e){console.error("Error retreiving event",e),i.loading=!1,i.error=!0})}function p(){var e=o.position();e.top>=-400&&(d(),u.$element.off("scroll."+i.uniqueId))}i.rsvp=function(e){return e&&i.user_going||!e&&i.user_not_going?(c(),void 0):(n.rsvp(i.chatId,i.event_id,!!e).then(function(e){i.user_going=e.data.event.user_going,i.user_not_going=e.data.event.user_not_going},function(e){console.error(e)}),void 0)},i.showEvent=function(){e.open({templateUrl:"views/chat/calendar/calendar.html?version="+r.version,animation:!1,windowClass:"calendar-modal",controller:"GroupCalendarController",resolve:{eventPayload:function(){return{conversation_id:i.chatId,event_id:i.event_id}},chatId:function(){return i.chatId}}})},i.formatDay=function(e){return e.format("ddd, ")+a.formatTime(e,"MMMd")},l()}}}]),angular.module("groupme").directive("gmImageAttachment",["processMedia","chatsService","$modal","GMAssets",function(e,t,n,r){return{restrict:"E",replace:!0,templateUrl:"views/message_attachments/image.html?version="+r.version,controller:["$scope",function(a){function i(){o(),t.find(a.chatId).then(function(e){a.chat=e},function(){a.openZoomedImage=angular.noop})}function o(){var t,n;t=a.url.match(/com\/(\d+)x(\d+)./),t&&(n=e.processImageDimensions(t[1],t[2]),a.imageWidth=n.width,a.imageHeight=n.height)}a.openZoomedImage=function(){n.open({templateUrl:"views/gallery_zoom.html?version="+r.version,animation:!1,windowClass:"gallery-zoom",backdropClass:"dark",controller:"GalleryZoomController",resolve:{chat:function(){return a.chat},galleryTS:function(){return null},messageTS:function(){return a.message.created_at}}})},i()}]}}]),angular.module("groupme").directive("gmLocationAttachment",["GMAssets",function(e){return{restrict:"E",replace:!0,templateUrl:"views/message_attachments/location.html?version="+e.version,controller:["$scope",function(e){e.mapWidth=520,e.mapHeight=200,e.mapUrl="https://maps.googleapis.com/maps/api/staticmap",e.mapUrl+="?center="+e.lat+","+e.lng,e.mapUrl+="&markers="+e.lat+","+e.lng,e.mapUrl+="&zoom=15",e.mapUrl+="&size="+e.mapWidth+"x"+e.mapHeight,e.mapUrl+="&sensor=false"}]}}]),angular.module("groupme").directive("gmMentionFragment",["groupmeEmojiService",function(){return{restrict:"E",replace:!0,template:'<span class="mention" gm-twemoji="text"></span>'}}]),angular.module("groupme").directive("gmMessageAttachments",["$compile",function(e){return{restrict:"E",replace:!0,template:'<div class="attachments"></div>',link:function(t,n){var r,a,i={image:"<gm-image-attachment></gm-image-attachment>",location:"<gm-location-attachment></gm-location-attachment>",event:"<gm-event-attachment></gm-event-attachment>",video:"<gm-video-attachment></gm-video-attachment>"},o=[];angular.forEach(t.message.attachments,function(n){switch(n.type){case"image":case"linked_image":r=i.image;break;case"location":r=i.location;break;case"event":if(t.message.decoration.systemMessage)return;r=i.event;break;case"video":r=i.video;break;default:return}a=t.$new(!1,t),angular.extend(a,n),a.chatId=t.chatId,o.push(e(r)(a))}),n.html(o)}}}]),angular.module("groupme").directive("gmMessageInlineDownloader",["$compile","$timeout","$inlineDownloader",function(e,t,n){return{restrict:"E",replace:!0,require:"^gmScrollTarget",template:'<div class="message-inline-downloader"></div>',link:function(t,r,a,i){function o(){t.uniqueId=_.uniqueId("inline_downloader_"),t.message.decoration.hideText=!0,r.addClass("loading").addClass("id-"+t.message.inlineDownloader.type),t.message.inlineDownloader.loaded?c(t.message.inlineDownloader):i.isScrollable()?u():s()}function s(){n.process(t.message.text).then(function(e){angular.extend(t.message.inlineDownloader,e),t.message.inlineDownloader.loaded=!0,c(t.message.inlineDownloader)},function(e){Bugsnag.notifyException(e,"inlineContentError"),d()})}function u(){i.$element.on("scroll."+t.uniqueId,_.throttle(l,250)),t.$on("$destroy",function(){i.$element.off("scroll."+t.uniqueId)})}function l(){if(!t.viewed){var e=r.position();e.top>=-600&&(t.viewed=!0,s(),i.$element.off("scroll."+t.uniqueId),t.$digest())}}function c(n){var a,i={htmlVideo:"<gm-html-video></gm-html-video>",iframeVideo:"<gm-iframe-video></gm-iframe-video>",image:"<gm-inline-image></gm-inline-image>",link:"<gm-inline-link></gm-inline-link>",tweet:"<gm-inline-tweet></gm-inline-tweet>",gist:"<gm-inline-gist></gm-inline-gist>",gm_join_group:"<gm-inline-gm-join-group></gm-inline-gm-join-group>"},o=t.$new(!1,t);switch(n.template){case"instagram":case"imgur":a=n.video?i.htmlVideo:i.image;break;case"vine":a=i.htmlVideo;break;case"youtube":case"vimeo":a=i.iframeVideo;break;case"pinterest":case"image":a=i.image;break;case"link":a=i.link;break;case"tweet":a=i.tweet;break;case"gist":a=i.gist;break;case"gm_join_group":a=i.gm_join_group;break;default:return d(),void 0}angular.extend(o,n),r.html(e(a)(o)).removeClass("loading")}function d(){t.message.decoration.hideText=!1,t.$destroy(),t=null,r.remove()}o()}}}]),angular.module("groupme").directive("gmMessageText",["$compile","emojiService",function(e,t){return{restrict:"E",replace:!0,template:'<div class="message-text"></div>',link:function(n,r){function a(e){var n=/^(?:\s|[\-\[\]\/\\*+=(){}<>!@#$%^&?])+$/,r=$("<div></div>").text(e),a=r.text(),i=t.convert(a);return r.empty().text(i).find("."+t.getClassName()).remove(),a=r.text(),!a.length||n.test(a)}var i,o,s,u={text:'<span gm-twemoji="text" gmvar-embiggen="true"></span>',link:'<a ng-href="{{url}}" target="_blank" rel="noreferrer noopener">{{text}}</a>',hashtag:'<a class="hashtag" ng-href="{{url}}" target="_blank">{{text}}</a>',emojis:"<gm-emoji-fragment></gm-emoji-fragment>",mentions:"<gm-mention-fragment></gm-emoji-fragment>"},l=[];n.embiggen=!0,n.hasEmoji=!1,angular.forEach(n.message.decoration.textArray,function(r){if(o=n.$new(!1,n),"object"==typeof r){if("mention"===r.type)i=u.mentions,n.embiggen=!1;else if("emoji"===r.type)i=u.emojis,n.hasEmoji=!0;else if("link"===r.type)i=u.link,n.embiggen=!1;else{if("hashtag"!==r.type)return console.error("unsupported text fragment",r),"undefined"!=typeof Bugsnag&&Bugsnag.notify("gmMessageText","Unsupported text fragment",{message:n.message,fragment:r}),void 0;i=u.hashtag,n.embiggen=!1}angular.extend(o,r)}else s=r.replace(/[ \t]{2,}/g," "),i=u.text,t.test(s)&&(n.hasEmoji=!0),n.embiggen&&(n.embiggen=a(s)),o.text=s;l.push(e(i)(o))}),n.message.decoration.isPasted&&r.addClass("pasted"),n.hasEmoji&&n.embiggen?r.addClass("embiggen"):n.embiggen=!1,r.html(l)}}}]),angular.module("groupme").directive("gmVideoAttachment",["$timeout","processMedia","GMAssets",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"views/message_attachments/video.html?version="+n.version,controller:["$scope",function(e){function n(){var n,a,i,o,s;return(o=r())?(n=o.width,a=o.height,e.rotation=o.rotation,(90===e.rotation||270===e.rotation)&&(i=n,n=a,a=i),s=t.processImageDimensions(n,a),e.maxWidth=s.width,e.maxHeight=s.height,e.aspectRatio=s.aspectRatioStr,void 0):(console.warn("Could not extract width and height from video url."),!1)}function r(){var t,n,r,a;return(a=e.url.match(/\.(\d+)x(\d+)r(\d*)\.mp4$/))?(r=a[3],t=a[1],n=a[2],{width:parseInt(t),height:parseInt(n),rotation:parseInt(r)}):void 0}n()}],link:function(e,t){function n(){e.uniqueId=_.uniqueId("video_"),t.find('source[type="video/mp4"]').attr("src",e.url),setTimeout(r,0),e.$on("$destroy",function(){o&&o.destroy()})}function r(){var t={autoplay:!1,loop:!0,children:{controlBar:!1,loadingSpinner:!1}};o=videojs(e.uniqueId,t,function(){a()}),o.tech.removeControlsListeners(),$(o.el_).on("mouseenter",function(){o.play().bigPlayButton.hide()}).on("mouseleave",function(){o.pause().bigPlayButton.show()}),e.$on("$destroy",function(){o&&($(o.el_).off("mouseenter").off("mouseleave"),o.destroy())})}function a(){if(e.rotation&&!i()){var n,r=$(".vjs-tech",t),a=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],o=a[0],s={},u=a.length;for(n=0;u>n;n++)if("undefined"!=typeof r[0].style[a[n]]){o=a[n];break}s[o]="rotate("+e.rotation+"deg)",(90===e.rotation||270===e.rotation)&&(s.marginLeft="-"+Math.abs(e.maxWidth-e.maxHeight)/2+"px",s.width=e.aspectRatio),r.css(s)}}function i(){var e=window.navigator.userAgent.match(/applewebkit/i),t=!window.ActiveXObject&&"ActiveXObject"in window;return e||t?!0:!1}var o;n()}}}]),angular.module("groupme").directive("gmChatPage",["messageDecorationService","messageContinuationService","$compile",function(e,t,n){return{restrict:"E",replace:!0,template:'<div class="page off-screen"></div>',controller:["$scope",function(t){this.decorate=function(){e.process(t.messages).then(function(){t.buildMessages()})},this.decorate()}],link:function(e,r){e.buildMessages=function(){var a,i,o,s="<gm-message></gm-message>",u="<gm-system-message></gm-system-message>",l=[];angular.forEach(e.messages,function(r){a=r.system||"system"===r.sender_type?u:s,t.process(o,r),o=r,i=e.$new(!1,e),i.message=r,l.push(n(a)(i))}),r.html(l),e.pageLoaded=!0}}}}]),angular.module("groupme").directive("gmEmojiHearts",[function(){return{link:function(e,t){3181718==e.chat.id?t.addClass("emoji-hearts champagne-room"):715==e.chat.id?t.addClass("emoji-hearts team-groupme"):2461508==e.chat.id?t.addClass("emoji-hearts after-hours"):3343729==e.chat.id?t.addClass("emoji-hearts cartridge-family"):1849562==e.chat.id?t.addClass("emoji-hearts bug-reports"):2274801==e.chat.id?t.addClass("emoji-hearts engineering"):6344295==e.chat.id?t.addClass("emoji-hearts stink-room"):5284778==e.chat.id&&t.addClass("emoji-hearts ios")}}}]),angular.module("groupme").directive("gmImageContent",["$q","$rootScope","$translate","processMedia","loadImageService","$modal","promptModalService","imageService","GMAssets",function(e,t,n,r,a,i,o,s,u){return{restrict:"E",replace:!0,require:"^gmChatProp",templateUrl:"views/message_decorators/image-content.html?version="+u.version,scope:{url:"=gmvarImageUrl",sourceUrl:"=?gmvarSourceImageUrl",imageWidth:"=?gmvarImageWidth",imageHeight:"=?gmvarImageHeight",onLoad:"=?gmvarOnLoad",onClick:"=?gmvarOnClick",altText:"&gmvarImageAlt"},link:function(l,c,d,p){function m(){return l.url?(l.onClick=l.onClick||f,l.loadingImage=!0,b=c.find(".layout"),w=b.find(".vertical-spacer"),k=b.find("img"),M=l.imageWidth||400,S=l.imageHeight||400,T=100*(S/M),b.css({"max-width":M}),w.addClass("bg-loader").css({paddingTop:T+"%"}),k.hide(),h(),void 0):(y(),void 0)}function f(){i.open({animation:!1,windowClass:"image-zoom",backdropClass:"dark",size:"lg",template:'<p class="picture" ng-click="$close()"><img src="'+l.url+'" class="img-responsive center-block" /></p>'})}function h(){return a.load(l.url).then(function(t){var n=r.processImageDimensions(t.width,t.height);return M=n.width,S=n.height,T=100*(S/M),b.css({"max-width":M}),w.removeClass("bg-loader").css({paddingTop:T+"%"}),k.attr("src",l.url).attr("alt",l.altText).fadeIn(),l.onLoad&&_.isFunction(l.onLoad)&&l.onLoad(M),l.loadingImage=null,e.when(!0)},function(t){return l.imageMessage=n.instant("Directives.GMImageContent.Errors.UnableToLoad"),408===t.status&&(l.imageTimedout=!0),l.onLoad&&_.isFunction(l.onLoad)&&l.onLoad(M),l.loadingImage=null,e.reject()})}function g(e){var t=i.open({templateUrl:"views/chat/image_upload.html?version="+u.version,animation:!1,windowClass:"image-upload",controller:"ImageUploadController",resolve:{payload:function(){return e}}});t.result.then(function(e){e&&v(e)},function(e){v(e)})}function v(e){return e&&e.imageUrl?(t.$emit(s.ImageAttached,{image:e,context:{mediaChoiceMethod:"rememe",chatId:p.chat.id}}),void 0):(o.alert(n.instant("Directives.GMImageContent.Errors.UnableToUploadMeme"),!0),void 0)}function y(){l.$destroy(),l=null,c.remove()}var b,w,k,M,S,T;l.meme=function(){return p.chat?(g({url:l.sourceUrl||l.url,meme:!0}),void 0):(o.alert(n.instant("Directives.GMImageContent.Errors.UnableToMeme"),!0),void 0)},l.hideImage=function(e){e.stopPropagation(),l.imageMessage=n.instant("Directives.GMImageContent.ImageHidden"),l.imageHidden=!0},l.showImage=function(){l.imageMessage=null,l.imageHidden=null},l.reloadImage=function(){l.imageMessage=null,l.imageHidden=null,l.imageTimedout=null,l.reloading=!0,h().then(function(){l.reloading=null},function(){l.reloading=null})},l.imageClicked=function(){l.onClick()},m()}}}]),angular.module("groupme").directive("gmMessage",["$compile","GMAssets",function(e,t){return{restrict:"E",replace:!0,templateUrl:"views/chat/message.html?version="+t.version,controller:"MessageController"}}]),angular.module("groupme").directive("gmMessagesPane",["$compile","$timeout","messagesService","GMAssets",function(e,t,n,r){return{restrict:"E",replace:!0,templateUrl:"views/chat/messages-pane.html?version="+r.version,controller:["$scope",function(e){var t=this;e.loadingPage=!0,n.loadChat(e.chat.id).then(function(t){(!t.serverPages.length||t.serverPages[0].length<t.maxPageSize)&&(e.allPagesLoaded=!0),e.chatContent=t,e.visiblePageCount=1,e.chatLoaded=!0}),this.loadNextPage=function(){return e.loadingPage?void 0:(e.loadingPage=!0,e.chatContent.pages.length>e.visiblePageCount?(e.visiblePageCount++,void 0):e.allPagesLoaded?(e.allPagesShown=!0,e.loadingPage=!1,void 0):n.loadNextPage(e.chat.id).then(function(){return e.loadingPage=!1,t.loadNextPage()},function(t){304===t.status?(e.loadingPage=!1,e.allPagesLoaded=!0):Bugsnag.notifyException(t,"loadNextPage")}))},e.showLoader=function(){return e.isChatEmpty()?!1:e.allPagesShown?!1:e.paneFilled||e.loadingPage?!0:!1},e.isChatEmpty=function(){return!e.chatContent.pages.length&&!e.chatContent.dirtyPushes.length}}],link:function(e,n,r,a){function i(){u();var t=e.$watch(function(){return e.chatContent.dirtyPushes.length},function(){m()&&u()}),r=e.$watch(function(){return v.scrollHeight},function(){f&&d()});n.on("scroll",_.throttle(s,250)),e.$on("$destroy",function(){t(),r(),n.off("scroll")})}function o(){v.scrollHeight<=v.offsetHeight?a.loadNextPage():e.paneFilled=!0}function s(){p()&&(l(),g=v.scrollHeight,a.loadNextPage(),e.$digest())}function u(){l(),f=!0,h=t(function(){l()},5e3)}function l(){h&&(f=!1,clearInterval(h))}function c(){v.scrollTop=v.scrollHeight-g}function d(){v.scrollTop=v.scrollHeight}function p(){return 0===v.scrollTop}function m(){var e=25,t=v.scrollHeight-(v.scrollTop+v.offsetHeight);return e>=t}var f,h,g,v=n[0];n.find(".pages"),e.pageLoaded=function(){t(function(){e.loadingPage=!1,n.find(".off-screen").removeClass("off-screen"),g?c():o()},250)},i()}}}]),angular.module("groupme").directive("gmPushPages",["GMAssets",function(e){return{restrict:"E",replace:!0,templateUrl:"views/chat/pushed-messages.html?version="+e.version,scope:{chatId:"=gmvarChatId",pageSize:"=gmvarPageSize",dirtyPushes:"=gmvarDirtyPushes"}}}]),angular.module("groupme").directive("gmStoredPages",["$compile","$timeout",function(e,t){return{restrict:"E",replace:!0,template:'<div class="server-pages"></div>',scope:{chatId:"=gmvarChatId",pageCount:"=gmvarPageCount",pages:"=gmvarPages",pageLoaded:"=gmvarPageLoaded"},link:function(n,r){function a(){var e=n.$watch("pageCount",function(e,t){e>0&&e!==t&&i()});1===n.pageCount&&i(),n.$on("$destroy",function(){_.isFunction(e)&&e()})}function i(){var t="<gm-chat-page></gm-chat-page>",a=n.$new(!1,n),i=n.pages.length-n.pageCount;a.messages=n.pages[i],o(a),r.prepend(e(t)(a))}function o(e){var r=n.$watch(function(){return e.pageLoaded},function(e){e&&(t(n.pageLoaded,0),r())});n.$on("$destroy",function(){_.isFunction(r)&&r()})}a()}}}]),angular.module("groupme").directive("gmSystemMessage",["$compile",function(){return{restrict:"E",replace:!0,templateUrl:"views/chat/system-message.html"}}]),angular.module("groupme").controller("AddMembersController",["$scope","newGroupFlowService","newGroupMembersService","addMembersService","mixpanelService","pluralisationService","sessionService",function(e,t,n,r,a,i,o){function s(){t.group&&t.pointOfInitiation&&(e.search={query:""},e.group=t.group,e.existingMembers=t.existingGroup,e.newGroupMembers=n,e.filteredMemberCount=0,e.$on("$destroy",function(){if(c){var e={};if(e["Add member point of initiation"]=t.pointOfInitiation,e["Add member skip"]=0==n.list.length,!e["Add member skip"]){e["Add member total count"]=n.list.length,e["Add member method"]=[];for(var r=0,i=u.length;i>r;r++)_.filter(n.list,function(e){return e.addMethod&&e.addMethod.method==u[r]}).length>0&&e["Add member method"].push(u[r]);e["Add member type"]=[];for(var r=0,i=l.length;i>r;r++)_.filter(n.list,function(e){return e.addMethod&&e.addMethod.type==l[r]}).length>0&&e["Add member type"].push(l[r])}a.trackAddMember(e),n.list.length>0&&o.increaseAddedMembers(n.list.length),o.setEndScreenInfo("group chat")}}))}var u=["browse","search","manual entry","recent"],l=["GroupMe users","phone invites","email invites"],c=!0;e.toggleAddMember=function(t){n.isMemberAdded(t)?n.removeMember(t):(n.addMember(t,{method:""!=e.search.query?"search":"browse",type:"GroupMe users"}),e.search.query="")},e.toggleAddMemberFromRecents=function(e){n.isMemberAdded(e)?n.removeMember(e):n.addMember(e,{method:"recent",type:"GroupMe users"})
},e.getMemberName=function(e){return e.name},e.createMember=function(){c=!1,t.createPendingMember(e.search.query)},e.getAddMembersText=function(){return i.pluralise("Group.Members.Add.AddMembersCount",n.list.length)},e.submitMembers=function(){e.addingMembers=!0,r.add(t.group.id,n.list).then(function(e){return r.results(t.group.id,e.results_id)}).then(function(){e.addingMembers=!1,t.setStep("success"),e.$close()},function(n){e.addingMembers=!1,503===n.status?(t.setStep("success"),e.$close()):console.error(n)})},s()}]),angular.module("groupme").controller("AlertModalController",["$scope","$modalInstance","message","showSupport","buttonText",function(e,t,n,r,a){function i(){e.message=n,e.showSupport=r,e.buttonText=a}e.acknowledge=function(){t.close()},i()}]),angular.module("groupme").controller("AppSidebarController",["$scope","$translate","trayStateService","$modal","GMAssets",function(e,t,n){function r(){e.showTray=!0,e.trayState=n,e.listTitle=t.instant("Tray.Title.chats")}e.toggleTray=function(){e.showTray=!e.showTray},e.changeState=function(r){e.listTitle=t.instant("Tray.Title."+r),n.getState(r)||(n.setState(r),e.showTray=!0)},r()}]),angular.module("groupme").controller("ArchiveListController",["$scope","$location","$filter","formerGroupsService","searchTrayListService",function(e,t,n,r,a){function i(){a.clearQuery(),e.search=a,o()}function o(){e.trayState.loading=!0,r.all().then(function(){e.buildGroups(),s(),u(),e.trayState.loading=!1},function(){console.error("Archives Error"),e.trayState.loading=!1})}function s(){var t=e.$watch("search.query",e.buildGroups);e.$on("$destroy",t)}function u(){var t=e.$watch(function(){return r.updatedAt},function(t,n){t!==n&&e.buildGroups()});e.$on("$destroy",t)}e.openArchive=function(e){a.clearQuery(),t.path("/archive/"+e.id)},e.isOpen=function(e){var n=t.path(),r=n.match(/\/archive\/([\d]+)/i);return r&&r[1]===e.id},e.headerLabel=function(e){return"zz"===e?"123!@#":e},e.showHeader=function(t){var r=n("filter")(t,{name:e.search.query});return r.length>0},e.buildGroups=function(){"abcdefghijklmnopqrstuvwxyz".split(""),e.filteredArchives=e.search.query.length?n("filter")(r.archives,e.search.query):r.archives,e.alphaGroups=_.groupBy(e.filteredArchives,function(e){var t=e.name.charAt(0).toLowerCase();return/[a-z]/.test(t)?t:"zz"})},i()}]),angular.module("groupme").controller("ChatsListController",["$scope","$filter","chatsService","searchTrayListService",function(e,t,n,r){function a(){r.clearQuery(),e.search=r,e.trayState.loading=!0,n.all().then(function(){e.unfilteredChats=n.chats,i(),e.trayState.loading=!1})}function i(){var t=e.$watch(function(){return n.chats},function(){e.unfilteredChats=n.chats});e.$on("$destroy",t)}a()}]),angular.module("groupme").controller("ChatsListItemController",["$scope","currentChatsService","unreadChatsService","searchTrayListService","sessionService","chatsService","oneOnOneService",function(e,t,n,r,a,i,o){function s(){void 0===e.filteredChats&&Bugsnag.notify("ChatsListItemControllerInImproperEnvironment","ChatsListItemController was created with missing required property in the scope: filteredChats",{}),a.currentUser().then(function(e){u=e}),e.chat.badgeCount=n.chats()[e.chat.id];var t=e.$watch(function(){return n.chats()[e.chat.id]},function(t){e.chat.badgeCount=t});e.$on("$destroy",t)}var u;e.openChat=function(){function n(){var t={"DM contact selection method":""==r.query?"browse":"search"};return""!=r.query&&(t["DM results count"]=e.filteredChats.length),t}if(e.chat.id){if(!i.isGroupChatId(e.chat.id)){var a=i.otherUserId(e.chat.id,u);o.setStartDMTelemetryPayload(a,n())}r.clearQuery(),t.openChat(e.chat.id)}else o.setStartDMTelemetryPayload(e.chat.user.id,n()),t.openOneOnOne(e.chat.user)},e.isOpen=function(){return t.isVisible(e.chat.id)},e.$evalAsync(s)}]),angular.module("groupme").controller("ConfirmModalController",["$scope","$modalInstance","question",function(e,t,n){function r(){e.question=n}e.accept=function(){t.close({confirmed:!0})},e.cancel=function(){t.close({confirmed:!1})},r()}]),angular.module("groupme").controller("CookieBannerController",["$scope","cookieBannerService",function(e,t){e.accept=function(){t.closeCookieBanner()},e.privacyLink=window.GM.urls.brochure+"/privacy"}]),angular.module("groupme").controller("CreateGroupController",["$scope","createGroupService","newGroupFlowService","chatsService","currentChatsService",function(e,t,n,r,a){e.group={},e.createGroup=function(){e.newGroup.$valid&&(e.creatingGroup=!0,t.create(e.group).then(function(t){return e.creatingGroup=!1,r.reloadAll().then(function(){a.openChat(t.data.id)}),n.setGroupAndGoTo(t.data,"addMembers")}).then(null,function(){e.creatingGroup=!1}))}}]),angular.module("groupme").controller("CreateMemberController",["$scope","newGroupFlowService","newGroupMembersService",function(e,t,n){function r(){e.newMember=t.pendingMember,e.$evalAsync(function(){(e.createMember.hiddenEmailTest.$validators.email(e.newMember.name)||e.createMember.hiddenPhoneTest.$validators.pattern(e.newMember.name))&&(e.newMember.emailOrPhone=e.newMember.name,e.newMember.name="")})}e.addMember=function(){if(e.formIsValid()){var r={name:e.newMember.name};e.createMember.hiddenEmailTest.$valid?r.email=e.newMember.emailOrPhone:r.phone_number=e.newMember.emailOrPhone,n.addMember(r,{method:"manual entry",type:r.email?"email invites":"phone invites"}),t.clearPendingMember()}},e.formIsValid=function(){return e.createMember.nickname.$valid&&!e.emailOrPhoneError(!0)},e.emailOrPhoneError=function(t){return e.createMember.emailOrPhone.$error.required?!0:t?e.createMember.hiddenEmailTest.$valid||e.createMember.hiddenPhoneTest.$valid?!1:!0:!1},e.cancel=function(){t.clearPendingMember()},r()}]),angular.module("groupme").controller("FooterController",["$scope","$cookie","Translations","SupportedLanguages","windowLocationWrapperService",function(e,t,n,r,a){function i(){e.supportedLanguages=o()}function o(){var e=["en-US","de-DE","es-ES","es-MX","fr-FR","it-IT","ja-JP","pt-BR","ru-RU","zh-CN","zh-TW"];return _.filter(e,function(e){return s(e)}).map(function(e){return{code:e,name:u(e)}})}function s(e){return-1!=r.indexOf(e)}function u(e){if(!s(e))return"";switch(e){case"en-US":return"English";case"de-DE":return"Deutsch (German)";case"es-ES":return"Español (Spanish)";case"es-MX":return"Español (México) (Spanish Mexico)";case"ru-RU":return"Русский (Russian)";case"zh-CN":return"中文（简体) (Chinese Simplified)";case"zh-TW":return"中文 (繁體) (Chinese Traditional)";case"pt-BR":return"Português (Brasileiro) (Portuguese Brazil)";case"fr-FR":return"Français (French)";case"it-IT":return"Italiano (Italian)";case"ja-JP":return"日本語 (Japanese)";default:return""}}e.supportedLanguages=null,e.getCurrentLanguageName=function(){return u(n.lang)},e.switchLanguage=function(e){var n=window.GM.env.match(/(development|test)/);t.set("langcode",e,{domain:n?null:window.GM.urls.domain,secure:!n,expires:3650}),a.reload()},i()}]),angular.module("groupme").controller("GalleryImageController",["$scope","galleryService","$modal","GMAssets",function(e,t,n,r){function a(){e.imageAttachment=t.getAttachment(e.image.attachments)}e.zoom=function(){n.open({templateUrl:"views/gallery_zoom.html?version="+r.version,animation:!1,windowClass:"gallery-zoom",backdropClass:"dark",controller:"GalleryZoomController",resolve:{chat:function(){return e.chat},galleryTS:function(){return e.image.gallery_ts},messageTS:function(){return null}}})},a()}]),angular.module("groupme").controller("GalleryZoomController",["$scope","$q","galleryService","chat","galleryTS","messageTS",function(e,t,n,r,a,i){function o(){e.chat=r,u().then(function(t){f=t,e.currentImage=v[f],m()})}function s(){if(a)return moment(a).utcOffset(a).format("YYYY-MM-DDTHH:mm:ss.SSS[0][Z]");if(i){var e=moment.unix(i).toISOString();return moment(e).utcOffset(e).format("YYYY-MM-DDTHH:mm:ss.SSS[0][Z]")}return null}function u(){var e=s();return e?t.all({older:n.loadOlder(r.id,e),newer:n.loadNewer(r.id,e)}).then(function(e){return d(e.older.messages),p(e.newer.messages),h=e.older.incompleteSet,g=e.newer.incompleteSet,f=e.older.messages.length}):(Bugsnag.notify("GalleryZoomController#getInitalSet","Invalid gallery timestamp",{galleryTS:a,messageTS:i}),t.reject("Invalid gallery timestamp"))}function l(){var e=v[0].gallery_ts;return n.loadOlder(r.id,e).then(function(e){return h=e.incompleteSet,d(e.messages),t.when(e.messages.length)})}function c(){var e=_.last(v).gallery_ts;return n.loadNewer(r.id,e).then(function(e){return g=e.incompleteSet,p(e.messages),t.when()})}function d(e){for(var t=0,n=e.length;n>t;t++)v.unshift(e[t])}function p(e){for(var t=0,n=e.length;n>t;t++)v.push(e[t])}function m(){e.atBeginning=g&&f===v.length-1,e.atEnd=h&&0===f}var f,h,g,v=[];e.previous=function(){f<v.length-1?(f++,e.currentImage=v[f],m()):g||c().then(function(){e.previous()})},e.next=function(){f>0?(f--,e.currentImage=v[f],m()):h||l().then(function(t){f=t,e.next()})},o()}]),angular.module("groupme").controller("GalleryZoomedImageController",["$scope","galleryService","loadImageService","avatarService",function(e,t,n,r){function a(){e.loading=!0;var t=e.$watch("currentImage",function(){i()});e.$on("$destroy",t)}function i(){e.loading=!0,e.imageAttachment=t.getAttachment(e.currentImage.attachments);var a=e.imageAttachment.preview_url||e.imageAttachment.url;a=r.size("large",a),n.load(a).then(function(t){e.loadedImage=t.src,e.loading=!1})}a()}]),angular.module("groupme").controller("GalleryZoomedInfoController",["$scope","avatarService","membershipService",function(e,t,n){function r(){var t=e.$watch("currentImage",function(){a()});e.$on("$destroy",t)}function a(){e.senderAvatar=t.size("avatar",e.currentImage.avatar_url),e.chat.group&&(e.likesList=n.all(e.chat.group,e.currentImage.favorited_by))}r()}]),angular.module("groupme").controller("InfoBannerController",["$rootScope","$scope","welcomeService","windowNotificationService","settingsService","Events",function(e,t,n,r,a,i){t.enable=function(){var t=a.get("externalNotificationsEnabled");return t?(n.closeInfoBanner(),void 0):(a.set("externalNotificationsEnabled",!0),a.set("internalNotificationsEnabled",!1),e.$broadcast(i.NOTIFICATION_CHANGE,!1,!0),r.requestPermission().then(function(){n.closeInfoBanner(),"denied"===r.permission&&(a.set("externalNotificationsEnabled",!1),a.set("internalNotificationsEnabled",!0),e.$broadcast(i.NOTIFICATION_CHANGE,!0,!1))},function(){n.closeInfoBanner()}),void 0)},t.cancel=function(){n.closeInfoBanner()}}]),angular.module("groupme").controller("JoinSuccessController",["$scope","$window",function(e,t){e.brochureAppsPage=t.GM.urls.brochure+"/a"}]),angular.module("groupme").controller("MarkAllAsReadController",["$scope","unreadChatsService",function(e,t){e.markAllAsRead=function(){t.removeAll()}}]),angular.module("groupme").controller("MessageLikerController",["$scope","avatarService",function(e,t){function n(){e.likerAvatar=t.size("avatar",e.like.image_url)}n()}]),angular.module("groupme").controller("NewDMModalController",["$scope","currentChatsService","oneOnOneService",function(e,t,n){function r(){e.search={query:""},e.filteredContactCount=0}e.openDM=function(r){var a={"DM contact selection method":""==e.search.query?"browse":"search"};""!=e.search.query&&(a["DM results count"]=e.filteredContactCount),n.setStartDMTelemetryPayload(r.user_id,a),e.openingDM=!0,t.openOneOnOne({id:r.user_id,name:r.name,avatar_url:r.avatar_url}).then(function(){setTimeout(function(){e.openingDM=!1,e.$close()},500)})},r()}]),angular.module("groupme").controller("NewGroupModalController",["$scope","$translate","newGroupFlowService","newGroupMembersService","promptModalService","existingGroup","mixpanelService","pointOfInitiation",function(e,t,n,r,a,i,o,s){function u(){r.clear(),n.initialState(s),i&&(n.setExistingGroup(),n.setGroupAndGoTo(i,"addMembers")),e.getStep=n.getStep,e.$on("modal.closing",l),e.$on("$destroy",c)}function l(i){if(!d&&r.list.length>0&&!n.getStep("success")){i.preventDefault();var o=t.instant("Group.Members.Add.ConfirmCancel",{name:n.group.name});a.confirm(o).then(function(t){t&&(d=!0,e.$close())})}}function c(){d=null}var d=!1;u()}]),angular.module("groupme").controller("RelationshipListController",["$scope","$location","searchTrayListService","oneOnOneService",function(e,t,n,r){function a(){n.clearQuery(),e.search=n,e.filteredContactCount=0}e.openContact=function(a){var i={"DM contact selection method":""==e.search.query?"browse":"search"};""!=e.search.query&&(i["DM results count"]=e.filteredContactCount),r.setStartDMTelemetryPayload(a.id,i),n.clearQuery(),t.path("/contact/"+a.id)},e.isOpen=function(e){var n=t.path(),r=n.match(/\/contact\/([\d]+)/i);return r&&r[1]===e.id},a()}]),angular.module("groupme").controller("SearchTrayController",["$scope","searchTrayListService",function(e,t){function n(){e.search=t}e.watchEsc=function(t){27==t.keyCode&&e.search.clearQuery()},n()}]),angular.module("groupme").controller("TotalUnreadCountController",["$scope","totalUnreadCountService",function(e,t){e.unread=t}]),angular.module("groupme").controller("AccessTokensController",["$scope","$timestamp","$translate","accessTokensService","promptModalService",function(e,t,n,r,a){r.all().then(function(t){e.accessTokens=_.reject(t,function(e){return"gm-admin"===e.app_id})},function(){e.failed=!0}),e.label=function(e){return e.app_name?e.app_name:e.app_id?e.app_id.match(/ios/i)?n.instant("Profile.AccessTokens.Devices.IOS"):e.app_id.match(/android/i)?n.instant("Profile.AccessTokens.Devices.Android"):e.app_id.match(/wp7/i)?n.instant("Profile.AccessTokens.Devices.WindowsPhone"):e.app_id.match(/web/i)?n.instant("Profile.AccessTokens.Devices.WebApplication"):e.app_id:""},e.createdAt=function(e){return t.generate(Date.parse(e.created_at)/1e3)},e.revoke=function(t){return r.destroy(t).then(function(){e.accessTokens=_.reject(e.accessTokens,function(e){return e.id==t})},function(){a.alert(n.instant("Profile.AccessTokens.WeWereUnable"),!0)})}}]),angular.module("groupme").controller("ApplicationController",["$scope","authenticatingStatusService","sessionService","$route","welcomeService","cookieBannerService",function(e,t,n,r,a,i){function o(){e.copyYear=(new Date).getFullYear(),e.welcome=a,e.cookiebanner=i;var o=e.$watch(function(){return t.get()},function(t){e.busy=t,s(t)});e.$on("$routeChangeSuccess",function(){!e.currentUser&&r.current.locals.currentUser&&(e.currentUser=r.current.locals.currentUser,s(t.get()))});var u=e.$watch(function(){return n.getCurrentUser()},function(t){e.currentUser=t});e.$watch(function(){console.debug("digest.")}),e.$on("$destroy",function(){o(),u()})}function s(t){t||n.currentUser().then(function(t){e.currentUser=t})}e.authenticated=function(){return!!e.currentUser},o()}]),angular.module("groupme").controller("ArchiveCardController",["$scope","$location","$routeParams","$translate","currentChatsService","formerGroupsService","promptModalService","$timeout","chatsService",function(e,t,n,r,a,i,o,s,u){function l(){d=n.chatId,c()}function c(){e.loadingArchive=!0,i.find(d).then(function(t){t?e.archive=t:console.error("Could not find a contact for ID:",d),e.loadingArchive=null},function(){a.openChat(d),e.loadingArchive=null})}var d;e.rejoin=function(){e.rejoingGroup=!0,i.rejoin(d).then(function(){var n=10,r=250,i=function(){_.findWhere(u.chats,{id:d})?(a.openChat(d),e.rejoingGroup=null):(n--,n>=0?s(i,r):t.url("/chats"))};s(i,r)},function(){e.rejoingGroup=null,o.alert(r.instant("Archives.Errors.UnableToRejoin"),!0)})},l()}]),angular.module("groupme").controller("changePhoneNumberController",["$rootScope","$scope","$translate","sessionService","phoneNumberService","performAfterAuth","tokenService","$location","Client",function(e,t,n,r,a,i,o,s,u){function l(){function e(){s.url(d)}r.currentUser().then(function(){t.pageTitle=n.instant("Profile.ChangeNumber.Titles.ChangeYourPhoneNumber"),t.showForm=!0},function(){i.set(e),s.url(c)})}var c="/signin",d="/change_phone_number";e.bodyClass="changing-phone-number";var p=function(e){a.setPhoneNumber(t.phone_number),a.setPhoneNumberChangeId(e.data.phone_number_change.id),t.successMessage=n.instant("Profile.ChangeNumber.Success.PINTexted"),t.errorMessage=null,t.showPin=!0},m=function(){t.errorMessage=null,t.successMessage=n.instant("Profile.ChangeNumber.Success.NumberIsNow",{phone:a.phoneNumber()}),t.pageTitle="Success!",u.isMobile||u.isNative?(t.continueUrl=window.GM.urls.brochure,t.continueText=n.instant("Profile.ChangeNumber.Success.GetTheApp"),o.clearToken()):(t.continueUrl="/chats",t.continueText=n.instant("Profile.ChangeNumber.Success.ContinueChatting"),r.refreshCurrentUser()),t.completed=!0},f=function(e){experimental&&console.error(e),t.errorMessage=[n.instant("Profile.ChangeNumber.Errors.AdditionalHelpNeeded",{email:"support@groupme.com"})],t.successMessage=null};t.process=function(){if(t.successMessage=null,t.errorMessage=null,t.showPin){if(!t.pin)return t.errorMessage=[n.instant("Profile.ChangeNumber.Errors.EnterPIN")],void 0;a.confirm(t.pin).then(m,f)}else t.phone_number?a.create(t.phone_number).then(p,f):t.errorMessage=[n.instant("Profile.ChangeNumber.Errors.InvalidNumber")]},t.continue=function(){t.continueUrl&&(u.isMobile||u.isNative?window.location=window.GM.urls.brochure:s.url("/chats"))},l()}]),angular.module("groupme").controller("EmptyGroupPopoverController",["$scope","$modal","sessionService","GMAssets",function(e,t,n,r){function a(){return e.chat&&e.chat.group&&e.chat.group.members?void 0:(console.error("EmptyGroupPopoverController expects chat members in the scope"),void 0)}e.dismiss=function(){e.chat.emptyGroupPopoverDismissed=!0},e.openAddMembers=function(){var a=t.open({templateUrl:"views/new_group/new-group-modal.html?version="+r.version,windowClass:"new-group",animation:!1,size:"sm",controller:"NewGroupModalController",resolve:{existingGroup:function(){return e.chat.group},pointOfInitiation:function(){return"empty group popover"}}});a.opened.then(function(){n.setEndScreenInfo("members")}),a.result.then(function(e){e||n.setEndScreenInfo("group chat")},function(){n.setEndScreenInfo("group chat")})},e.openGroupSettings=function(){var a=t.open({templateUrl:"views/chat/group-settings.html?version="+r.version,animation:!1,windowClass:"group-settings",size:"lg",controller:"GroupSettingsController",resolve:{chat:function(){return e.chat}}});a.opened.then(function(){n.setEndScreenInfo("group settings")}),a.result.then(function(){n.setEndScreenInfo("group chat")},function(){n.setEndScreenInfo("group chat")})},a()}]),angular.module("groupme").controller("ComposeMessageController",["$scope","$rootScope","messageService","imageService","$modal","groupmeEmojiService","emojiService","messageMentionService","mixpanelService","sessionService","currentChatsService","messageStoreService","chatsService","GMAssets",function(e,t,n,r,a,i,o,s,u,l,c,d,p,m){function f(){e.message={},e.messageCharLimit=1e3,k=t.$on(r.ImageAttached,function(t,n){if(n.image&&n.context&&n.context.chatId==e.chat.id)if(e.message.mediaChoiceMethod="drag and drop"==n.context.mediaChoiceMethod?"drag and drop":"photo view",e.message.mediaType="image",void 0!==n.image.reason){if(n.image.imageUrl){e.message.imageUrl=n.image.imageUrl,e.message.mediaMemeTopText=n.image.memeTopText,e.message.mediaMemeBottomText=n.image.memeBottomText,e.message.mediaPostCancelled=!0;var r=h(e.message);u.trackAttachmentSelected(r).then(function(){u.trackAttachmentCancel(r)})}}else v(n.image)}),e.$on("$destroy",b)}function h(e){var t={};return e.mediaChoiceMethod&&(t["Attachment Action"]=e.mediaChoiceMethod,e.mediaType&&("browse"==e.mediaChoiceMethod?(t["Attachment Type"]="media search",t["Attachment Browse Type"]=e.mediaType+"s",t["Attachment Photo Type"]=e.mediaType):"search"==e.mediaChoiceMethod?(t["Attachment Type"]="media search",t["Attachment Search Type"]="GIF"==e.mediaType?"GIF":"image"==e.mediaType?"photo":"video",e.mediaSearchQuery&&(t["Attachment Search Value"]=e.mediaSearchQuery),t["Attachment Photo Type"]=e.mediaType):("gallery"==e.mediaChoiceMethod||"drag and drop"==e.mediaChoiceMethod||"photo view"==e.mediaChoiceMethod)&&(t["Attachment Type"]="photos",t["Attachment Photo Type"]=e.imageUrl&&-1!=e.imageUrl.indexOf(".gif")?"GIF":"image")),(e.mediaMemeTopText||e.mediaMemeBottomText)&&((""!=e.mediaMemeTopText||""!=e.mediaMemeBottomText)&&void 0!==e.mediaPostCancelled&&(t["Attachment Meme"]=e.mediaPostCancelled?"Cancel":"Done"),t["Attachment Meme Top/Bottom"]=""!=e.mediaMemeTopText&&""!=e.mediaMemeBottomText?"Both":""!=e.mediaMemeTopText?"Top":"Bottom")),t}function g(t){var n=a.open({templateUrl:"views/chat/image_upload.html?version="+m.version,animation:!1,windowClass:"image-upload",controller:"ImageUploadController",resolve:{payload:function(){return t}}});n.result.then(function(e){e&&v(e)},function(t){if(t&&t.imageUrl){e.message.imageUrl=t.imageUrl,e.message.mediaMemeTopText=t.memeTopText,e.message.mediaMemeBottomText=t.memeBottomText,e.message.mediaPostCancelled=!0;var n=h(e.message);u.trackAttachmentSelected(n).then(function(){u.trackAttachmentCancel(n)})}e.message={}})}function v(t){e.message.imageUrl=t.imageUrl,w=t.sourceImageUrl,e.message.mediaMemeTopText=t.memeTopText,e.message.mediaMemeBottomText=t.memeBottomText,e.message.mediaPostCancelled=!1,e.post()}function y(){e.message.imageUrl=null,w=null}function b(){y(),k()}var w,k;e.post=function(t){t||(t=e.message.text),t=t&&t.trim();var r=e.message.imageUrl,a=e.message.mentions;if(!t&&!r)return!1;var m={text:t,attachments:[]};if(r){var f={type:"image",url:r};w&&(f.source_url=w),m.attachments.push(f)}if(i.hasEmoji(t)&&i.translateEmoji(m),a){var g=e.chat.group.members,v=s.locateAndPrepareMentions(m.text,a.ids,g);m.text=v.text,m.attachments.push({type:"mentions",user_ids:a.ids,loci:v.loci})}if(m.text&&m.text.length>e.messageCharLimit)throw"Message exceeds 1000 characters";var b=e.message,k=d.isChatEmpty(e.chat.id);return n.create(e.chat,m).then(function(){var t={"Last Message Sent Date":moment().toISOString(),"Sent Message":!0};r&&(t["Sent Photo"]=!0),u.peopleSet(t);var n=h(b),i=function(){n["Message @mentions"]=a?a.ids.length:0,n["Message Attachment"]=!!b.mediaType,n["Message Caption"]=!!m.text&&m.text.length>0&&"video"!=b.mediaType;var t=[];_.each(m.attachments,function(e){"emoji"==e.type&&_.each(e.charmap,function(e){t.push(e[0])})}),m.text&&o.convert(m.text,!1)!=m.text&&t.push(0),t.length>0&&(n["Message Emoji"]=_.uniq(t)),u.trackSendMessage(n).then(function(){var t=c.getCurrentPaneNoForChat(e.chat.id);-1!=t&&l.increaseMessagesSentInPane(t,1),e.chat.group?l.increaseActiveGroups(e.chat.id):(l.increaseActiveDMs(e.chat.id),k&&(l.increaseDMsCreated(1),p.reloadAll()))})};b.mediaType?u.trackAttachmentSelected(n).then(i):i()},function(){throw"messageService.create failed"}),e.message.mentions=null,e.message={},y(),!0},e.imageViaUpload=function(){e.message.mediaChoiceMethod="gallery",e.message.mediaType="image",g()},e.imageViaPaste=function(t){t&&(e.message.mediaChoiceMethod="drag and drop",e.message.mediaType="image","string"==typeof t?t.match(/^data:/)?g({data:t}):g({url:t}):g({file:t}))},e.createCalendarEvent=function(){var n=t.$new();n.startWithCreate=!0,a.open({templateUrl:"views/chat/calendar/calendar.html?version="+m.version,animation:!1,windowClass:"calendar-modal",controller:"GroupCalendarController",scope:n,resolve:{eventPayload:function(){return null},chatId:function(){return e.chat.id}}})},e.openMediaSearch=function(){var t=a.open({templateUrl:"views/chat/media/search.html?version="+m.version,animation:!1,windowClass:"media-search-modal",controller:"GroupMediaSearchController"});t.result.then(function(t){if(t)if(e.message.mediaType=t.type,e.message.mediaChoiceMethod=t.choiceMethod,e.message.mediaSearchQuery=t.searchQuery,"video"!=t.type){var n=a.open({templateUrl:"views/chat/image_upload.html?version="+m.version,animation:!1,windowClass:"image-upload",controller:"ImageUploadController",resolve:{payload:function(){return{url:t.imageUrl}}}});n.result.then(function(e){v(e)},function(t){t&&(e.message.mediaMemeTopText=t.memeTopText,e.message.mediaMemeBottomText=t.memeBottomText,e.message.mediaPostCancelled=!0);var n=h(e.message);u.trackAttachmentSelected(n).then(function(){u.trackAttachmentCancel(n)}),e.message={}})}else{var r=a.open({templateUrl:"views/chat/video-preview.html?version="+m.version,animation:!1,windowClass:"video-preview",controller:"VideoPreviewController",resolve:{payload:function(){return{url:t.imageUrl}}}});r.result.then(function(){e.post(t.imageUrl)},function(){e.message.mediaPostCancelled=!0;var t=h(e.message);u.trackAttachmentSelected(t).then(function(){u.trackAttachmentCancel(t)}),e.message={}})}})},e.plusExtenderClicked=function(t){t&&u.trackOpenAttachments({"Chat type":e.chat.group?"group":"DM"})},f()}]),angular.module("groupme").controller("EmojiController",["$scope","groupmeEmojiService","Events","GMAssets","$timeout",function(e,t,n,r,a){function i(){e.open=!1,e.$on(n.POWERUPS_ONLINE,function(){o()}),o()}function o(){t.purchasedPacks().then(function(n){e.packs=n,e.recentEmoji=t.getRecentEmoji()},function(e){console.error(e)}),a(function(){e.$broadcast(n.EMOJI_PACKS_UPDATED)},0)}e.emojiStyle=function(e){var t="0 "+(e?-1*20*e:0)+"px";return{"background-position":t}},e.emojiTranslit=function(e){return":"+e+":"},e.packClass=function(e){return"pack-"+e},e.packContainerClass=function(e){return"pack-container-"+e.index},e.packSwitcherStyle=function(e){return{"background-image":'url("'+e.iconUrl+'")'}},e.recentPackSwitcherStyle=function(){return{"background-image":'url("'+r.url+'/images/recent-icon.png")'}},i()}]),angular.module("groupme").controller("eventFormController",["$scope","$translate","calendarService","imageService","processMedia","promptModalService","$timestamp","Translations",function(e,t,n,r,a,i,o,s){function u(){e.meridianAM=moment("2010-02-15 09:30").format("a"),e.meridianPM=moment("2015-07-06 15:30").format("a"),e.prefers24HourClock="en-US"!=s.lang,e.editEvent?p():d(),e.search={},g(),e.$on("$destroy",C)}function l(){if(!m())return e.disableSubmitBtn=!1,void 0;var t,r=v();f(),e.workingEvent.allDay&&e.workingEvent.endAt.add(1,"day"),t={name:e.workingEvent.name,description:e.workingEvent.description,image_url:e.workingEvent.imageUrl,location:e.workingEvent.location,start_at:n.formatDate(e.workingEvent.startAt),end_at:n.formatDate(e.workingEvent.endAt),is_all_day:e.workingEvent.allDay,timezone:jstz.determine().name(),reminders:r},n.create(e.chat.id,t).then(function(){e.showAllEvents()},function(t){console.error(t),e.disableSubmitBtn=!1})}function c(){if(!m())return e.disableSubmitBtn=!1,void 0;var t;return f(),t=h(),_.isEmpty(t)?(e.disableSubmitBtn=!1,void 0):(t.end_at&&e.workingEvent.allDay&&(e.workingEvent.endAt.add(1,"day"),t.end_at=n.formatDate(e.workingEvent.endAt)),n.update(e.chat.id,e.selectedEvent.event_id,t).then(function(t){e.showEventDetail(t.data.event),e.reloadEvents()},function(t){console.error(t),e.disableSubmitBtn=!1}),void 0)}function d(){var t,n;t=T(moment()),n=moment(t).add(15,"minutes"),e.workingEvent={startAt:t,endAt:n,allDay:!1},M(),S()}function p(){new Date,e.workingEvent={name:e.selectedEvent.name,description:e.selectedEvent.description,imageUrl:e.selectedEvent.image_url,startAt:moment(e.selectedEvent.begins),endAt:moment(e.selectedEvent.ends),allDay:e.selectedEvent.is_all_day},b(),y(),M(),S()}function m(){return e.workingEvent?e.workingEvent.name?e.startDateError||e.endDateError?!1:!0:(e.noNameError=!0,!1):!1}function f(){e.search.query&&(e.workingEvent.location?e.workingEvent.location.name=e.search.query:e.workingEvent.location={name:e.search.query})}function h(){if(e.selectedEvent&&e.workingEvent){var t,r,a,i,o,s={};return e.selectedEvent.name!==e.workingEvent.name&&(s.name=e.workingEvent.name),e.selectedEvent.description!==e.workingEvent.description&&(s.description=e.workingEvent.description),e.selectedEvent.image_url!==e.workingEvent.imageUrl&&(s.image_url=e.workingEvent.imageUrl),_.isEqual(e.selectedEvent.location,e.workingEvent.location)||(console.warn(e.selectedEvent.location,e.workingEvent.location),s.location=e.workingEvent.location),r=jstz.determine().name(),a=!!e.selectedEvent.is_all_day!=!!e.workingEvent.allDay,i=!e.selectedEvent.begins.isSame(e.workingEvent.startAt),o=!e.selectedEvent.ends.isSame(e.workingEvent.endAt),(a||i||o)&&(s.is_all_day=e.workingEvent.allDay,s.timezone=r,s.start_at=n.formatDate(e.workingEvent.startAt),s.end_at=n.formatDate(e.workingEvent.endAt)),t=v(),_.isEqual(e.selectedEvent.reminders,t)||(s.reminders=t),s}}function g(){e.minDate=new Date,e.format=o.convertDateTimeFormatFromMomentToAngular(o.getTimeFormat("MM/dd/yyyy")),e.dateOptions={showWeeks:!1,formatMonth:"MMM",formatYear:"yyyy",startingDay:moment.localeData().firstDayOfWeek()},e.hoursList=e.prefers24HourClock?_.range(24):_.range(1,13)}function v(){var t=[];return e.workingEvent.firstReminder&&(t.push(e.workingEvent.firstReminder.offset),e.workingEvent.secondReminder&&e.workingEvent.secondReminder.offset!==e.workingEvent.firstReminder.offset&&t.push(e.workingEvent.secondReminder.offset)),t}function y(){if(e.editEvent&&e.selectedEvent.reminders.length){var t,n;t=e.selectedEvent.reminders[0],n=_.findWhere(e.reminderOptions,{offset:t}),e.workingEvent.firstReminder=n,e.selectedEvent.reminders.length>1&&(t=e.selectedEvent.reminders[1],n=_.findWhere(e.reminderOptions,{offset:t}),e.workingEvent.secondReminder=n)}}function b(){e.editEvent&&e.selectedEvent.location&&(e.workingEvent.location={name:e.selectedEvent.location.name,lat:e.selectedEvent.location.lat,lng:e.selectedEvent.location.lng,address:e.selectedEvent.location.address})}function w(){var t=moment().startOf("day");e.workingEvent.startAt.isBefore(t)?e.workingEvent.startAt=moment(t):e.workingEvent.startAt.startOf("day"),e.workingEvent.endAt.isBefore(e.workingEvent.startAt)?e.workingEvent.endAt=moment(e.workingEvent.startAt):e.workingEvent.endAt.startOf("day"),e.startDateError=e.endDateError=!1,M()}function k(){var t=T(moment());e.workingEvent.startAt.isBefore(t)&&(e.workingEvent.startAt=moment(t)),(e.workingEvent.endAt.isBefore(e.workingEvent.startAt)||e.workingEvent.endAt.isSame(e.workingEvent.startAt))&&(e.workingEvent.endAt=moment(e.workingEvent.startAt).add(15,"minutes")),e.startDateError=e.endDateError=!1,M()}function M(){var t=e.workingEvent.startAt,n=e.workingEvent.endAt;e.workingStart={date:new Date(t.format("M/D/YYYY HH:mm:00")),h:e.prefers24HourClock?t.format("H"):t.format("h"),m:t.format("mm"),meridian:t.hour()>11},e.workingEnd={date:new Date(n.format("M/D/YYYY HH:mm:00")),h:e.prefers24HourClock?n.format("H"):n.format("h"),m:n.format("mm"),meridian:n.hour()>11}}function S(){j=e.$watch("workingStart.date",function(t,n){t!==n&&e.refreshStartDate()}),x=e.$watch("workingEnd.date",function(t,n){t!==n&&e.refreshEndDate()})}function T(e){var t=moment(e);switch(!0){case t.minutes()<15:t.minutes(15);break;case t.minutes()<30:t.minutes(30);break;case t.minutes()<45:t.minutes(45);break;default:t.add(1,"hour").minutes(0)}return t.startOf("minute"),t}function L(t){if(e.prefers24HourClock)return parseInt(t.h);var n,r=parseInt(t.h);return n=12===r?t.meridian?r:0:t.meridian?r+12:r}function C(){j(),x()}var j,x;e.reminderOptions=[{text:t.instant("Group.Events.Create.Reminders.AtTime"),offset:0},{text:t.instant("Group.Events.Create.Reminders.5MinutesBefore"),offset:300},{text:t.instant("Group.Events.Create.Reminders.15MinutesBefore"),offset:900},{text:t.instant("Group.Events.Create.Reminders.30MinutesBefore"),offset:1800},{text:t.instant("Group.Events.Create.Reminders.1HourBefore"),offset:3600},{text:t.instant("Group.Events.Create.Reminders.2HoursBefore"),offset:7200},{text:t.instant("Group.Events.Create.Reminders.1DayBefore"),offset:86400},{text:t.instant("Group.Events.Create.Reminders.2DaysBefore"),offset:172800},{text:t.instant("Group.Events.Create.Reminders.1WeekBefore"),offset:604800}],e.submitEvent=function(){e.disableSubmitBtn=!0,e.editEvent?c():l()},e.deleteEvent=function(){e.eventIsEditable&&n.delete(e.chat.id,e.selectedEvent.event_id).then(function(){e.showAllEvents(),e.reloadEvents()},function(e){console.error(e)})},e.uploadEventImage=function(n){var o=n.files[0];return e.imageUploading=!0,r.upload(o).then(function(t){a.processImage(t).then(function(){e.imageUploading=!1,e.workingEvent.imageUrl=t},function(){e.imageUploading=!1,e.workingEvent.imageUrl=t})},function(){e.imageUploading=!1,i.alert(t.instant("Group.Events.Create.PhotoError"),!0)})},e.toggleAllDay=function(){e.workingEvent.allDay=!e.workingEvent.allDay,e.workingEvent.allDay?w():k()},e.setReminder=function(t,n){var r;if(1===t)r="firstReminder";else{if(2!==t)return;r="secondReminder"}n?(e.workingEvent[r]=n.text,e.workingEvent[r+"Offset"]=n.offset):(e.workingEvent[r]=null,e.workingEvent[r+"Offset"]=null)},e.refreshStartDate=function(){var t,n,r=e.workingStart;e.startDateError=!1,t=moment(r.date).hour(L(r)).minute(parseInt(r.m)),n=e.workingEvent.allDay?moment().startOf("day"):T(moment()),t.isBefore(n)?e.startDateError=!0:(e.workingEvent.startAt=moment(t),e.refreshEndDate(!0))
},e.refreshEndDate=function(t){var n,r,a=e.workingEnd;e.endDateError=!1,n=moment(a.date).hour(L(a)).minute(parseInt(a.m)),n.isBefore(e.workingEvent.startAt)?r=!0:n.isSame(e.workingEvent.startAt)&&!e.workingEvent.allDay&&(r=!0),r&&(t?(n=moment(e.workingEvent.startAt),e.workingEvent.allDay||n.add(15,"minutes"),e.workingEnd={date:new Date(n.format("M/D/YYYY HH:mm:00")),h:n.format("h"),m:n.format("mm"),meridian:n.hour()>11}):e.endDateError=!0),e.workingEvent.endAt=moment(n)},e.openStartDatepicker=function(t){t.preventDefault(),t.stopPropagation(),e.endDatepickerOpened=!1,e.startDatepickerOpened=!0},e.openEndDatepicker=function(t){t.preventDefault(),t.stopPropagation(),e.startDatepickerOpened=!1,e.endDatepickerOpened=!0},u()}]),angular.module("groupme").controller("eventLocationController",["$scope","$q","locationService","foursquareService",function(e,t,n,r){function a(){e.workingEvent.location&&(e.workingEvent.location.address&&e.workingEvent.location.lat&&e.workingEvent.location.lng&&c(!0),e.workingEvent.location.name&&(e.search.focusName=!0)),e.$on("$destroy",p)}function i(){return e.gettingCurrentLocation=!0,n.addressAtGeolocation().then(function(t){return e.gettingCurrentLocation=!1,e.currentLocation=t,t},function(n){return console.warn(n),e.gettingCurrentLocation=!1,t.reject(n)})}function o(e){var t="";return e.addressLine&&(t+=e.addressLine,t+=e.crossStreet?" ":"\n"),e.crossStreet&&(t+="("+e.crossStreet+") \n"),e.city&&(t+=e.city,t+=e.state?", ":e.postalCode?" ":"\n"),e.state&&(t+=e.state,t+=e.postalCode?" ":"\n"),e.postalCode&&(t+=e.postalCode+" \n"),e.country&&(t+=e.country),t}function s(e,t){var n;return"currentLocation"===e?n={addressLine:t.address.addressLine||null,crossStreet:null,city:t.address.locality||null,state:t.address.adminDistrict||null,postalCode:t.address.postalCode||null,country:t.address.countryRegion||null,lat:t.lat||null,lng:t.lng||null}:"foursquare"===e&&(n={addressLine:t.location.address||null,crossStreet:t.location.crossStreet||null,city:t.location.city||null,state:t.location.state||null,postalCode:t.location.postalCode||null,country:t.location.country||null,lat:t.location.lat||null,lng:t.location.lng||null}),n}function u(e,t){if(e&&t){var n,r,a=0;return n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/gm,"\\$&").replace(","," ").replace(/(\r\n|\n|\r)/gm,"").replace(/\s+/g," ").split(" "),_.each(n,function(e){r=new RegExp(e,"g","m","i"),r.test(t)&&a++}),a/n.length>=.6}}function l(e){if(m){var t,n=0;return m.addressLine&&(t=new RegExp(m.addressLine,"i"),t.test(e)&&n++),m.city&&(t=new RegExp(m.city,"i"),t.test(e)&&n++),m.state&&(t=new RegExp(m.state),t.test(e)&&n++),m.postalCode&&(t=new RegExp(m.postalCode),t.test(e)&&n++),m.country&&(t=new RegExp(m.country,"i"),t.test(e)&&n++),console.warn("score",n),n>=3}}function c(t){e.workingEvent.location.address&&(f&&f(),h=e.workingEvent.location.address,f=e.$watch("workingEvent.location.address",function(n){if(n!==h){var r=t?u(h,n):l(n);r||(e.workingEvent.location.lat=null,e.workingEvent.location.lng=null,h=null,f())}}))}function d(){if(e.workingEvent.location){if(e.workingEvent.location.name||e.workingEvent.location.address||!e.search.query)return}else if(!e.search.query)return;g&&g(),g=e.$watch("workingEvent.location.address",function(t){t&&(e.workingEvent.location.name=e.search.query,e.search.query="",g())})}function p(){f&&f(),g&&g()}var m,f,h,g;e.locations=[],e.clearLocation=function(){e.workingEvent.location.name="",e.workingEvent.location.address="",e.search.query=""},e.queryAsLocationName=function(){e.search.show=!1,e.search.focusName=!0,e.workingEvent.location?e.workingEvent.location.name=e.search.query:e.workingEvent.location={name:e.search.query},e.search.query=""},e.queryActingAsLocationName=function(){d()},e.searchFoursquare=function(){return e.search.show=!0,e.search.query&&e.search.nearBy?(r.search(e.search.nearBy,e.search.query,4).then(function(t){e.locations=t.venues},function(){e.locations=[]}),void 0):(e.locations=[],void 0)},e.selectFoursquare=function(t){e.search.show=!1,e.search.focusName=!0,m=s("foursquare",t),e.workingEvent.location={name:t.name,address:o(m),lat:t.location.lat,lng:t.location.lng},e.search.query="",c()},e.setAddressToCurrentLocation=function(){i().then(function(t){m=s("currentLocation",t),e.workingEvent.location?(e.workingEvent.location.address=o(m),e.workingEvent.location.lat=t.lat,e.workingEvent.location.lng=t.lng):e.workingEvent.location={address:o(m),lat:t.lat,lng:t.lng},c()})},e.setNearByToCurrentLocation=function(){i().then(function(t){e.search.nearBy=t.address.postalCode||t.address.locality,e.searchFoursquare()})},a()}]),angular.module("groupme").controller("GroupSettingsController",["$scope","$q","$translate","messageStoreService","chatsService","currentChatsService","sessionService","$groups","$member","promptModalService","chat","trayStateService","formerGroupsService","emojiService",function(e,t,n,r,a,i,o,s,u,l,c,d,p,m){function f(){e.chat=c,h()}function h(){o.currentUser().then(function(t){e.currentMember=_.findWhere(c.group.members,{user_id:t.id}),e.isCreator=c.group.creator_user_id===t.user_id})}e.chatTitleWithEmoji=function(){return m.twemojify(c.name,!1)},e.updateGroupAvatar=function(e){return s.update(c.group.id,{image_url:e}).then(function(e){return e.image_url})},e.updateGroupName=function(e){return s.update(c.group.id,{name:e})},e.updateTopic=function(e){return e.length>250?l.alert(n.instant("Group.Settings.Errors.TopicLength")).then(function(){return t.reject()}):s.update(c.group.id,{description:e})},e.updateNickname=function(t){return u.update(c.group.id,e.currentMember.id,{nickname:t})},e.toggleOfficeMode=function(){s.update(c.group.id,{office_mode:!e.chat.group.office_mode}).then(function(t){e.chat.group.office_mode=t.office_mode})},e.toggleMute=function(){if(!e.chat.group.office_mode){var t=e.currentMember.muted?"unmute":"mute";u[t](c.group.id,e.currentMember.id).then(function(){e.currentMember.muted=!e.currentMember.muted})}},e.toggleSharing=function(){var t=!!e.chat.group.share_url;s.update(c.group.id,{share:!t}).then(function(t){e.chat.group.share_url=t.share_url},function(e){console.error(e),l.alert(n.instant("Group.Settings.Errors.ShareError",{email:"support@groupme.com"}))})},e.clearHistory=function(){s.clearHistory(c.group.id).then(function(){return a.reloadAll()}).then(function(){return i.openChat(c.group.id)}).then(function(){e.$close()})},e.leaveGroup=function(){u.remove(c.group.id,e.currentMember.id).then(function(){return r.deleteKnownChat(c.group.id),d.getState("archives")?p.all():t.when()}).then(function(){return a.reloadAll()}).then(function(){return i.close(c.group.id)}).then(function(){e.$close()})},e.endGroup=function(){s.destroy(c.group.id).then(function(){return a.reloadAll()}).then(function(){return i.close(c.group.id)}).then(function(){e.$close()})},f()}]),angular.module("groupme").controller("GroupCalendarController",["$scope","$rootScope","$filter","$translate","$compile","sessionService","calendarService","imageService","relationshipService","eventPayload","chatId","chatsService","Events","$timestamp",function(e,t,n,r,a,i,o,s,u,l,c,d,p,m){function f(){i.currentUser().then(function(t){return e.currentUser=t,d.find(c)}).then(function(t){e.chat=t,t.group?(e.group=t.group,e.DM=!1,h()):(e.DM=!0,k().then(function(){h()}))}),e.$on("$destroy",function(){})}function h(){l?e.showEventDetail(l):e.startWithCreate?e.showEventCreate():e.showAllEvents()}function g(t){o.deleteRsvp(t.conversation_id,t.event_id).then(function(n){t=_.extend(t,n.data.event),y(t),e.reloadEvents(t.event_id)},function(e){console.error(e)})}function v(t){var n,r=t.creator_id.toString()===e.currentUser.user_id.toString();r?(n=e.currentUser,n.isMe=!0):n=e.DM?e.otherUser:_.findWhere(e.group.members,{user_id:t.creator_id}),t.creator=n}function y(t){var n=e.DM?[e.currentUser,e.otherUser]:e.group.members;e.peopleGoing=_.filter(n,function(e){return _.contains(t.going,e.user_id)}),e.peopleNotGoing=_.filter(n,function(e){return _.contains(t.not_going,e.user_id)}),e.peoplePending=_.filter(n,function(e){return!_.contains(t.going,e.user_id)&&!_.contains(t.not_going,e.user_id)}),e.showResponseType(e.showPeople||"going")}function b(e){return e.begins.unix()}function w(t){t.length||(e.eventsByMonth=null);var n,r,a;e.eventsByMonth=[],_.each(t,function(t){return r=e.eventsByMonth.length,n&&n.isSame(t.begins,"year")&&n.isSame(t.begins,"month")?(e.eventsByMonth[r-1].events.push(t),n=t.begins,void 0):(a={name:t.begins.format("MMMM"),events:[t]},n&&(n.isSame(t.begins,"year")||(a.newYear=t.begins.format("YYYY"))),e.eventsByMonth.push(a),n=t.begins,void 0)})}function k(){var t,n=e.chat.id.split("+");return t=n[0].toString()!==e.currentUser.user_id.toString()?n[0]:n[1],u.relationships().then(function(n){e.otherUser=_.findWhere(n,{id:t})})}function M(){var t="";return t=e.createNew?e.DM?r.instant("DM.Events.NewEventWith",{name:e.otherUser.name}):r.instant("Group.Events.Create.NewEventIn",{name:e.chat.group.name}):e.editEvent?r.instant("Group.Events.EditEventHeader",{name:e.selectedEvent.name}):e.DM?r.instant("DM.Events.EventsWith",{name:e.otherUser.name}):r.instant("Group.Events.EventsIn",{name:e.chat.group.name})}e.showEventDetail=function(t){e.listEvents=null,e.createNew=null,e.editEvent=null,e.selectedEvent=null,e.calendarHeader=M(),o.show(t.conversation_id,t.event_id).then(function(t){e.selectedEvent=t.data.event,v(e.selectedEvent),y(e.selectedEvent)},function(e){console.error(e)})},e.showAllEvents=function(){var t,r=o.formatDate(moment());e.selectedEvent=null,e.createNew=null,e.editEvent=null,e.listEvents=!0,e.calendarHeader=M(),o.list(e.chat.id,r).then(function(e){t=n("orderBy")(e.data.events,b),t=_.reject(t,function(e){return!!e.deleted_at}),_.each(t,function(e){v(e)}),w(t)},function(e){console.error(e)})},e.showEventCreate=function(){e.listEvents=null,e.selectedEvent=null,e.editEvent=null,e.createNew=!0,e.calendarHeader=M()},e.showEventEdit=function(){e.selectedEvent&&(e.listEvents=null,e.createNew=null,e.editEvent=!0,e.calendarHeader=M())},e.cancelEventForm=function(){e.editEvent?e.showEventDetail(e.selectedEvent):e.showAllEvents()},e.eventIsEditable=function(){return e.selectedEvent?e.selectedEvent.creator.isMe?e.selectedEvent.has_happened?!1:e.selectedEvent.deleted_at?!1:!0:!1:!1},e.rsvp=function(t,n){return n?t&&n.user_going||!t&&n.user_not_going?(g(n),void 0):(o.rsvp(n.conversation_id,n.event_id,!!t).then(function(t){n=_.extend(n,t.data.event),y(n),e.reloadEvents(n.event_id)},function(e){console.error(e)}),void 0):void 0},e.showResponseType=function(t){("going"===t||"not"===t||"pending"===t)&&("going"===t?e.selectedResponseType=e.peopleGoing:"not"===t?e.selectedResponseType=e.peopleNotGoing:"pending"===t&&(e.selectedResponseType=e.peoplePending),e.showPeople=t,e.$$phase||e.$apply())},e.reloadEvents=function(e){t.$broadcast(p.EVENT_UPDATE,e)},e.formatDay=function(e){return e.format("ddd, ")+m.formatTime(e,"MMMd")},e.createdByText=function(e){return e?e.creator.isMe?r.instant("Group.Events.View.CreatedByYou"):r.instant("Group.Events.View.CreatedBy",{creator:e.creator.nickname||e.creator.name}):""},f()}]),angular.module("groupme").controller("GroupMediaSearchController",["$scope","giphyService","curatedMediaService","imageService","bingService","loadingSpinnerService",function(e,t,n,r,a,i){function o(){e.searchQuery="",e.searchResults=null,e.mediaType="gifs",e.$evalAsync(c),e.$watch("searchQuery",function(t){e.searchResults=null,""!=t?(v=void 0,u(t)):l()}),e.$on("$destroy",function(){})}function s(){e.searchResults=e.searchQuery?v:g}function u(t){switch(e.mediaType){case"gifs":d(t);break;case"images":m(t);break;case"videos":h(t)}}function l(){switch(e.mediaType){case"gifs":c();break;case"images":p();break;case"videos":f()}}function c(){n.getCuratedGifs().then(function(e){g=_.map(e,function(e){var t=parseInt(e.images.fixed_width_downsampled.width)>parseInt(e.images.fixed_width_downsampled.height);return{originalUrl:e.images.original.url,thumbnailUrl:t?e.images.fixed_width_downsampled.url:e.images.fixed_height_downsampled.url,landscape:t}})},function(){g=null}).finally(function(){s()})}function d(e){var n=16,r=0;void 0!==v&&(r=v.length),t.search(e,n,r).then(function(e){v=(void 0===v?[]:v).concat(_.map(e.data.data,function(e){var t=parseInt(e.images.fixed_width_downsampled.width)>parseInt(e.images.fixed_width_downsampled.height);return{originalUrl:e.images.original.url,thumbnailUrl:t?e.images.fixed_width_downsampled.url:e.images.fixed_height_downsampled.url,landscape:t}}))},function(){v=null}).finally(function(){s()})}function p(){n.getCuratedBingImages().then(function(e){g=_.map(e,function(e){var t=e.width>e.height;return{originalUrl:e.link,thumbnailUrl:e.thumbnail_link,landscape:t}})},function(){g=null}).finally(function(){s()})}function m(e){var t=16,n=0;void 0!==v&&(n=v.length),a.imageSearch(e,t,n).then(function(e){v=(void 0===v?[]:v).concat(_.map(e.data.SearchResponse.Image.Results,function(e){var t=e.Thumbnail.Width>e.Thumbnail.Height;return{originalUrl:e.MediaUrl,thumbnailUrl:e.Thumbnail.Url,landscape:t}}))},function(){v=null}).finally(function(){s()})}function f(){n.getCuratedBingVideos().then(function(e){g=_.map(e,function(e){var t=e.thumbnail_width>e.thumbnail_height;return{originalUrl:e.url,thumbnailUrl:e.thumbnail_url,landscape:t}})},function(){g=null}).finally(function(){s()})}function h(e){var t=16,n=0;void 0!==v&&(n=v.length),a.videoSearch(e,t,n).then(function(e){v=(void 0===v?[]:v).concat(_.map(e.data.SearchResponse.Video.Results,function(e){var t=e.StaticThumbnail.Width>e.StaticThumbnail.Height;return{originalUrl:e.PlayUrl,thumbnailUrl:e.StaticThumbnail.Url,landscape:t}}))},function(){v=null}).finally(function(){s()})}var g,v;e.selectImageItem=function(t){if("videos"!=e.mediaType){var n,a=i.showSpinner();r.uploadByUrl(t.originalUrl).then(function(e){n=e}).finally(function(){a.close()}),a.result.then(function(){if(void 0===n)e.$dismiss();else{var t="gifs"==e.mediaType?"GIF":"image";e.$close({imageUrl:n,choiceMethod:""==e.searchQuery?"browse":"search",searchQuery:e.searchQuery,type:t})}})}else e.$close({imageUrl:t.originalUrl,choiceMethod:""==e.searchQuery?"browse":"search",searchQuery:e.searchQuery,type:"video"})},e.loadMoreResults=function(){""!=e.searchQuery&&u(e.searchQuery)},e.changeMediaType=function(t){e.mediaType!=t&&(e.mediaType=t,g=void 0,v=void 0,e.searchResults=null,""==e.searchQuery?l():u(e.searchQuery))},o()}]),angular.module("groupme").controller("GroupMembersController",["$scope","$modal","$member","currentChatsService","group","GMAssets","emojiService",function(e,t,n,r,a,i,o){e.group=a,e.chatTitleWithEmoji=function(){return o.twemojify(e.group.name,!1)},e.openOneOnOne=function(t){r.openOneOnOne({id:t.user_id,name:t.nickname,avatar_url:t.image_url}),e.$close("oneOnOne")},e.addMembers=function(){t.open({templateUrl:"views/new_group/new-group-modal.html?version="+i.version,windowClass:"new-group",animation:!1,size:"sm",controller:"NewGroupModalController",resolve:{existingGroup:function(){return e.group},pointOfInitiation:function(){return"members"}}}).opened.then(function(){e.$close("addMembers")})},e.removeMember=function(t){n.remove(a.id,t).then(function(){e.group.members=_.reject(e.group.members,function(e){return e.id==t})},function(t){e.errorMessage=t.messages||t})},e.isCreator=function(e){return a.creator_user_id===e}}]),angular.module("groupme").controller("GroupPopularController",["$scope","$translate","popularService","sessionService","messageDecorationService","chat",function(e,t,n,r,a,i){function o(){e.chat=i,e.chatId=i.id,e.showAllLikes(),e.headerText=t.instant("Group.Popular.PopularMessagesIn",{name:e.chat.group.name}),r.currentUser().then(function(t){e.currentUser=t})}function s(t){return Array.isArray(t)?(t.length>c&&(t=t.slice(0,c)),t.length<=l&&(e.allLoaded=!0),a.process(t).then(function(t){angular.forEach(t,function(e){e.isBookend=!0}),e.messages=t,e.loading=!1})):(e.messages=null,void 0)}function u(){e.limit=20,e.allLoaded=!1}var l=20,c=160;e.loadMore=function(){e.allLoaded||(e.limit+l>=e.messages.length?(e.limit=e.messages.length,e.allLoaded=!0):e.limit+=l)},e.getUsersFirstName=function(){var t;if(e.currentUser)try{t=e.currentUser.name}catch(n){Bugsnag.notify("GroupPopularController#getUsersFirstName","currentUser name error",{error:n,currentUser:e.currentUser})}finally{if(!t)return;return t.split(" ")[0]}},e.getCurrentPeriod=function(){return"day"===e.period?t.instant("Group.Popular.Today"):"week"===e.period?t.instant("Group.Popular.ThisWeek"):"month"===e.period?t.instant("Group.Popular.ThisMonth"):void 0},e.getEmptyText=function(){return"allLikes"===e.category?t.instant("Group.Popular.Engaging.Everyone"):"likedByOthers"===e.category?t.instant("Group.Popular.Engaging.Others"):"myLikes"===e.category?t.instant("Group.Popular.Engaging.MyLikes"):""},e.showAllLikes=function(){e.loading=!0,e.category="allLikes",u(),e.period||(e.period=n.getDefaultPeriod()),n.likes(e.chat.id,e.period).then(function(e){return s(e)})},e.showLikedByOthers=function(){e.loading=!0,e.category="likedByOthers",u(),n.likedByOthers(e.chat.id).then(function(e){return s(e)})},e.showMyLikes=function(){e.loading=!0,e.category="myLikes",u(),n.myLikes(e.chat.id).then(function(e){return s(e)})},e.setPeriod=function(t){n.isPeriodValid?e.period=t:(Bugsnag.notify("GroupPopularController#setPeriod","Period for all likes is not supported",{period:t}),e.period=n.getDefaultPeriod()),e.showAllLikes()},o()}]),angular.module("groupme").controller("GroupSidebarController",["$scope","$modal","$location","GMAssets","sessionService",function(e,t,n,r,a){e.showMembers=function(){var n=t.open({templateUrl:"views/chat/members.html?version="+r.version,windowClass:"group-members",animation:!1,size:"lg",controller:"GroupMembersController",scope:e,resolve:{group:function(){return e.chat.group}}});n.opened.then(function(){a.setEndScreenInfo("members")}),n.result.then(function(e){e||a.setEndScreenInfo("group chat")},function(){a.setEndScreenInfo("group chat")})},e.showSettings=function(){var n=t.open({templateUrl:"views/chat/group-settings.html?version="+r.version,animation:!1,windowClass:"group-settings",size:"lg",controller:"GroupSettingsController",resolve:{chat:function(){return e.chat}}});n.opened.then(function(){a.setEndScreenInfo("group settings")}),n.result.then(function(){a.setEndScreenInfo("group chat")},function(){a.setEndScreenInfo("group chat")})},e.showPopular=function(){var n=t.open({templateUrl:"views/chat/popular.html?version="+r.version,animation:!1,windowClass:"popular modal-fill",size:"lg",controller:"GroupPopularController",resolve:{chat:function(){return e.chat}}});n.opened.then(function(){a.setEndScreenInfo("popular")}),n.result.then(function(){a.setEndScreenInfo("group chat")},function(){a.setEndScreenInfo("group chat")})},e.showCalendar=function(){var n=t.open({templateUrl:"views/chat/calendar/calendar.html?version="+r.version,animation:!1,windowClass:"calendar-modal",controller:"GroupCalendarController",resolve:{eventPayload:function(){return null},chatId:function(){return e.chat.id}}});n.opened.then(function(){a.setEndScreenInfo("group calendar")}),n.result.then(function(){a.setEndScreenInfo("group chat")},function(){a.setEndScreenInfo("group chat")})},e.showGallery=function(){var n=t.open({templateUrl:"/views/gallery.html?version="+r.version,animation:!1,size:"lg",windowClass:"gallery-modal modal-fill",controller:"GalleryController",resolve:{chat:function(){return e.chat}}});n.opened.then(function(){a.setEndScreenInfo("group gallery")}),n.result.then(function(){a.setEndScreenInfo("group chat")},function(){a.setEndScreenInfo("group chat")})}}]),angular.module("groupme").controller("ImageUploadController",["$scope","$translate","$modalInstance","payload","imageService",function(e,t,n,r,a){function i(){e.memeTopText="",e.memeBottomText="",r?(e.loading=!0,o(r)):e.showBrowseForm=!0,e.$on("$destroy",function(){p(!0)})}function o(n){n.file?s(n.file):n.url?l(n.url,n.meme):n.data?u(n.data):(console.error("Didn't find file or base 64 data in payload"),e.error=t.instant("Group.Messages.Compose.Upload.Errors.UnableToProcessRequest"))}function s(n){var r=new FileReader,i=n.type.match(/(jpe?g|gif|png)/i);return(i=i&&i[0])?(r.onload=function(t){a.upload(a.dataToBlob(t.target.result)).then(function(e){c(e,i)},function(t){console.error("Image upload error:",t),e.error=t,e.$$phase||e.$digest()})},r.onerror=function(n){console.error("reader onerror",n),e.error=t.instant("Group.Messages.Compose.Upload.Errors.ErrorWhileRead"),e.$$phase||e.$digest()},r.readAsDataURL(n),void 0):(console.error("Unsupported file type"),e.error=t.instant("Group.Messages.Compose.Upload.Errors.InvalidFile"),e.$$phase||e.$digest(),void 0)}function u(n){var r,i=n.match(/^data:image\/(\w+);base64/);return i?(r=i[1],a.upload(a.dataToBlob(n)).then(function(e){c(e,r)},function(t){console.error("Image upload error:",t),e.error=t,e.$$phase||e.$digest()}),void 0):(console.error("Could not extract image extension from data stream"),e.error=t.instant("Group.Messages.Compose.Upload.Errors.IncorrectFormat"),void 0)}function l(n,r){var i=n.match(/https?:\/\/i(-staging)?.groupme\.com\//),o=a.extractExtensionFromURL(n);return(o="jpg"===o?"jpeg":o)?(r&&(e.memeing=!0),i?c(n,o):a.uploadByUrl(n).then(function(e){c(e,o)},function(n){console.error("Could not upload image via url:",n),e.error=t.instant("Group.Messages.Compose.Upload.Errors.UnableToUploadSelected")}),void 0):(console.error("Could not extract image extension from url"),e.error=t.instant("Group.Messages.Compose.Upload.Errors.IncorrectFormat"),void 0)}function c(n,r){var i;if(i=n.match(/(\.large|\.preview|\.avatar)$/)?n:n+".large",!e.memeing){e.previewImage=i;var o=new Image;o.onload=function(){e.loading=!1}}a.urlToBase64(i).then(function(e){m=n,d("data:image/"+r+";base64,"+e)},function(n){console.error("Unable to convert image url:",n),e.error=t.instant("Group.Messages.Compose.Upload.Errors.UnableToProcessSelected")})}function d(n){var r=new Image;r.onload=function(){e.loading=!1,e.base64image=r,e.$$phase||e.$digest()},r.onerror=function(n){console.error("image onerror",n),e.error=t.instant("Group.Messages.Compose.Upload.Errors.ErrorWhileLoad"),e.$$phase||e.$digest()},r.src=n}function p(r,a){r&&n&&(n.dismiss({reason:a||t.instant("Group.Messages.Compose.Upload.Errors.UploadCancelled"),memeTopText:e.memeTopText,memeBottomText:e.memeBottomText,imageUrl:m}),n=null),m=null}var m;e.setImageUpload=function(t){var n=t.files[0];e.loading=!0,e.showBrowseForm=!1,o({file:n})},e.upload=function(r,i){e.uploading=!0,m&&!i?(n.close({imageUrl:m}),p()):a.upload(a.dataToBlob(r)).then(function(t){e.uploading=!1,n.close({imageUrl:t,sourceImageUrl:m,memeTopText:e.memeTopText,memeBottomText:e.memeBottomText}),p()},function(n){console.error("Meme upload error:",n),e.error=t.instant("Group.Messages.Compose.Upload.Errors.UnableToUploadMeme")})},e.cancel=function(){p(!0)},i()}]),angular.module("groupme").controller("LikesController",["$scope","$q","$push","likesStoreService","likeService","membershipService","sessionService","chatsService",function(e,t,n,r,a,i,o,s){function u(){e.message.favorited_by||(e.message.favorited_by=[]),p(),l()}function l(){var t,r=/\+/.test(e.chatId);t=r?"like.create":"favorite",t+=".message."+e.message.id,n.on(t,function(t){var n=r?t.direct_message:t.line,a=r?t.direct_message.recipient_id:t.user_id;(!v||n.favorited_at>=v)&&(e.message.favorited_by=n.favorited_by,v=n.favorited_at,m(),g(),e.likesGhost&&e.likesGhost(a))},{condition:function(t){var n=r?t.direct_message.id:t.line.id;return n===e.message.id},silent:!0}),e.$on("$destroy",function(){n.off(t,{silent:!0})})}function c(){h(),a.unlike(e.chatId,e.message.id).then(function(){},function(e){console.warn("unlike err",e),f()})}function d(){f(),a.like(e.chatId,e.message.id).then(function(){},function(e){console.warn("like err",e),h()})}function p(){return t.all({currentUser:o.currentUser(),chat:s.find(e.chatId)}).then(function(t){var n;e.currentUser=t.currentUser,e.chat=t.chat,n=r.getMessageLikes(e.message.id),n&&!v&&(e.message.favorited_by=n.favorited_by),m(),g(),e.likesLoaded=!0})}function m(){var t=!1;angular.forEach(e.message.favorited_by,function(n){e.currentUser.id==n&&(t=!0)}),e.likedByMe=t}function f(){h(),e.message.favorited_by.push(e.currentUser.id),m(),g()}function h(){e.message.favorited_by.reject(function(t){return t===e.currentUser.id}),m(),g()}function g(){var t=e.message.favorited_by,n=/\+/.test(e.chatId);e.likesList=n?_.map(t,function(t){return{user_id:t,image_url:t===e.currentUser.id?e.currentUser.image_url:e.chat.imageUrl,nickname:t===e.currentUser.id?e.currentUser.name:e.chat.name}}):_.filter(e.chat.group.members,function(e){return _.contains(t,e.user_id)})}var v;e.toggleLike=function(){(e.likedByMe?c:d)(e.message.id)},u()}]),angular.module("groupme").controller("MessageController",["$scope","messageService","sessionService","currentChatsService","chatsService",function(e,t,n,r,a){function i(){n.currentUser().then(function(t){e.currentUser=t})}function o(){return"user"===e.message.sender_type&&!e.message.system}e.openOneOnOne=function(){e.currentUser.id!==e.message.user_id&&o()&&r.openOneOnOne({id:e.message.user_id,name:e.message.name,avatar_url:e.message.avatar_url})},e.retry=function(){a.find(e.chatId).then(function(n){t.retry(n,e.message.source_guid)})},e.remove=function(){},i()}]),angular.module("groupme").controller("NotificationMessageController",["$scope",function(){}]),angular.module("groupme").controller("ContactSettingsController",["$scope","oneOnOneMessageService","chatsService","currentChatsService","emojiService","contact","dm",function(e,t,n,r,a,i,o){function s(){e.contact=i}e.dmNameWithEmoji=function(){return a.twemojify(e.contact.name,!1)},e.clearHistory=function(){t.clearHistory(o).then(function(){return n.reloadAll()}).then(function(){return r.openChat(o.id)}).then(function(){e.$close()})},s()}]),angular.module("groupme").controller("OneOnOneSidebarController",["$scope","$modal","otherUserService","Events","GMAssets","sessionService",function(e,t,n,r,a,i){function o(){n.find(e.chat.id).then(function(t){e.contact=t})}e.showSettings=function(){var n=t.open({templateUrl:"views/chat/contact_settings.html?version="+a.version,animation:!1,controller:"ContactSettingsController",resolve:{contact:function(){return e.contact},dm:function(){return e.chat}}});n.opened.then(function(){i.setEndScreenInfo("dm settings")}),n.result.then(function(){i.setEndScreenInfo("dm chat")},function(){i.setEndScreenInfo("dm chat")})},e.showCalendar=function(){var n=t.open({templateUrl:"views/chat/calendar/calendar.html?version="+a.version,animation:!1,windowClass:"calendar-modal",controller:"GroupCalendarController",resolve:{eventPayload:function(){return null},chatId:function(){return e.chat.id}}});n.opened.then(function(){i.setEndScreenInfo("dm calendar")}),n.result.then(function(){i.setEndScreenInfo("dm chat")},function(){i.setEndScreenInfo("dm chat")})},e.showGallery=function(){var n=t.open({templateUrl:"/views/gallery.html?version="+a.version,animation:!1,size:"lg",windowClass:"gallery-modal modal-fill",controller:"GalleryController",resolve:{chat:function(){return e.chat}}});n.opened.then(function(){i.setEndScreenInfo("dm gallery")}),n.result.then(function(){i.setEndScreenInfo("dm chat")},function(){i.setEndScreenInfo("dm chat")})},o()}]),angular.module("groupme").controller("TypingNotificationsController",["$scope","$push","$timeout","nicknamesService",function(e,t,n,r){var a={};t.on("typing."+e.chat.id,function(t){var r,o=e.nicknames[t.user_id];return o?(t.user_id!=e.currentUser.id&&((r=a[t.user_id])?(n.cancel(r.timeout),r.timeout=i(t.user_id)):a[t.user_id]={nickname:o,timeout:i(t.user_id)},s()),void 0):console.debug("Skipping typing notification for "+o)},{condition:function(t,n){return n.channel=="/group/"+e.chat.id}}),e.$on("$destroy",function(){t.off("typing."+e.chat.id)});var i=function(t){return n(function(){delete a[t],s(),e.typingNotification=""},1500)},o=function(){return _.map(a,function(e){return e.nickname})},s=function(){var t,n=o();t=0==n.length?"":1==n.length?n[0]+" is typing":r.toSentence(n)+" are typing",e.typingNotification=t}}]),angular.module("groupme").controller("VideoPreviewController",["$scope","$inlineDownloader","payload",function(e,t,n){function r(){n&&(t.process(n.url).then(function(e){a(e)}),e.$on("$destroy",function(){}))}function a(t){switch(angular.extend(e,t),t.template){case"instagram":case"imgur":e.showHTMLVideo=!0;break;case"vine":e.showHTMLVideo=!0;break;case"youtube":case"vimeo":e.showIframeVideo=!0}}e.cancel=function(){e.$dismiss()},e.post=function(){e.$close()},r()}]),angular.module("groupme").controller("ChatController",["$scope","$rootScope","currentChatsService","chatsService","settingsService","imageService","$modal","GMAssets","sessionService",function(e,t,n,r,a,i,o,s,u){function l(){e.nicknames={},e.chat.group?(p(e.chat,e),u.increaseGroupsOpened(e.chat.id)):(m(e.chat,e),u.increaseDMsOpened(e.chat.id))}function c(e,t){var n=o.open({templateUrl:"views/chat/image_upload.html?version="+s.version,animation:!1,windowClass:"image-upload",controller:"ImageUploadController",resolve:{payload:function(){return e}}});n.result.then(function(e){e&&d(e,t)},function(e){d(e,t)})}function d(n,r){t.$emit(i.ImageAttached,{image:n,context:{mediaChoiceMethod:r,chatId:e.chat.id}})}function p(e,t){angular.forEach(e.group.members,function(e){t.nicknames[e.user_id]=e.nickname})}function m(e,t){var n=r.otherUserId(e.id,t.currentUser);t.nicknames[n]=e.name,t.nicknames[t.currentUser.id]=t.currentUser.name}e.closeChat=function(){n.close(e.chat.id)},e.toggleSidebar=function(){e.showSidebar=!e.showSidebar},e.imageViaDrop=function(e){e.file?c({file:e.file},"drag and drop"):c({url:e.url},"drag and drop")},e.imageViaRememe=function(e){c({url:e,meme:!0},"rememe")},l()}]),angular.module("groupme").controller("ChatsController",["$scope","$routeParams","$translate","currentChatsService",function(e,t,n,r){function a(){e.welcomeMsg=n.instant("Notifications.WelcomeGreat",{user:e.currentUser.name.split(" ")[0]}),e.$root.bodyClass="chatting",t.chatId&&r.openChat(t.chatId),e.chats=r,e.$on("$destroy",function(){e.$root.bodyClass=""})}a()}]),angular.module("groupme").controller("ConnectivityController",["$scope","$rootScope","Events",function(e,t,n){e.showOfflineNotification=!1,t.$on(n.USER_OFFLINE,function(){e.currentUser&&(e.showOfflineNotification=!0)}),t.$on(n.USER_ONLINE,function(){e.showOfflineNotification=!1}),e.reload=function(){window.location="/chats"}}]),angular.module("groupme").controller("DMCardController",["$scope","$routeParams","$location","$sce","$translate","relationshipService","currentChatsService","sharedGroupsService","Translations",function(e,t,n,r,a,i,o,s,u){function l(){var n=t.contactId;n&&e.$evalAsync(function(){c(n)})}function c(t){e.loadingContact=!0,i.relationships().then(function(){return _.findWhere(i.known,{id:t})}).then(function(n){return e.contact=n,e.contact.id==GM.ids.bots.tay&&(e.contactDescription=u.lang.match(/^en-/)?["AI w/ zero chill.","The more we talk the smarter I get.",r.trustAsHtml('More info: <a href="https://tay.ai/#about" target="_blank">tay.ai/#about</a>')]:[a.instant("Contacts.Card.Tay.FirstLine"),a.instant("Contacts.Card.Tay.SecondLine"),r.trustAsHtml(a.instant("Contacts.Card.Tay.ThirdLine"))]),s.all(t)}).then(function(t){e.sharedGroups=t,e.loadingContact=null},function(t){console.error("Contact Card Error",t),e.loadingContact=null})}e.openDM=function(){o.openOneOnOne(e.contact).then(function(){n.path("/chats")})},l()}]),angular.module("groupme").controller("emailUnsubscribeController",["$scope","$location","$routeParams","api","$translate",function(e,t,n,r,a){return e.status=a.instant("EmailUnsubscribe.RemovalPendingMessage"),r.post("v2","emails/unsubscribe",{token:n.email_token,email_type:n.email_type}).then(e.status=a.instant("EmailUnsubscribe.RemovalSuccessMessage"))}]),angular.module("groupme").controller("FindFriendsController",["$scope","facebookService","$rootScope","importContactsService",function(e,t,n,r){e.user=e.currentUser,e.addFacebookAccount=function(){t.login().then(function(t){r.importFacebookContacts(t.accessToken).then(function(){e.user.facebook_connected=!0},function(t){e.errorMessage=t.messages||"Something went wrong. Please try again or contact support@groupme.com"})})}}]),angular.module("groupme").controller("FriendsController",["$scope","$filter","relationshipService","removeRelationshipService","promptModalService",function(e,t,n,r,a){function i(){n.relationships().then(function(n){e.friends=_.select(n,function(e){return!e.hidden}),e.friends=t("orderBy")(e.friends,["name"])})}e.block=function(t){r.remove(t).then(function(){e.friends=_.reject(e.friends,function(e){return e.user_id==t})
},function(){a.alert("We were unable to remove this contact.",!0)})},i()}]),angular.module("groupme").controller("GalleryController",["$scope","chatsService","galleryService","chat","emojiService",function(e,t,n,r,a){function i(){r&&(e.loadingPage=!0,e.chat=r,o())}function o(){n.loadLatest(e.chat.id).then(function(t){e.loadingPage=null,e.allLoaded=t.incompleteSet,e.images=t.messages},function(){e.loadingPage=null,e.allLoaded=!0})}e.chatName=function(){return a.twemojify(e.chat.name,!1)},e.loadNextPage=function(){var t=_.last(e.images).gallery_ts;e.loadingPage=!0,n.loadOlder(e.chat.id,t).then(function(t){e.allLoaded=t.incompleteSet,_.each(t.messages,function(t){e.images.push(t)}),e.loadingPage=null},function(){console.error("Couldn't load pictures"),e.loadingPage=null})},i()}]),angular.module("groupme").controller("joinController",["$scope","$routeParams","GroupPreview","Client","performAfterAuth","$location","sessionService",function(e,t,n,r,a,i,o){function s(e,t){var n,r;if(e)n="."+t,r=e.replace(/https?:/,"").replace(n,"")+n;else switch(t){case"avatar":r="//app.groupme.com/images/default-avatar.jpg";break;case"preview":r="//app.groupme.com/images/default-preview.jpg"}return r}e.joinable=!0,t.invite_token?e.preview=new n({inviteToken:t.invite_token}):(e.preview=new n({groupId:t.group_id,shareToken:t.share_token}),e.appJoinUrl=e.preview.openInAppJoinUrl()),e.preview.load().then(null,function(){e.joinable=!1}),e.viewable=function(){return e.joinable},e.isInApp=r.isNative,e.canOpenInApp=function(){return!!e.appJoinUrl},e.avatarURL=function(e){return s(e,"avatar")},e.previewURL=function(e){return s(e,"preview")},e.join=function(){function t(){e.preview.join().then(function(){if(r.isMobile)o.signOut().then(function(){window.location="/join_group/success"});else{var t=e.preview.groupUrl();i.url(t)}},function(t){return t.errors&&(e.errorMessage=t.errors[0]),r.isMobile?(o.signOut().then(function(){window.location="/join_group/fail"}),void 0):(i.url("/join_group/fail"),void 0)})}return r.isNative?(window.location.href=e.appJoinUrl,void 0):(e.currentUser?t():(a.set(t),i.url("/join_group/authenticate")),void 0)}}]),angular.module("groupme").controller("MSALoginController",["app",function(e){e.authenticateThroughMSA()}]),angular.module("groupme").controller("NotificationsController",["$scope","$push","$timeout","$interpolate","$sce","chatsService","focusService","pageTitleService","currentChatsService","emojiService","groupmeEmojiService","$inlineDownloader","settingsService","Events","$translate",function(e,t,n,r,a,i,o,s,u,l,c,d,p,m,f){function h(){R={},B=[],e.messages=[],U=p.get("internalNotificationsEnabled"),O=p.get("externalNotificationsEnabled"),I=!U&&!O,I||A(),$(window).on("unload.notifications",w),e.$on(m.NOTIFICATION_CHANGE,g),e.$on("$destroy",P)}function g(e,t,n){U=t,O=n,w(),I||Y(),I=!U&&!O,I||A()}function v(e){O?b(e):y(e)}function y(t){var r;e.messages.unshift(t),r=n(function(){e.messages.pop()},N),B.push(r)}function b(t){var r,a,i,o,s,l,c;s=t.id.toString(),t.like?(i=t.alert,o=t.showText?k(t):"",s+=t.favorited_at.toString()):t.membershipCreate?i=t.alert:t.group_id?(i=t.groupName,o=t.showText?t.name+": "+k(t):t.alert):(i=t.name,o=t.showText?k(t):t.alert),l={body:o,icon:e.getAvatar(t)+".preview",tag:s},r=new Notification(i,l),r.onclick=function(){window.focus(),u.openChat(t.chatId)},a=_.uniqueId("notification_"),R[a]=r,c=n(function(){r.close(),delete R[a]},N),B.push(c)}function w(){_.each(B,function(e){n.cancel(e)}),B=[],e.messages=[],_.each(R,function(e){_.isFunction(e.close)&&e.close()}),R={}}function k(e){var t=c.translations(),n=e.text;return _.each(e.attachments,function(e){"emoji"==e.type&&_.each(e.charmap,function(r){var a=t[r[0]][r[1]];n=n.replace(e.placeholder,"("+a.text+")")})}),n}function M(e){o.isFocused||(e.groupName?s.flash(f.instant("Notifications.NewMessageInText",{groupName:e.groupName})):s.flash(f.instant("Notifications.NewMessageFromText",{name:e.name})))}function S(e){var t=T(e.attachments);if(t)return{type:"attachment",name:t};var n=d.detect(e.text);return n?{type:"inline",name:n}:{type:"plain",name:"message"}}function T(e){if(!e||!e.length)return void 0;for(var t=0,n=e.length;n>t;t++)switch(e[t].type){case"image":case"linked_image":return"image";case"location":case"event":case"video":return e[t].type}return void 0}function L(e){return o.isFocused?u.isVisible(e)?!0:!1:!1}function C(e){return r("<strong>{{ name }}</strong>")({name:l.twemojify(e)})}function j(t){if(void 0!==e.currentUser&&t.user_id!==e.currentUser.id&&!t.system&&!L(t.group_id)){var n=angular.copy(t),r=S(n);n.showText="plain"===r.type?!0:!1,n.showText||(n.alert=f.instant("Notifications.Posted."+("attachment"==r.type?"Attachment":"Inline")+"."+r.name,{user:O?n.name:C(n.name)}),O||(n.alert=a.trustAsHtml(n.alert))),i.find(n.group_id).then(function(e){n.chatId=e.id,n.groupName=e.name,n.groupAvatarUrl=e.imageUrl,M(n),v(n)})}}function x(t){if(void 0!==e.currentUser&&t.sender_id!==e.currentUser.id&&!L(t.chat_id)){var n=angular.copy(t),r=S(n);n.showText="plain"===r.type?!0:!1,n.showText||(n.alert=f.instant("Notifications.Posted."+("attachment"==r.type?"Attachment":"Inline")+"."+r.name,{user:O?n.name:C(n.name)}),O||(n.alert=a.trustAsHtml(n.alert))),n.chatId=n.chat_id,M(n),v(n),i.knownChat(n.chatId)||i.reloadAll()}}function D(e,t){var n=angular.copy(e),r=n.line||n.direct_message,o=t.alert.split(" liked your ")[0],s=S(r);r.like=!0,r.showText="plain"===s.type?!0:!1,r.group_id?(r.chatId=r.group_id,i.find(r.group_id).then(function(e){r.alert=r.showText?f.instant("Notifications.Liked.Group.YourMessageInGroup",{user:O?o:l.twemojify(o),group:O?e.name:l.twemojify(e.name)}):f.instant("Notifications.Liked.Group."+("attachment"==s.type?"Attachment":"Inline")+"."+s.name,{user:O?o:l.twemojify(o),group:O?e.name:l.twemojify(e.name)}),O||(r.alert=a.trustAsHtml(r.alert)),r.groupAvatarUrl=e.imageUrl,v(r)})):(r.alert=r.showText?f.instant("Notifications.Liked.DM.YourDM",{user:O?o:l.twemojify(o)}):f.instant("Notifications.Liked.DM."+("attachment"==s.type?"Attachment":"Inline")+"."+s.name,{user:O?o:l.twemojify(o)}),O||(r.alert=a.trustAsHtml(r.alert)),r.chatId=r.chat_id,i.find(r.chatId).then(function(e){r.avatar_url=e.imageUrl,v(r)}))}function E(e,t){var n={},r=t.alert.split(" with ")[1],i=t.alert.split('"')[1];n.membershipCreate=!0,n.alert=f.instant("Notifications.Membership.YouHaveBeenAdded",{user:O?r:l.twemojify(r),group:O?i:l.twemojify(i)}),O||(n.alert=a.trustAsHtml(n.alert)),n.id=e.id,n.group_id=e.id,n.chatId=e.id,n.groupAvatarUrl=e.avatar_url,v(n)}function A(){t.on("line.create.notifications",j),t.on("direct_message.create.notifications",x),t.on("like.create.notifications",D),t.on("membership.create.notifications",E)}function Y(){t.off("line.create.notifications"),t.off("direct_message.create.notifications"),t.off("like.create.notifications"),t.off("membership.create.notifications")}function P(){$(window).off("unload.notifications"),w(),Y()}var I,O,U,R,B,N=1e4;e.remove=function(t){e.messages.remove(t)},e.open=function(t,n){u.openChat(t.chatId),e.remove(n)},e.getAvatar=function(e){return e.group_id?e.groupAvatarUrl:e.avatar_url},h()}]),angular.module("groupme").controller("PasswordResetController",["$scope","$location","$routeParams","passwordResetService","tokenService","$translate",function(e,t,n,r,a,i){if(a.token())return t.path("/profile");e.placeHolderEmailOrPhoneNumber=i.instant("ForgotPasswordPage.PlaceHolderEmailOrPhoneNumber"),e.placeHolderNewPassword=i.instant("ResetPage.PlaceHolderNewPassword");var o=function(e){404==e.status?"register"==e.errors[0]&&t.path("/signup"):s(e)},s=function(t){e.submitted=!1,e.errorMessage=404==t.status?i.instant("ForgotPasswordPage.Errors.PhoneNumberNotFound"):t.errors?t.errors.join(" "):i.instant("ForgotPasswordPage.Errors.UnknownError")};_.extend(e,{username:r.username,email:r.email,submitted:!1,create:function(){e.username?(e.submitted=!0,r.create(e.username).then(function(t){e.confirmSent=!0,e.email=t},o)):e.errorMessage=i.instant("ForgotPasswordPage.Errors.NoEmailOrPhoneEntered")},reset:function(){if(e.errorMessage=null,e.password){e.submitted=!0;var t=n.user_id,a=n.password_reset_token;r.reset(t,a,e.password).then(function(){e.passwordChanged=!0},s)}else e.errorMessage=i.instant("ForgotPasswordPage.Errors.EnterAPassword")}})}]),angular.module("groupme").controller("ProfileController",["$scope","$q","$location","$translate","sessionService","$user","$modal","imageService","facebookService","mixpanelService",function(e,t,n,r,a,i,o,s,u,l){function c(){a.currentUser().then(function(t){return e.currentUser=t,i.settings(t.id)}).then(function(t){e.userSettings=t})}function d(){o.open({templateUrl:"views/password.html",animation:!1}).result.then(h,h)}function p(){u.login().then(function(t){var n={facebook_user_id:t.userId,facebook_access_token:t.accessToken};return i.update(e.currentUser.id,n)}).then(function(t){e.userSettings.facebook_user_id=t.facebook_user_id,e.userSettings.facebook_access_token=t.facebook_access_token,l.peopleSet({"Facebook Connected":!0})},function(){e.errorMessage=r.instant("Profile.Errors.UnableConnect"),e.updatingField=null})}function m(){var t={facebook_user_id:null,facebook_access_token:null};i.update(e.currentUser.id,t).then(function(t){e.userSettings.facebook_user_id=t.facebook_user_id,e.userSettings.facebook_access_token=t.facebook_access_token,l.peopleSet({"Facebook Connected":!1})},function(){e.errorMessage=r.instant("Profile.Errors.UnableDisconnect"),e.updatingField=null})}function f(){var t={twitter_auth_token:null,twitter_auth_token_secret:null};i.update(e.currentUser.id,t).then(function(t){e.userSettings.twitter_auth_token=t.twitter_auth_token,e.userSettings.twitter_auth_token_secret=t.twitter_auth_token_secret,l.peopleSet({"Twitter Connected":!1})},function(){e.errorMessage=r.instant("Profile.Errors.UnableDisconnectTwitter"),e.updatingField=null})}function h(){n.path("/signout")}e.updateAvatar=function(n){return i.update(e.currentUser.id,{avatar_url:n}).then(function(t){return e.updateSuccess=!0,t.avatar_url},function(){return e.errorMessage=r.instant("Profile.Errors.AvatarUpdate"),t.reject()})},e.updateName=function(){e.updatingField=!0,i.update(e.currentUser.id,{name:e.editedName}).then(function(t){e.currentUser.name=t.name,e.updatingField=null,e.updateSuccess=!0,e.editName(!0)},function(){e.errorMessage=r.instant("Profile.Errors.NameChange"),e.updatingField=null})},e.updateEmail=function(){e.updatingField=!0,i.update(e.currentUser.id,{email:e.editedEmail}).then(function(t){e.currentUser.email=t.email,e.updatingField=null,e.updateSuccess=!0,e.editEmail(!0)},function(){e.errorMessage=r.instant("Profile.Errors.EmailChange"),e.updatingField=null})},e.updatePassword=function(){return e.errorMessage=null,e.newPassword!==e.confirmPassword?(e.errorMessage=r.instant("Profile.Errors.PasswordsDoNotMatch"),void 0):(e.updatingField=!0,i.update(e.currentUser.id,{password:e.newPassword}).then(function(){e.newPassword=e.confirmPassword="",e.updatingField=null,e.updateSuccess=!0,e.editPassword(!0),d()},function(t){e.errorMessage=t.errors[0]}),void 0)},e.editName=function(t){t||(e.updateSuccess=null,e.editEmail(!0),e.editPassword(!0)),e.editedName=t?null:e.currentUser.name,e.editingName=t?null:!0,e.errorMessage=null},e.editEmail=function(t){t||(e.updateSuccess=null,e.editName(!0),e.editPassword(!0)),e.editedEmail=t?null:e.currentUser.email,e.editingEmail=t?null:!0,e.errorMessage=null},e.editPassword=function(t){t||(e.updateSuccess=null,e.editName(!0),e.editEmail(!0)),e.newPassword=e.confirmPassword="",e.editingPassword=t?null:!0,e.errorMessage=null},e.facebookConnected=function(){return e.userSettings?!(!e.userSettings.facebook_user_id||!e.userSettings.facebook_access_token):!1},e.twitterConnected=function(){return e.userSettings?!(!e.userSettings.twitter_auth_token||!e.userSettings.twitter_auth_token_secret):!1},e.toggleFacebook=function(){e.facebookConnected()?m():p()},e.toggleTwitter=function(){e.twitterConnected()&&f()},c()}]),angular.module("groupme").controller("RootController",["tokenService","$location","Client",function(e,t,n){n.isMobile?t.path("signup"):e.token()?t.path("chats"):t.path("signin")}]),angular.module("groupme").controller("SignInController",["$scope","$location","$timeout","tokenService","$rootScope","$translate","app","$user","performAfterAuth","mixpanelService","windowLocationWrapperService","Translations",function(e,t,n,r,a,i,o,s,u,l,c,d){function p(){return l.peopleSet({"Last Successful Login Date":moment().toISOString()}),u.run()}function m(){return l.preserveUserProperty({"Last Attempted Login Date":moment().toISOString()})}var f,h;a.bodyClass="",f=function(t){t&&t.length?(e.fail=!0,e.errorMessage=t.join(", ")):("undefined"!=typeof Bugsnag&&Bugsnag.notify("SignInController#signIn","unexpected exception in sign in",{errors:t}),e.fail=!0,e.errorMessage=i.instant("SignInPage.Errors.SomethingWentWrong"))},h=function(){var e=n(function(){n.cancel(e),a.$broadcast("signinPageLoad")},200)},_.extend(e,{remember_me:!0,signIn:function(){return m(),e.fail=!1,e.username?e.password?(o.authenticate({username:e.username,password:e.password,remember:e.remember_me}).then(p,f),void 0):(f([i.instant("SignInPage.Errors.EnterPassword")]),!1):(f([i.instant("SignInPage.Errors.EnterEmailOrPhone")]),!1)},facebookLogin:function(){m(),e.fail=!1,o.authenticateThroughFacebook(e.remember_me).then(p,f)},msaLogin:function(){m(),c.navigate(window.GM.urls.msa+"&state=rememberme"+(e.remember_me?"yes":"no")+"&locale="+d.lang)}}),h()}]),angular.module("groupme").controller("SignOutController",["sessionService",function(e){e.signOut().then(function(){window.location.href=e.isMsaUser()?window.GM.urls.msa_logout:window.GM.urls.brochure})}]),angular.module("groupme").controller("SignupController",["$q","$scope","$location","$rootScope","signupService","facebookService","facebookAuthenticator","msaAuthenticator","storageService","imageService","app","importContactsService","tokenService","performAfterAuth","Client","$window","promptModalService","$user","sessionService","$translate","countryOrRegionService","mixpanelService",function(e,t,n,r,a,i,o,s,u,l,c,d,p,m,f,h,g,v,y,b,w,k){function M(e){h.scrollTo(0,0),t.errorMessage=e||b.instant("SignUp.Errors.UnknownError")}function S(){g.alert(b.instant("SignUp.Errors.EmailAlreadyRegistered")),f.isMobile||f.isNative?window.location=window.GM.urls.brochure+"/a":n.path("/signin"),r.bodyClass=""}function T(e){t.registration.id=e.registrationId,n.path("/signup/verify")}function L(){var e=a.getFocusField();e&&"phone"===e?(t.focusName=!1,t.focusPhone=!0):(t.focusName=!0,t.focusPhone=!1)}function C(){var e=p.token(),r=!!t.registration.email,a="/signup/profile"===n.path(),i="/signup/verify"===n.path();if(e)return n.path("chats"),!1;if(a){if(o.fbRegistration()){var u=o.fbRegistration();t.registration.facebook_access_token=u.facebook_access_token,t.registration.facebook_user_id=u.facebook_user_id,t.registration.name=u.name,t.registration.email=u.email,t.registration.avatar_url=u.avatar_url,r=!!t.registration.email}if(s.msaRegistration()){var l=s.msaRegistration();t.registration.microsoft_access_token=l.microsoft_access_token,t.registration.name=l.name,t.registration.email=l.email,t.registration.avatar_url=l.avatar_url,r=!!t.registration.email}k.trackRegistrationStarted({"Account Type":t.registration.facebook_access_token?"facebook":t.registration.microsoft_access_token?"microsoft":"email"}),L()}return!a&&!i||r?!0:(n.path("signup"),!1)}if(t.registration=u.get("registration")||{country_or_region_code:"1"},t.emailPlaceHolder=b.instant("SignUp.EmailPlaceHolder"),t.fullNamePlaceHolder=b.instant("SignUp.Profile.FullNamePlaceHolder"),t.phoneNumberPlaceHolder=b.instant("SignUp.Profile.PhoneNumberPlaceHolder"),t.phoneNumberTooltip=b.instant("SignUp.Profile.PhoneNumberTooltip"),t.createPasswordPlaceHolder=b.instant("SignUp.Profile.CreatePasswordPlaceHolder"),t.enterPinPlaceHolder=b.instant("SignUp.Verify.EnterPinPlaceHolder"),angular.element(document).ready(function(){$("input[autofocus]:visible:first").focus()}),t.countriesOrRegions=w.getSorted(),C()){t.emailAvailable=!0;var j=t.$watch("registration.email",function(){t.emailAvailable=!0});t.$watch("registration",function(e){var t=_.clone(e);delete t.password,u.set("registration",t)},!0),r.bodyClass="signup",t.signIn=function(){r.bodyClass="",$("#page").empty(),n.path("signin")},t.connectFacebook=function(){i.login().then(function(e){i.user().then(function(n){t.registration.facebook_access_token=e.accessToken,t.registration.facebook_user_id=e.userId,t.registration.name=n.name,t.registration.email=n.email,t.registration.avatar_url=n.avatar_url,a.setFocusField(),a.detectExistingUser(t.registration).then(function(e){e?c.authenticate(e).then(m.run,M):t.showProfile()},function(){g.alert(b.instant("SignUp.Errors.General"),!0)})})},function(e){e.authResponse&&g.alert(b.instant("SignUp.Errors.Facebook"),!0)})},t.showProfile=function(){t.registration.email&&n.path("/signup/profile")},t.checkEmail=function(){t.registration.email&&a.detectExistingEmail(t.registration).then(function(){j(),t.showProfile()},function(e){e.isExistingEmail?t.emailAvailable=!1:t.emailError=_.isObject(e)&&_.isArray(e.errors)?e.errors[0]||b.instant("SignUp.Errors.EmailAddressIssue"):b.instant("SignUp.Errors.UnknownIssue")}),h.scrollTo(0,0)},t.editPhoneNumber=function(){a.setFocusField("phone"),t.showProfile()},t.register=function(){a.register(t.registration).then(function(e){var r=t.registration.facebook_access_token,i=t.registration.facebook_user_id;e=_.extend(e,{phone_number:t.registration.phone_number,country_or_region_code:t.registration.country_or_region_code}),r&&i&&(e=_.extend(e,{facebook_access_token:r,facebook_user_id:i})),t.registration=e,a.setFocusField(),k.trackRegistrationDetailsProvided({"Avatar Set":!!t.registration.avatar_url}),n.path("/signup/verify")},function(e){e.isExistingEmail?S(e):e.isExistingPhoneNumber?T(e):(h.scrollTo(0,0),t.errorMessages=e.errors)})},t.verify=function(){if(!t.pin||!t.pin.match(/^\d{4}$/))return h.scrollTo(0,0),t.errorMessage=b.instant("SignUp.Errors.PinErrorMessage");var n=t.registration,r=t.pin;a.verify(n.id,n.long_pin,r).then(function(t){if(n.facebook_access_token&&n.facebook_user_id){var r={facebook_user_id:n.facebook_user_id,facebook_access_token:n.facebook_access_token};v.update(t.user.id,r)}return p.setToken(t.access_token),s.msaRegistration()&&y.setMsaUser(!0),k.preserveUserProperty({"Signup Date":moment().toISOString(),"Signup Client":"web"}),k.trackRegistrationCompleted(),f.isMobile?e.when():c.authenticate(t.access_token)}).then(function(){u.kill("registration"),m.run()},M)},t.callWithPin=function(){a.callWithPin(t.registration.id).then(function(){g.alert(b.instant("SignUp.PhoneCallPrompt"))},function(){M(b.instant("SignUp.Errors.UnknownError"))})},t.uploadAvatar=function(e){var n=e.files[0],r=t.registration.avatar_url||null;return t.avatarLoading=!0,t.registration.avatar_url=null,l.upload(n,!0).then(function(e){t.registration.avatar_url=e,t.avatarLoading=!1},function(e){M(e),t.avatarLoading=!1,t.registration.avatar_url=r})}}}]),angular.module("groupme").controller("TrayController",["$scope","$modal","GMAssets","mixpanelService","$timeout",function(e,t,n,r,a){function i(){e.dropDownActive=!1,e.$on("$destroy",o)}function o(){s&&a.cancel(s)}var s;e.newGroupDialog=function(){r.trackStartChat({"Chat type":"group"}),t.open({templateUrl:"views/new_group/new-group-modal.html?version="+n.version,windowClass:"new-group",animation:!1,size:"sm",controller:"NewGroupModalController",resolve:{existingGroup:null,pointOfInitiation:function(){return"start group"}}})},e.newDMDialog=function(){r.trackStartChat({"Chat type":"DM"}),t.open({templateUrl:"views/new_dm/new-dm.html?version="+n.version,windowClass:"new-dm",animation:!1,size:"sm",controller:"NewDMModalController"})},e.collapseDropDown=function(t){s=a(function(){e.dropDownActive=!1},t?t:1e3)},e.expandDropDown=function(){a.cancel(s),s=null,e.dropDownActive=!0},i()}]),angular.module("groupme").controller("UserSettingsController",["$rootScope","$scope","$q","$user","pingService","settingsService","Events","windowNotificationService",function(e,t,n,r,a,i,o,s){function u(){r.settings(t.currentUser.id).then(function(e){t.user=e}),t.webOnlyNotify=a.isEnabled(),t.multiChat=i.get("multiChat"),l()}function l(){return t.windowNotifications=s,t.internalNotifications=i.get("internalNotificationsEnabled"),s.available?(t.internalNotifications?(t.externalNotifications=!1,i.set("externalNotificationsEnabled",t.externalNotifications)):t.externalNotifications=i.get("externalNotificationsEnabled"),void 0):(t.externalNotifications=!1,i.set("externalNotificationsEnabled",!1),void 0)}function c(){e.$broadcast(o.NOTIFICATION_CHANGE,t.internalNotifications,t.externalNotifications)}t.toggleWebOnlyNotify=function(){t.webOnlyNotify?a.disable():a.enable(),t.webOnlyNotify=!t.webOnlyNotify},t.toggleSMS=function(){var e={sms_disabled:!t.user.sms_disabled};r.update(t.user.id,e).then(function(e){t.user.sms_disabled=e.sms_disabled},function(e){console.warn(e)})},t.toggleLikeNotifications=function(){var e={disable_favorite_notification:!t.user.disable_favorite_notification};r.update(t.user.id,e).then(function(e){t.user.disable_favorite_notification=e.disable_favorite_notification},function(e){console.warn(e)})},t.toggleMultiChat=function(){t.multiChat=!t.multiChat,i.set("multiChat",t.multiChat)},t.toggleInternalNotifications=function(){t.internalNotifications=!t.internalNotifications,i.set("internalNotificationsEnabled",t.internalNotifications),t.internalNotifications&&(t.externalNotifications=!1,i.set("externalNotificationsEnabled",t.externalNotifications)),c()},t.toggleExternalNotifications=function(){t.externalNotifications=!t.externalNotifications,i.set("externalNotificationsEnabled",t.externalNotifications),t.externalNotifications&&(t.internalNotifications=!1,i.set("internalNotificationsEnabled",t.internalNotifications),s.requestPermission().then(function(){t.digest()})),c()},u()}]),function(e){"use strict";var t="AuthenticationError",n="UnexpectedUserError",r="MobileUserError";e.module("groupme").config(["$routeProvider","$locationProvider",function(e,a){var i,o;i={currentUser:["sessionService","$q","Client",function(e,n,a){return a.isMobile||a.isNative?n.reject(r):e.currentUser().then(function(e){return e},function(){return n.reject(t)})}]},o={currentUser:["sessionService","$q",function(e,t){return e.currentUser().then(function(){return t.reject(n)},function(){return t.when(null)})}]},e.when("/settings",{templateUrl:"/views/settings.html",controller:"UserSettingsController",resolve:i}).when("/profile",{templateUrl:"/views/profile.html",controller:"ProfileController",resolve:i}).when("/profile/access_tokens",{templateUrl:"/views/access_tokens.html",controller:"AccessTokensController",resolve:i}).when("/chats",{templateUrl:"/views/chats.html",controller:"ChatsController",resolve:i}).when("/chats/:chatId",{templateUrl:"/views/chats.html",controller:"ChatsController",resolve:i}).when("/contact/:contactId",{templateUrl:"/views/dm_card.html",controller:"DMCardController",resolve:i}).when("/archive/:chatId",{templateUrl:"/views/archive_card.html",controller:"ArchiveCardController",resolve:i}).when("/friends",{redirectTo:"/manage_contacts"}).when("/manage_contacts",{templateUrl:"/views/friends.html",controller:"FriendsController",resolve:i}),e.when("/signin",{templateUrl:"/views/sign_in.html",controller:"SignInController",resolve:o}).when("/signout",{template:" ",controller:"SignOutController"}).when("/",{template:" ",controller:"RootController"}).otherwise({redirectTo:"/"}),e.when("/signup",{templateUrl:"/views/signup/front_door.html",controller:"SignupController",resolve:o}).when("/signup/profile",{templateUrl:"/views/signup/profile.html",controller:"SignupController",resolve:o}).when("/signup/verify",{templateUrl:"/views/signup/verify.html",controller:"SignupController",resolve:o}),e.when("/forgot_password",{templateUrl:"/views/password_reset/create.html",controller:"PasswordResetController"}).when("/forgot_password/reset",{templateUrl:"/views/password_reset/reset.html",controller:"PasswordResetController"}),e.when("/join_group/:group_id/:share_token",{templateUrl:"/views/join.html"}).when("/i/:invite_token",{templateUrl:"/views/join.html"}).when("/join_group/authenticate",{templateUrl:"/views/join_group/authentication_route.html",resolve:o}).when("/join_group/success",{templateUrl:"/views/join_group/success.html",controller:"JoinSuccessController"}).when("/join_group/fail",{templateUrl:"/views/join_group/failure.html"}),e.when("/change_phone_number",{templateUrl:"/views/change_phone_number.html"}),e.when("/email/unsubscribe/:email_token/:email_type",{templateUrl:"/views/email_unsubscribe.html"}),e.when("/msa/redirect",{template:" ",controller:"MSALoginController"}).when("/msa",{template:" "}),a.html5Mode(!0)}]),e.module("groupme").run(["$rootScope","$location","performAfterAuth","tokenService",function(e,a,i,o){e.$on("$routeChangeError",function(e,s,u,l){switch(l){case t:a.path("signin");break;case n:i.run();break;case r:o.clearToken(),window.location=window.GM.urls.brochure+"/a";break;default:o.clearToken(),window.location="/signin"}})}])}(angular),function(){var e=function(){angular.bootstrap(document,["groupme","ui.bootstrap"])};angular.element(document).ready(function(){if(window.GM.corsUnsupported)try{if(!window.cors_shim.angular)throw"Iframe Not Yet Loaded";e()}catch(t){document.getElementById("cors_shim").addEventListener("load",e,!1)}else e()})}();'use strict';
angular.module("ngLocale", [], ["$provide", function($provide) {
var PLURAL_CATEGORY = {ZERO: "zero", ONE: "one", TWO: "two", FEW: "few", MANY: "many", OTHER: "other"};
function getDecimals(n) {
  n = n + '';
  var i = n.indexOf('.');
  return (i == -1) ? 0 : n.length - i - 1;
}

function getVF(n, opt_precision) {
  var v = opt_precision;

  if (undefined === v) {
    v = Math.min(getDecimals(n), 3);
  }

  var base = Math.pow(10, v);
  var f = ((n * base) | 0) % base;
  return {v: v, f: f};
}

$provide.value("$locale", {
  "DATETIME_FORMATS": {
    "AMPMS": [
      "AM",
      "PM"
    ],
    "DAY": [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ],
    "MONTH": [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December"
    ],
    "SHORTDAY": [
      "Sun",
      "Mon",
      "Tue",
      "Wed",
      "Thu",
      "Fri",
      "Sat"
    ],
    "SHORTMONTH": [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ],
    "fullDate": "EEEE, MMMM d, y",
    "longDate": "MMMM d, y",
    "medium": "MMM d, y h:mm:ss a",
    "mediumDate": "MMM d, y",
    "mediumTime": "h:mm:ss a",
    "short": "M/d/yy h:mm a",
    "shortDate": "M/d/yy",
    "shortTime": "h:mm a"
  },
  "NUMBER_FORMATS": {
    "CURRENCY_SYM": "$",
    "DECIMAL_SEP": ".",
    "GROUP_SEP": ",",
    "PATTERNS": [
      {
        "gSize": 3,
        "lgSize": 3,
        "maxFrac": 3,
        "minFrac": 0,
        "minInt": 1,
        "negPre": "-",
        "negSuf": "",
        "posPre": "",
        "posSuf": ""
      },
      {
        "gSize": 3,
        "lgSize": 3,
        "maxFrac": 2,
        "minFrac": 2,
        "minInt": 1,
        "negPre": "\u00a4-",
        "negSuf": "",
        "posPre": "\u00a4",
        "posSuf": ""
      }
    ]
  },
  "id": "en-us",
  "pluralCat": function(n, opt_precision) {  var i = n | 0;  var vf = getVF(n, opt_precision);  if (i == 1 && vf.v == 0) {    return PLURAL_CATEGORY.ONE;  }  return PLURAL_CATEGORY.OTHER;}
});
}]);
angular.module("groupme").constant("Translations", { lang: "en-US", translations: {"Global":{"CookieBanner":{"Terms":"By using this site you agree to the use of cookies for analytics, personalised content and ads.","ReadMoreText":"Read more"},"Footer":{"Home":"Home","About":"About","Blog":"Blog","Help":"Help","Terms":"Terms","Privacy":"Privacy","Status":"Status","Developers":"Developers"}},"Auth":{"Facebook":{"UnableToLogin":"We are unable to log you in with your Facebook account. Please log in with your GroupMe credentials.","Expired":"Your Facebook session has expired. Please refresh the page and try again."}},"ForgotPasswordPage":{"PageTitle":"Forgot Password?","Errors":{"PhoneNumberNotFound":"Sorry, we could not find that phone number or email.","UnknownError":"Sorry, an error occurred. Please try again.","NoEmailOrPhoneEntered":"Please enter your email or phone number.","EnterAPassword":"Please enter a password.","IfMatchedSent":"If the phone number or email matches an existing user, we sent an email to that user. Please check your inbox for instructions."},"PlaceHolderEmailOrPhoneNumber":"Email or Phone Number","ResetPassword":"Reset password"},"ResetPage":{"PageTitle":"Password Reset","EnterNewPassword":"Please enter a new password.","PlaceHolderNewPassword":"New Password","ResetPassword":"Reset password","NewPasswordSuccess":"You have successfully set your new password.","SignInLinkText":"Sign in"},"SignInPage":{"LogIn":"Log in","Or":"Or","EmailOrPhone":"Email or Phone Number","Password":"Password","ForgotPassword":"Forgot password?","DontHaveAccount":"Don't have an Account?","SignUp":"Sign up today.","RememberMe":"Remember me","Errors":{"SomethingWentWrong":"Something went wrong, please try again or contact support@groupme.com","EnterEmailOrPhone":"Please enter your email or phone number","EnterPassword":"Please enter your password","NotFound":"Email or Phone Number not found","CredentialsDoNotMatch":"The specified email or phone number and password are not valid credentials for an existing GroupMe user."}},"SignUp":{"GetYourGroupTogether":"Get your group together.","Or":"Or","ContinueWithFacebook":"Continue with Facebook","AlreadyHaveAccount":"Already have an account?","LogIn":"Log in.","Disclaimer":"By signing up, you agree to our <a href=\"https://groupme.com/terms\" target=\"_blank\">terms of service</a>.","EmailPlaceHolder":"Enter your email","Continue":"Continue","EmailAlreadyRegistered":"This email address is already registered. Please <a ng-href=\"/signin\" class=\"alert-link\">sign in</a> or pick a different address.","Errors":{"General":"Sorry, something went wrong","Facebook":"Sorry, something went wrong while connecting to Facebook.","EmailAddressIssue":"There is an issue with the email you provided.","UnknownIssue":"There was an unknown issue with your request. If the problem continues, please contact support@groupme.com","PinErrorMessage":"Please enter the 4 digit pin we texted your phone.","UnknownError":"Sorry, an unknown error occurred. Please try again or contact support@groupme.com","EmailAlreadyRegistered":"Looks like your email is already registered. Please sign in."},"PhoneCallPrompt":"You should receive a phone call in a moment.","Profile":{"Welcome":"Welcome. Let's get you set up.","SetPhoto":"Set profile photo","FullNamePlaceHolder":"Full name","PhoneNumberPlaceHolder":"Phone #","PhoneNumberTooltip":"We ask for your phone number in order to find any SMS groups you may be in already and to allow your friends to add you to groups in the future.","CreatePasswordPlaceHolder":"Create a password","Continue":"Continue","CountryOrRegion":{"UnitedStates":"United States (+1)","Afghanistan":"Afghanistan (+93)","AlandIslands":"Åland Islands (+358)","Albania":"Albania (+355)","Algeria":"Algeria (+213)","AmericanSamoa":"American Samoa (+1)","Andorra":"Andorra (+376)","Angola":"Angola (+244)","Anguilla":"Anguilla (+1)","AntiguaAndBarbuda":"Antigua and Barbuda (+1)","Argentina":"Argentina (+54)","Armenia":"Armenia (+374)","Aruba":"Aruba (+297)","Australia":"Australia (+61)","Austria":"Austria (+43)","Azerbaijan":"Azerbaijan (+994)","Bahamas":"Bahamas (+1)","Bahrain":"Bahrain (+973)","Bangladesh":"Bangladesh (+880)","Barbados":"Barbados (+1)","Belarus":"Belarus (+375)","Belgium":"Belgium (+32)","Belize":"Belize (+501)","Benin":"Benin (+229)","Bermuda":"Bermuda (+1)","Bhutan":"Bhutan (+975)","Bolivia":"Bolivia (+591)","Bonaire":"Bonaire (+599)","BosniaAndHerzegovina":"Bosnia and Herzegovina (+387)","Botswana":"Botswana (+267)","BouvetIsland":"Bouvet Island (+47)","Brazil":"Brazil (+55)","BritishIndianOceanTerritory":"British Indian Ocean Territory (+246)","BritishVirginIslands":"British Virgin Islands (+1)","Brunei":"Brunei (+673)","Bulgaria":"Bulgaria (+359)","BurkinaFaso":"Burkina Faso (+226)","Burundi":"Burundi (+257)","CaboVerde":"Cabo Verde (+238)","Cambodia":"Cambodia (+855)","Cameroon":"Cameroon (+237)","Canada":"Canada (+1)","CaymanIslands":"Cayman Islands (+1)","CentralAfricanRepublic":"Central African Republic (+236)","Chad":"Chad (+235)","Chile":"Chile (+56)","China":"China (+86)","ChristmasIsland":"Christmas Island (+61)","CocosKeelingIslands":"Cocos (Keeling) Islands (+61)","Colombia":"Colombia (+57)","Comoros":"Comoros (+269)","Congo":"Congo (+242)","CongoDRC":"Congo (DRC) (+243)","CookIslands":"Cook Islands (+682)","CostaRica":"Costa Rica (+506)","CoteDIvoire":"Côte d’Ivoire (+225)","Croatia":"Croatia (+385)","Cuba":"Cuba (+53)","Curacao":"Curaçao (+599)","Cyprus":"Cyprus (+357)","CzechRepublic":"Czech Republic (+420)","Denmark":"Denmark (+45)","Djibouti":"Djibouti (+253)","Dominica":"Dominica (+1)","DominicanRepublic":"Dominican Republic (+1)","Ecuador":"Ecuador (+593)","Egypt":"Egypt (+20)","ElSalvador":"El Salvador (+503)","EquatorialGuinea":"Equatorial Guinea (+240)","Eritrea":"Eritrea (+291)","Estonia":"Estonia (+372)","Ethiopia":"Ethiopia (+251)","FalklandIslands":"Falkland Islands (+500)","FaroeIslands":"Faroe Islands (+298)","Fiji":"Fiji (+679)","Finland":"Finland (+358)","France":"France (+33)","FrenchGuiana":"French Guiana (+594)","FrenchPolynesia":"French Polynesia (+689)","FrenchSouthernTerritories":"French Southern Territories (+262)","Gabon":"Gabon (+241)","Gambia":"Gambia (+220)","Georgia":"Georgia (+995)","Germany":"Germany (+49)","Ghana":"Ghana (+233)","Gibraltar":"Gibraltar (+350)","Greece":"Greece (+30)","Greenland":"Greenland (+299)","Grenada":"Grenada (+1)","Guadeloupe":"Guadeloupe (+590)","Guam":"Guam (+1)","Guatemala":"Guatemala (+502)","Guernsey":"Guernsey (+44)","Guinea":"Guinea (+224)","GuineaBissau":"Guinea-Bissau (+245)","Guyana":"Guyana (+592)","Haiti":"Haiti (+509)","HeardIslandAndMcDonaldIslands":"Heard Island and McDonald Islands (+61)","Honduras":"Honduras (+504)","HongKongSAR":"Hong Kong SAR (+852)","Hungary":"Hungary (+36)","Iceland":"Iceland (+354)","India":"India (+91)","Indonesia":"Indonesia (+62)","Iran":"Iran (+98)","Iraq":"Iraq (+964)","Ireland":"Ireland (+353)","IsleOfMan":"Isle of Man (+44)","Israel":"Israel (+972)","Italy":"Italy (+39)","Jamaica":"Jamaica (+1)","JanMayen":"Jan Mayen (+47)","Japan":"Japan (+81)","Jersey":"Jersey (+44)","Jordan":"Jordan (+962)","Kazakhstan":"Kazakhstan (+7)","Kenya":"Kenya (+254)","Kiribati":"Kiribati (+686)","Korea":"Korea (+82)","Kosovo":"Kosovo (+381)","Kuwait":"Kuwait (+965)","Kyrgyzstan":"Kyrgyzstan (+996)","Laos":"Laos (+856)","Latvia":"Latvia (+371)","Lebanon":"Lebanon (+961)","Lesotho":"Lesotho (+266)","Liberia":"Liberia (+231)","Libya":"Libya (+218)","Liechtenstein":"Liechtenstein (+423)","Lithuania":"Lithuania (+370)","Luxembourg":"Luxembourg (+352)","MacaoSAR":"Macao SAR (+853)","MacedoniaFYRO":"Macedonia, FYRO (+389)","Madagascar":"Madagascar (+261)","Malawi":"Malawi (+265)","Malaysia":"Malaysia (+60)","Maldives":"Maldives (+960)","Mali":"Mali (+223)","Malta":"Malta (+356)","MarshallIslands":"Marshall Islands (+692)","Martinique":"Martinique (+596)","Mauritania":"Mauritania (+222)","Mauritius":"Mauritius (+230)","Mayotte":"Mayotte (+262)","Mexico":"Mexico (+52)","Micronesia":"Micronesia (+691)","Moldova":"Moldova (+373)","Monaco":"Monaco (+377)","Mongolia":"Mongolia (+976)","Montenegro":"Montenegro (+382)","Montserrat":"Montserrat (+1)","Morocco":"Morocco (+212)","Mozambique":"Mozambique (+258)","Myanmar":"Myanmar (+95)","Namibia":"Namibia (+264)","Nauru":"Nauru (+674)","Nepal":"Nepal (+977)","Netherlands":"Netherlands (+31)","NewCaledonia":"New Caledonia (+687)","NewZealand":"New Zealand (+64)","Nicaragua":"Nicaragua (+505)","Niger":"Niger (+227)","Nigeria":"Nigeria (+234)","Niue":"Niue (+683)","NorfolkIsland":"Norfolk Island (+672)","NorthKorea":"North Korea (+850)","NorthernMarianaIslands":"Northern Mariana Islands (+1)","Norway":"Norway (+47)","Oman":"Oman (+968)","Pakistan":"Pakistan (+92)","Palau":"Palau (+680)","PalestinianAuthority":"Palestinian Authority (+970)","Panama":"Panama (+507)","PapuaNewGuinea":"Papua New Guinea (+675)","Paraguay":"Paraguay (+595)","Peru":"Peru (+51)","Philippines":"Philippines (+63)","PitcairnIslands":"Pitcairn Islands (+64)","Poland":"Poland (+48)","Portugal":"Portugal (+351)","PuertoRico":"Puerto Rico (+1)","Qatar":"Qatar (+974)","Réunion":"Réunion (+262)","Romania":"Romania (+40)","Russia":"Russia (+7)","Rwanda":"Rwanda (+250)","Saba":"Saba (+599)","SaintBartholemy":"Saint Barthélemy (+590)","SaintKittsAndNevis":"Saint Kitts and Nevis (+1)","SaintLucia":"Saint Lucia (+1)","SaintMartin":"Saint Martin (+590)","SaintPierreAndMiquelon":"Saint Pierre and Miquelon (+508)","SaintVincentAndTheGrenadines":"Saint Vincent and the Grenadines (+1)","Samoa":"Samoa (+685)","SanMarino":"San Marino (+378)","SaoTomeAndPrincipe":"São Tomé and Príncipe (+239)","SaudiArabia":"Saudi Arabia (+966)","Senegal":"Senegal (+221)","Serbia":"Serbia (+381)","Seychelles":"Seychelles (+248)","SierraLeone":"Sierra Leone (+232)","Singapore":"Singapore (+65)","SintEustatius":"Sint Eustatius (+599)","SintMaarten":"Sint Maarten (+1)","Slovakia":"Slovakia (+421)","Slovenia":"Slovenia (+386)","SolomonIslands":"Solomon Islands (+677)","Somalia":"Somalia (+252)","SouthAfrica":"South Africa (+27)","SouthGeorgiaAndSouthSandwichIslands":"South Georgia and South Sandwich Islands (+500)","SouthSudan":"South Sudan (+211)","Spain":"Spain (+34)","SriLanka":"Sri Lanka (+94)","StHelenaAscensionTristandaCunha":"St Helena, Ascension, Tristan da Cunha (+290)","Sudan":"Sudan (+249)","Suriname":"Suriname (+597)","Svalbard":"Svalbard (+47)","Swaziland":"Swaziland (+268)","Sweden":"Sweden (+46)","Switzerland":"Switzerland (+41)","Syria":"Syria (+963)","Taiwan":"Taiwan (+886)","Tajikistan":"Tajikistan (+992)","Tanzania":"Tanzania (+255)","Thailand":"Thailand (+66)","TimorLeste":"Timor-Leste (+670)","Togo":"Togo (+228)","Tokelau":"Tokelau (+690)","Tonga":"Tonga (+676)","TrinidadAndTobago":"Trinidad and Tobago (+1)","Tunisia":"Tunisia (+216)","Turkey":"Turkey (+90)","Turkmenistan":"Turkmenistan (+993)","TurksAndCaicosIslands":"Turks and Caicos Islands (+1)","Tuvalu":"Tuvalu (+688)","USOutlyingIslands":"U.S. Outlying Islands (+1)","USVirginIslands":"U.S. Virgin Islands (+1)","Uganda":"Uganda (+256)","Ukraine":"Ukraine (+380)","UnitedArabEmirates":"United Arab Emirates (+971)","UnitedKingdom":"United Kingdom (+44)","Uruguay":"Uruguay (+598)","Uzbekistan":"Uzbekistan (+998)","Vanuatu":"Vanuatu (+678)","VaticanCity":"Vatican City (+379)","Venezuela":"Venezuela (+58)","Vietnam":"Vietnam (+84)","WallisAndFutuna":"Wallis and Futuna (+681)","Yemen":"Yemen (+967)","Zambia":"Zambia (+260)","Zimbabwe":"Zimbabwe (+263)"}},"Verify":{"VerifyPhone":"Verify your phone number.","EnterPin":"Enter the PIN we've texted to +{{countryorregioncode}}{{phonenumber}}<br> to verify that it's your phone.","StartChatting":"Start chatting!","NotGettingPin":"Not getting your PIN?","Note":"Note: PIN delivery may take up to 5 minutes.","CallMe":"Call me with PIN","ChangeNumber":"Change phone number","EnterPinPlaceHolder":"Enter PIN"}},"Tray":{"Title":{"chats":"chats","contacts":"contacts","archives":"archives"},"Search":"Search {{listTitle}}","NoChatsMatch":"Sorry, no chats match \"{{query}}\"","NoContactsMatch":"Sorry, no contacts match \"{{query}}\"","NoArchivesMatch":"Sorry, no archives match \"{{query}}\"","AnyChatsYet":"You don't have any chats yet. Create a group or start a direct message to get the conversations going!","AnyContactsYet":"You don't have any contacts yet. Create a group and add your friends!","ChatsWillShowUpHere":"Chats that you have left will show up here.","StartGroup":"Start Group","StartDirectMessage":"Start Direct Message","MarkAllAsRead":"Mark all as read"},"Profile":{"Name":"Name:","Email":"Email:","Password":{"Password":"Password:","NewPassword":"New Password","ConfirmPassword":"Confirm Password","PasswordChanged":"Password Changed","Ok":"OK","Close":"Close","YouHaveSuccessfully":"You've successfully changed your password. Please note that you will need to log out and log back into Groupme wherever you are currently logged in, like on your phones or tablets."},"Phone":"Phone:","Edit":"Edit","TokenManagement":"Token Management","AccessTokens":{"DevicesAndApps":"Devices and Apps","HereAreTheDevices":"Here are the devices and apps where you have logged into GroupMe before.","Device":"Device","Devices":{"IOS":"iOS","Android":"Android","WindowsPhone":"Windows Phone","WebApplication":"GroupMe Web Application"},"Created":"Created","RevokeAccess":"Revoke Access","BackToProfile":"Back to Profile","AreYouSure":"Are you sure you want to remove this token?","Yes":"Yes","No":"No","WeWereUnable":"We were unable to delete this token."},"Connect":"Connect","Disconnect":"Disconnect","UploadAvatar":"Upload Avatar","ChangeAvatar":"Change Avatar","Save":"Save","Cancel":"Cancel","Close":"Close","ChangeNumber":{"Titles":{"ChangeYourPhoneNumber":"Change your phone number"},"Errors":{"InvalidNumber":"Please enter a valid phone number.","EnterPIN":"Please enter a pin.","AdditionalHelpNeeded":"Hmm, it looks like you're going to need additional help changing your phone number. Please contact us at {{email}}"},"Success":{"PINTexted":"We've texted a verification PIN to your phone.","NumberIsNow":"Your phone number is now {{phone}}","ContinueChatting":"Continue chatting","GetTheApp":"Get the app"},"EnterNewPhoneNumber":"Enter new phone number","EnterPIN":"Enter pin","Submit":"Submit","HavingIssues":"Having issues?","ContactSupport":"Contact {{email}}","Close":"Close"},"Errors":{"UnableConnect":"We were unable to connect to facebook.","UnableDisconnect":"We were unable to disconnect from facebook.","UnableDisconnectTwitter":"We were unable to disconnect from Twitter.","PasswordsDoNotMatch":"Passwords do not match.","EmailChange":"We were unable to change your email.","NameChange":"We were unable to change your name.","AvatarUpdate":"We were unable to update your avatar."},"ProfileSaved":"Profile saved successfully."},"EmailUnsubscribe":{"RemovalSuccessMessage":"You have been unsubscribed from these kinds of emails.","RemovalPendingMessage":"Updating subscription...","PreferencesMessage":"You can control these email settings, as well as all your other settings, <a href=\"/signin\"> by logging in.</a>"},"Group":{"Create":{"Close":"Close","NewGroup":"New Group","SetGroupAvatar":"Set Group Avatar","ChangeGroupAvatar":"Change Group Avatar","PleaseNameYourGroup":"Please name your group","GroupName":"Group Name","EnterGroupName":"Enter Group Name","CreateGroup":"Create Group"},"Gallery":{"NoSharedPictures":"No one has shared a picture to this group yet. Be the first!","LoadMore":"Load More","GalleryInChatName":"Gallery in \"{{chatname}}\""},"Settings":{"Close":"Close","SetGroupAvatar":"Set Group Avatar","ChangeGroupAvatar":"Change Group Avatar","SettingsFor":"Settings for \"{{name}}\"","Phone":"Phone","GroupID":"Group ID","GroupName":"Group Name","Topic":"Topic","SetTopic":"Set topic","YourNickname":"Your Nickname","OfficeMode":"Office Mode","Mute":"Mute","MakeGroupShareable":"Make Group Shareable","ClearHistory":"Clear History","EndGroup":"End Group","LeaveGroup":"Leave Group","Errors":{"TopicLength":"Topic length cannot exceed 250 characters.","ShareError":"An error occured while updating the share settings. If the issue continues please contact {{email}}"}},"Popular":{"Close":"Close","PopularMessagesIn":"Popular Messages in \"{{name}}\"","PopularCategories":"Popular categories","Everyone":"Everyone","MyLikes":"My Likes","Today":"Today","ThisWeek":"This week","ThisMonth":"This month","LoadMore":"Load more","Engaging":{"Everyone":"Your group's most liked messages will show up here. Looks like nobody likes anything!","Others":"Your messages that other people have liked will show up here. Go say something awesome!","MyLikes":"Messages that you have liked will show up here. Go ahead and share the love!"}},"Sidebar":{"MemberCount":"{1} Member||{1} Members","MemberCount_Ranges":"1||2-","Gallery":"Gallery","Calendar":"Calendar","Popular":"Popular","Settings":"Settings","ChangeAvatar":"Change Avatar"},"Members":{"Close":"Close","MemberCount":"{1} Member of \"{{name}}\"||{1} Members of \"{{name}}\"","MemberCount_Ranges":"1||2-","AddMembers":"Add Members","DirectMessage":"Direct Message","RemoveMember":"Remove member","RemoveConfirm":"Are you sure you want to remove this person?","Remove":"Remove","Add":{"Close":"Close","AddMembers":"Add Members","NoContactsMatching":"No contacts matching: {{query}}","CreateNewMember":"Create new member","Cancel":"Cancel","ConfirmCancel":"You have selected members to add to \"{{name}}\". Are you sure you want to close?","Skip":"Skip","AddMembersCount":"Add {1} member||Add {1} members","AddMembersCount_Ranges":"1||2-","Create":{"Close":"Close","AddMember":"Add Member","Add":"Add","MemberName":"Member Name","MemberNickname":"Member nickname","MobileEmailOrPhone":"Member email address or phone number","EmailAddressOrPhoneNumber":"Email address or phone number","Errors":{"EnterNickname":"Please enter a nickname.","EnterEmailOrPhone":"Please enter an email address or phone number.","EnterValidEmailOrPhone":"Please enter a valid email address or phone number."}}}},"Messages":{"NoMessagesYet":"No messages yet.","SendToStart":"Send a message to start the conversation.","Compose":{"SendMessage":"Send Message...","CreateEvent":"Create Event","UploadImage":"Upload Image","MediaSearch":"Media Search","Errors":{"WeWereUnable":"Sorry we were unable to send your message","EmojisUnavailable":"GroupMe emojis are unavailable at the moment","DeliveryFailed":"Delivery failed.","Retry":"Retry"},"Upload":{"Close":"Close","UploadPicture":"Upload Picture","ProTip":"ProTip: You can drag pictures into the chat and they'll be automatically uploaded.","Cancel":"Cancel","TopText":"Top text","BottomText":"Bottom text","CaptionCancel":"Cancel","Meme":"Meme","Preview":"Preview","MemeButton":"Meme","Post":"Post","Ok":"Ok","Errors":{"ImageUploadError":"Image Upload Error","ContactSupport":"If the problem continues, contact customer support: {{email}}","UnableToUploadMeme":"We were unable to upload your meme.","UnableToProcessRequest":"We were unable to process the request.","InvalidFile":"Invalid file. Only jpeg, gif and png files can be uploaded.","ErrorWhileRead":"There was an error while trying to read your file.","IncorrectFormat":"The image you selected does not appear to be in the correct format.","UnableToUploadSelected":"We were unable to upload the image url you selected.","UnableToProcessSelected":"We were unable to process the image url you selected.","ErrorWhileLoad":"There was an error while trying to load your image.","UploadCancelled":"Image upload canceled"}},"VideoPreview":{"Cancel":"Cancel","Preview":"Preview","Post":"Post"}}},"Join":{"FreeGroupMessaging":"Free group messaging {{divider}} that works on every phone.","NoLongerJoinable":"Sorry, but this group is no longer joinable.","WouldLikeYouToJoin":"{{nickname}} would like you to join","JoinGroup":"Join Group","AlreadyHaveTheApp":"Already have the app?","JoinInApp":"Join Group In App","MembersCount":"{1} Members||{1} Member||{1} Members","MembersCount_Ranges":"0||1||2-","Authenticate":{"AlmostThere":"Almost there!","LogIn":"Log in","Or":"or","CreateAnAccount":"Create an account"},"Fail":{"Whoops":"Whoops!","ContactSupport":"There was an issue while trying to add you to the group. Please contact {{email}} if the problem continues."},"Success":{"YouAreIn":"You are in!","GetTheApp":"Get the app"}},"Events":{"Close":"Close","AllEvents":"All events","CreateANewEvent":"Create a new event","EditEvent":"Edit event","EventsIn":"Events in \"{{name}}\"","EditEventHeader":"Edit event \"{{name}}\"","View":{"CreatedByYou":"Created by you","CreatedBy":"Created by {{creator}}","AllDay":"All Day","MultiDayNotAllDayStart":"{{day}} at {{hour}}","MultiDayNotAllDayToEnd":"to {{day}} at {{hour}}","ToDate":"to {{date}}","Going":"Going?","Yes":"Yes","No":"No","PeopleGoing":"Going","PeopleNotGoing":"Not Going","PeoplePending":"Pending","PeopleGoingText":"Bummer, no one is going to this event yet.","PeopleNotGoingText":"Good news! No one has said they aren't going to this event yet.","PeoplePendingText":"Looks like everyone has responded. Have fun!"},"List":{"NoEvents":"There are no upcoming events.","ButSomething":"But... something must be going on, right?","Empty":{"First":"Super Fun Birthday Party","Second":"Very Important Meeting","Third":"Exhaustive Weekend Trip"},"ViewEvent":"View Event","LoadMore":"Load More","Loading":"Loading..."},"Create":{"NewEventIn":"New Event in \"{{name}}\"","EventName":"Event Name","NameOfEvent":"Name of event","Starts":"Starts","Ends":"Ends","Time":"Time","AllDay":"All Day","Optional":"Optional","Location":{"Location":"Location","Clear":"clear","LocationName":"Location name","Near":"Near:","CityStateZip":"city/state or zip","JustUse":"Just use \"{{query}}\"","NearbyPlaces":"Nearby Places","ToSearchFor":"To search for locations, enter a city/state or zip above.","OrSearchNear":"Or search near your <span class=\"get-location\" ng-click=\"setNearByToCurrentLocation()\">current location&nbsp;<i class=\"icon-location-arrow\"></i></span>","GiveUsPermission":"Please give us permission to access your current location","FindingPlaces":"Finding places...","NoMatches":"No matches","NameThisLocation":"Name this location","Address":"Address"},"Photo":"Photo","AddPhoto":"Add Photo","PhotoError":"There was an issue while uploading your photo.","Description":"Description","AddADescription":"Add A Description","Reminders":{"Reminders":"Reminders","Reminder1":"Reminder 1","Reminder2":"Reminder 2","None":"None","AtTime":"At time of event","5MinutesBefore":"5 minutes before","15MinutesBefore":"15 minutes before","30MinutesBefore":"30 minutes before","1HourBefore":"1 hour before","2HoursBefore":"2 hours before","1DayBefore":"1 day before","2DaysBefore":"2 days before","1WeekBefore":"1 week before"},"CancelEvent":"Cancel Event","CancelConfirm":"Are you sure you want to cancel this event?","Cancel":"Cancel","UpdateEvent":"Update Event","CreateEvent":"Create Event"}},"Media":{"Search":{"Close":"Close","MediaSearch":"Media Search","GifSearch":"GIF Search...","ImageSearch":"Image Search...","VideoSearch":"Video Search...","Type":{"Gifs":"GIFs","Images":"Images","Videos":"Videos"},"NoResults":"No results"}},"Empty":{"Popover":{"Close":"Close","AddMembers":"Add Members","ShareGroup":"Share Group","AddMembersFromYourContacts":"Add members from your contacts.","AddMembersFromYourContactsOrCreateShareLink":"Add members from your contacts or create a share link for this group."}}},"DM":{"Create":{"Close":"Close","NewDirectMessage":"New Direct Message","SearchContactsByName":"Search contacts by name","NoContactsMatching":"No contacts matching: {{query}}","Cancel":"Cancel"},"Sidebar":{"Gallery":"Gallery","Calendar":"Calendar","Settings":"Settings"},"Settings":{"SettingsFor":"Settings for \"{{name}}\"","ClearChatHistory":"Clear Chat History","Close":"Close"},"Events":{"EventsWith":"Events with \"{{name}}\"","NewEventWith":"New Event with \"{{name}}\""}},"Archives":{"MembersCount":"{1} members||{1} member||{1} members","MembersCount_Ranges":"0||1||2-","LastMessageSentOn":"Last message sent on {{timestamp}}","Rejoin":"Rejoin","Sorry":"Sorry!","Errors":{"UnableToRejoin":"We were unable to rejoin you to the group."}},"Contacts":{"Card":{"SharedGroupsCount":"{1} shared groups||{1} shared group||{1} shared groups","SharedGroupsCount_Ranges":"0||1||2-","DirectMessage":"Direct Message","Sorry":"Sorry","Tay":{"FirstLine":"Chatbot.","SecondLine":"The more we talk the smarter I get.","ThirdLine":"More info: <a href=\"https://tay.ai/#about\" target=\"_blank\">tay.ai/#about</a>"}}},"Services":{"ImageUpload":{"Errors":{"CouldNotExtract":"Could not extract a file extension from the url: {{url}}","FileNotProvided":"File was not provided.","InvalidFileType":"Invalid file type. You can only upload PNGs, JPGs and GIFs.","InvalidFileSize":"Invalid file size. Files cannot exceed {{size}}MB.","ImageUploadError":"Image Upload Error"}}},"Settings":{"Notifications":"Notifications","DesktopNotifications":"Desktop Notifications","DisplayPopupNotifications":"Display popup notifications on your desktop","InAppNotifications":"In-App Notifications","DisplayPopupNotificationsInTheBrowser":"Display popup notifications in the browser when GroupMe is the active tab","LikeNotifications":"Like Notifications","ReceiveMessagesSMS":"Receive Messages via SMS","Multichat":"Multichat","WhenBrowserWidthAllows":"When browser width allows for it, display up to 3 chats at a time.","ByDefaultWhenYouAreActive":"By default, when you're active on the web, we will avoid sending you notifications to your device(s).","YouCanDisableHere":"You can disable that feature here.","Note":"Note: Your device notification settings are always respected. If you have notifications turned off on a device, you will continue to not receive notifications, irrespective of your settings here.","DontSendNotifications":"Don't send notifications to phone when web is active","'DontSendNotifications.comment":"Sign in to the applications and click the cog icon the left pillar. The text appears there. The 'web is active' means that the user has opened the web client and the application remains open in the browser","Support":"Support","PrivacyPolicy":"Privacy Policy","Legal":"Legal","LogOut":"Log out","ToolTipYouHaveDenied":"You have denied us permission to send you notifications. Please check your browser settings to correct the issue.","ToolTipYouHaveNotGiven":"You have not given us permission to send you notifications yet."},"Modals":{"Confirm":{"AreYouSure":"Are you sure?","Yes":"Yes","No":"No"},"Alert":{"ShowSupport":"If the problem persists, {{newline}} contact {{email}}.","Okay":"Okay"}},"Notifications":{"NewMessageInText":"New message in {{groupName}}","NewMessageFromText":"New message from {{name}}","Posted":{"Attachment":{"image":"{{user}}: Posted an image","location":"{{user}}: Posted a shared location","event":"{{user}}: Posted a calendar event","video":"{{user}}: Posted a video"},"Inline":{"tweet":"{{user}}: Posted a tweet","youtube":"{{user}}: Posted a youtube video","vimeo":"{{user}}: Posted a vimeo video","vine":"{{user}}: Posted a vine","pinterest":"{{user}}: Posted a pin","instagram":"{{user}}: Posted an instagram post","imgur":"{{user}}: Posted an imgur post","gist":"{{user}}: Posted a gist","newrelic":"{{user}}: Posted a newrelic","image":"{{user}}: Posted an image","link":"{{user}}: Posted a link"}},"Liked":{"Group":{"YourMessageInGroup":"{{user}} liked your message in \"{{group}}\"","Attachment":{"image":"{{user}} liked your image in \"{{group}}\"","location":"{{user}} liked your shared location in \"{{group}}\"","event":"{{user}} liked your calendar event in \"{{group}}\"","video":"{{user}} liked your video in \"{{group}}\""},"Inline":{"tweet":"{{user}} liked your tweet in \"{{group}}\"","youtube":"{{user}} liked your youtube video in \"{{group}}\"","vimeo":"{{user}} liked your vimeo video in \"{{group}}\"","vine":"{{user}} liked your vine in \"{{group}}\"","pinterest":"{{user}} liked your pin in \"{{group}}\"","instagram":"{{user}} liked your instagram post in \"{{group}}\"","imgur":"{{user}} liked your imgur post in \"{{group}}\"","gist":"{{user}} liked your gist in \"{{group}}\"","newrelic":"{{user}} liked your newrelic in \"{{group}}\"","image":"{{user}} liked your image in \"{{group}}\"","link":"{{user}} liked your link in \"{{group}}\""}},"DM":{"YourDM":"{{user}} liked your direct message","Attachment":{"image":"{{user}} liked your image in your direct message","location":"{{user}} liked your shared location in your direct message","event":"{{user}} liked your calendar event in your direct message","video":"{{user}} liked your video in your direct message"},"Inline":{"tweet":"{{user}} liked tweet in your direct message","youtube":"{{user}} liked youtube video in your direct message","vimeo":"{{user}} liked vimeo video in your direct message","vine":"{{user}} liked vine in your direct message","pinterest":"{{user}} liked pin in your direct message","instagram":"{{user}} liked instagram post in your direct message","imgur":"{{user}} liked imgur post in your direct message","gist":"{{user}} liked gist in your direct message","newrelic":"{{user}} liked newrelic in your direct message","image":"{{user}} liked image in your direct message","link":"{{user}} liked link in your direct message"}}},"Membership":{"YouHaveBeenAdded":"You've been added to \"{{group}}\" with {{user}}"},"Offline":"You appear to have gone offline. Check your internet connection and <a class=\"alert-link\" href=\"javascript://\" ng-click=\"reload()\">Refresh</a>","WelcomeGreat":"You look great today, {{user}}.","WelcomePopOpen":"Pop open a chat to start the conversation.","Multichat":{"MultichatIsOn":"Multichat is on!","WhenWideEnough":"When your browser is wide enough, GroupMe will display more than one chat at a time. This can be turned off in settings.","Ok":"OK","GoToSettings":"Go to Settings"},"Desktop":{"PrettySweet":"Would you like to enable Desktop Notifications? They're pretty sweet so we think you should.","Enable":"Enable","NoThanks":"No thanks","NoThanks.comment":"Sign in to the app in a private browsing window. The text appears in the banner at the top of the window in screen readers only. Rich content browsers display a 'X' icon in that place","GroupMeNeeds":"GroupMe needs your permission to send you notifications. You will be prompted by your browser to allow.","ShowPrompt":"Show Prompt"}},"Directives":{"GMEditField":{"Edit":"Edit","Submit":"Submit","Cancel":"Cancel"},"GMGroupTopic":{"SetTopic":"Set topic","ChangeTopicButton":"Change Topic","ChangeTopicPlaceholder":"Change topic","LengthCannotExceed":"Topic length cannot exceed 250 characters."},"GMSelectedListInput":{"TypeAName":"Type a name, phone number or email"},"GMBlockButton":{"Block":"Block","Unblock":"Unblock","AreYouSureBlock":"Are you sure you want to block this person?","AreYouSureUnblock":"Are you sure you want to unblock this person?"},"GMEventAttachment":{"TimeRange":"{{start}} - {{end}}","AllDay":"All Day","MutiDayNotAllDayStart":"{{day}} at {{hour}}","MutiDayNotAllDayToEnd":"to {{day}} at {{hour}}","ToDate":"to {{date}}","Going":"Going?","Yes":"Yes","No":"No","ViewEvent":"View Event","EventCancelled":"This event has been canceled."},"GMImageContent":{"ImageHidden":"This image has been hidden.","Hide":"Hide","Meme":"Meme","ShowImage":"show image?","TryAgain":"try again?","Errors":{"UnableToMeme":"We are unable to meme this image.","UnableToLoad":"Unable to load image","UnableToUploadMeme":"We were unable to upload your meme."}},"GMLoadingButton":{"Working":"Working..."},"GMContactsList":{"LoadMore":"load more","Blocked":"Blocked","RelationshipReason":{"MutualGroup":"You have been in a group together","PhoneContact":"In your address book","RequestApproved":"In your address book","TwitterFriends":"You are friends on Twitter","FacebookFriends":"You are friends on Facebook","FoursquareFriends":"You are friends on Foursquare","DirectMessage":"You've shared a direct message together","TayBot":"Chatbot tay.ai/#about"}},"GMRecentContacts":{"Recent":"Recent"}}}});moment.locale("en-US");